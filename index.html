<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <title>astria-geth - go-ethereum fork diff overview</title>

    <link rel="icon" type="image/x-icon" href="">

    <style>
        .line-stat {
            width: 14rem;
            float: right;
        }
        .line-stat div {
            width: 50%;
        }
        .text-add-ignored {
            color: #93ad93;
            font-style: italic;
        }
        .text-delete-ignored {
            color: #c47777;
            font-style: italic;
        }
        .toplevelstat {
            margin-left: 0 !important;
            width: 15rem;
        }
    </style>


    <style>
        .term-container {
            background: #171717;
            border-radius: 5px;
            color: white;
            word-break: break-word;
            overflow-wrap: break-word;
            font-family: "SFMono-Regular", Monaco, Menlo, Consolas, "Liberation Mono", Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            padding: 14px 18px;
            white-space: pre-wrap;
        }

        .term-container img { max-width: 100%; }

        .term a { color: inherit; text-decoration: underline; text-decoration-style: dashed; }
        .term a:hover { color: #2882F9 }

        @keyframes blink-animation {
            to {
                visibility: hidden;
            }
        }

        .term-fg1 { } /* don't bold beccause it looks weird */
        .term-fg2 { color: #838887; } /* faint (decreased intensity) - same as gray really */
        .term-fg3 { font-style: italic; } /* italic */
        .term-fg4 { text-decoration: underline; } /* underline */
        .term-fg5 { animation: blink-animation 1s steps(3, start) infinite; } /* blink */
        .term-fg9 { text-decoration: line-through; } /* crossed-out */

        .term-fg30 { color: #666666; } /* black (but we can't use black, so a diff color) */
        .term-fg31 { color: #ff7070; } /* red */
        .term-fg32 { color: #b0f986; } /* green */
        .term-fg33 { color: #c6c502; } /* yellow */
        .term-fg34 { color: #8db7e0; } /* blue */
        .term-fg35 { color: #f271fb; } /* magenta */
        .term-fg36 { color: #6bf7ff; } /* cyan */

        /* high intense colors */
        .term-fgi1 { color: #5ef765; }
        .term-fgi90 { color: #838887; } /* grey */
        .term-fgi91 { color: #ff3333; } /* red */
        .term-fgi92 { color: #00FF00; } /* green */
        .term-fgi93 { color: #fffc67; } /* yellow */
        .term-fgi94 { color: #6871ff; } /* blue */
        .term-fgi95 { color: #ff76ff; } /* magenta */
        .term-fgi96 { color: #60fcff; } /* cyan */

        /* background colors */
        .term-bg40 { background: #676767; } /* grey */
        .term-bg41 { background: #ff4343; } /* red */
        .term-bg42 { background: #99ff5f; } /* green */

        /* custom foreground/background combos for readability */
        .term-fg31.term-bg40 { color: #F8A39F; }

        /* xterm colors */
        .term-fgx16 { color: #000000; }
        .term-fgx17 { color: #00005f; }
        .term-fgx18 { color: #000087; }
        .term-fgx19 { color: #0000af; }
        .term-fgx20 { color: #0000d7; }
        .term-fgx21 { color: #0000ff; }
        .term-fgx22 { color: #005f00; }
        .term-fgx23 { color: #005f5f; }
        .term-fgx24 { color: #005f87; }
        .term-fgx25 { color: #005faf; }
        .term-fgx26 { color: #005fd7; }
        .term-fgx27 { color: #005fff; }
        .term-fgx28 { color: #008700; }
        .term-fgx29 { color: #00875f; }
        .term-fgx30 { color: #008787; }
        .term-fgx31 { color: #0087af; }
        .term-fgx32 { color: #0087d7; }
        .term-fgx33 { color: #0087ff; }
        .term-fgx34 { color: #00af00; }
        .term-fgx35 { color: #00af5f; }
        .term-fgx36 { color: #00af87; }
        .term-fgx37 { color: #00afaf; }
        .term-fgx38 { color: #00afd7; }
        .term-fgx39 { color: #00afff; }
        .term-fgx40 { color: #00d700; }
        .term-fgx41 { color: #00d75f; }
        .term-fgx42 { color: #00d787; }
        .term-fgx43 { color: #00d7af; }
        .term-fgx44 { color: #00d7d7; }
        .term-fgx45 { color: #00d7ff; }
        .term-fgx46 { color: #00ff00; }
        .term-fgx47 { color: #00ff5f; }
        .term-fgx48 { color: #00ff87; }
        .term-fgx49 { color: #00ffaf; }
        .term-fgx50 { color: #00ffd7; }
        .term-fgx51 { color: #00ffff; }
        .term-fgx52 { color: #5f0000; }
        .term-fgx53 { color: #5f005f; }
        .term-fgx54 { color: #5f0087; }
        .term-fgx55 { color: #5f00af; }
        .term-fgx56 { color: #5f00d7; }
        .term-fgx57 { color: #5f00ff; }
        .term-fgx58 { color: #5f5f00; }
        .term-fgx59 { color: #5f5f5f; }
        .term-fgx60 { color: #5f5f87; }
        .term-fgx61 { color: #5f5faf; }
        .term-fgx62 { color: #5f5fd7; }
        .term-fgx63 { color: #5f5fff; }
        .term-fgx64 { color: #5f8700; }
        .term-fgx65 { color: #5f875f; }
        .term-fgx66 { color: #5f8787; }
        .term-fgx67 { color: #5f87af; }
        .term-fgx68 { color: #5f87d7; }
        .term-fgx69 { color: #5f87ff; }
        .term-fgx70 { color: #5faf00; }
        .term-fgx71 { color: #5faf5f; }
        .term-fgx72 { color: #5faf87; }
        .term-fgx73 { color: #5fafaf; }
        .term-fgx74 { color: #5fafd7; }
        .term-fgx75 { color: #5fafff; }
        .term-fgx76 { color: #5fd700; }
        .term-fgx77 { color: #5fd75f; }
        .term-fgx78 { color: #5fd787; }
        .term-fgx79 { color: #5fd7af; }
        .term-fgx80 { color: #5fd7d7; }
        .term-fgx81 { color: #5fd7ff; }
        .term-fgx82 { color: #5fff00; }
        .term-fgx83 { color: #5fff5f; }
        .term-fgx84 { color: #5fff87; }
        .term-fgx85 { color: #5fffaf; }
        .term-fgx86 { color: #5fffd7; }
        .term-fgx87 { color: #5fffff; }
        .term-fgx88 { color: #870000; }
        .term-fgx89 { color: #87005f; }
        .term-fgx90 { color: #870087; }
        .term-fgx91 { color: #8700af; }
        .term-fgx92 { color: #8700d7; }
        .term-fgx93 { color: #8700ff; }
        .term-fgx94 { color: #875f00; }
        .term-fgx95 { color: #875f5f; }
        .term-fgx96 { color: #875f87; }
        .term-fgx97 { color: #875faf; }
        .term-fgx98 { color: #875fd7; }
        .term-fgx99 { color: #875fff; }
        .term-fgx100 { color: #878700; }
        .term-fgx101 { color: #87875f; }
        .term-fgx102 { color: #878787; }
        .term-fgx103 { color: #8787af; }
        .term-fgx104 { color: #8787d7; }
        .term-fgx105 { color: #8787ff; }
        .term-fgx106 { color: #87af00; }
        .term-fgx107 { color: #87af5f; }
        .term-fgx108 { color: #87af87; }
        .term-fgx109 { color: #87afaf; }
        .term-fgx110 { color: #87afd7; }
        .term-fgx111 { color: #87afff; }
        .term-fgx112 { color: #87d700; }
        .term-fgx113 { color: #87d75f; }
        .term-fgx114 { color: #87d787; }
        .term-fgx115 { color: #87d7af; }
        .term-fgx116 { color: #87d7d7; }
        .term-fgx117 { color: #87d7ff; }
        .term-fgx118 { color: #87ff00; }
        .term-fgx119 { color: #87ff5f; }
        .term-fgx120 { color: #87ff87; }
        .term-fgx121 { color: #87ffaf; }
        .term-fgx122 { color: #87ffd7; }
        .term-fgx123 { color: #87ffff; }
        .term-fgx124 { color: #af0000; }
        .term-fgx125 { color: #af005f; }
        .term-fgx126 { color: #af0087; }
        .term-fgx127 { color: #af00af; }
        .term-fgx128 { color: #af00d7; }
        .term-fgx129 { color: #af00ff; }
        .term-fgx130 { color: #af5f00; }
        .term-fgx131 { color: #af5f5f; }
        .term-fgx132 { color: #af5f87; }
        .term-fgx133 { color: #af5faf; }
        .term-fgx134 { color: #af5fd7; }
        .term-fgx135 { color: #af5fff; }
        .term-fgx136 { color: #af8700; }
        .term-fgx137 { color: #af875f; }
        .term-fgx138 { color: #af8787; }
        .term-fgx139 { color: #af87af; }
        .term-fgx140 { color: #af87d7; }
        .term-fgx141 { color: #af87ff; }
        .term-fgx142 { color: #afaf00; }
        .term-fgx143 { color: #afaf5f; }
        .term-fgx144 { color: #afaf87; }
        .term-fgx145 { color: #afafaf; }
        .term-fgx146 { color: #afafd7; }
        .term-fgx147 { color: #afafff; }
        .term-fgx148 { color: #afd700; }
        .term-fgx149 { color: #afd75f; }
        .term-fgx150 { color: #afd787; }
        .term-fgx151 { color: #afd7af; }
        .term-fgx152 { color: #afd7d7; }
        .term-fgx153 { color: #afd7ff; }
        .term-fgx154 { color: #afff00; }
        .term-fgx155 { color: #afff5f; }
        .term-fgx156 { color: #afff87; }
        .term-fgx157 { color: #afffaf; }
        .term-fgx158 { color: #afffd7; }
        .term-fgx159 { color: #afffff; }
        .term-fgx160 { color: #d70000; }
        .term-fgx161 { color: #d7005f; }
        .term-fgx162 { color: #d70087; }
        .term-fgx163 { color: #d700af; }
        .term-fgx164 { color: #d700d7; }
        .term-fgx165 { color: #d700ff; }
        .term-fgx166 { color: #d75f00; }
        .term-fgx167 { color: #d75f5f; }
        .term-fgx168 { color: #d75f87; }
        .term-fgx169 { color: #d75faf; }
        .term-fgx170 { color: #d75fd7; }
        .term-fgx171 { color: #d75fff; }
        .term-fgx172 { color: #d78700; }
        .term-fgx173 { color: #d7875f; }
        .term-fgx174 { color: #d78787; }
        .term-fgx175 { color: #d787af; }
        .term-fgx176 { color: #d787d7; }
        .term-fgx177 { color: #d787ff; }
        .term-fgx178 { color: #d7af00; }
        .term-fgx179 { color: #d7af5f; }
        .term-fgx180 { color: #d7af87; }
        .term-fgx181 { color: #d7afaf; }
        .term-fgx182 { color: #d7afd7; }
        .term-fgx183 { color: #d7afff; }
        .term-fgx184 { color: #d7d700; }
        .term-fgx185 { color: #d7d75f; }
        .term-fgx186 { color: #d7d787; }
        .term-fgx187 { color: #d7d7af; }
        .term-fgx188 { color: #d7d7d7; }
        .term-fgx189 { color: #d7d7ff; }
        .term-fgx190 { color: #d7ff00; }
        .term-fgx191 { color: #d7ff5f; }
        .term-fgx192 { color: #d7ff87; }
        .term-fgx193 { color: #d7ffaf; }
        .term-fgx194 { color: #d7ffd7; }
        .term-fgx195 { color: #d7ffff; }
        .term-fgx196 { color: #ff0000; }
        .term-fgx197 { color: #ff005f; }
        .term-fgx198 { color: #ff0087; }
        .term-fgx199 { color: #ff00af; }
        .term-fgx200 { color: #ff00d7; }
        .term-fgx201 { color: #ff00ff; }
        .term-fgx202 { color: #ff5f00; }
        .term-fgx203 { color: #ff5f5f; }
        .term-fgx204 { color: #ff5f87; }
        .term-fgx205 { color: #ff5faf; }
        .term-fgx206 { color: #ff5fd7; }
        .term-fgx207 { color: #ff5fff; }
        .term-fgx208 { color: #ff8700; }
        .term-fgx209 { color: #ff875f; }
        .term-fgx210 { color: #ff8787; }
        .term-fgx211 { color: #ff87af; }
        .term-fgx212 { color: #ff87d7; }
        .term-fgx213 { color: #ff87ff; }
        .term-fgx214 { color: #ffaf00; }
        .term-fgx215 { color: #ffaf5f; }
        .term-fgx216 { color: #ffaf87; }
        .term-fgx217 { color: #ffafaf; }
        .term-fgx218 { color: #ffafd7; }
        .term-fgx219 { color: #ffafff; }
        .term-fgx220 { color: #ffd700; }
        .term-fgx221 { color: #ffd75f; }
        .term-fgx222 { color: #ffd787; }
        .term-fgx223 { color: #ffd7af; }
        .term-fgx224 { color: #ffd7d7; }
        .term-fgx225 { color: #ffd7ff; }
        .term-fgx226 { color: #ffff00; }
        .term-fgx227 { color: #ffff5f; }
        .term-fgx228 { color: #ffff87; }
        .term-fgx229 { color: #ffffaf; }
        .term-fgx230 { color: #ffffd7; }
        .term-fgx231 { color: #ffffff; }
        .term-fgx232 { color: #080808; }
        .term-fgx233 { color: #121212; }
        .term-fgx234 { color: #1c1c1c; }
        .term-fgx235 { color: #262626; }
        .term-fgx236 { color: #303030; }
        .term-fgx237 { color: #3a3a3a; }
        .term-fgx238 { color: #444444; }
        .term-fgx239 { color: #4e4e4e; }
        .term-fgx240 { color: #585858; }
        .term-fgx241 { color: #626262; }
        .term-fgx242 { color: #6c6c6c; }
        .term-fgx243 { color: #767676; }
        .term-fgx244 { color: #808080; }
        .term-fgx245 { color: #8a8a8a; }
        .term-fgx246 { color: #949494; }
        .term-fgx247 { color: #9e9e9e; }
        .term-fgx248 { color: #a8a8a8; }
        .term-fgx249 { color: #b2b2b2; }
        .term-fgx250 { color: #bcbcbc; }
        .term-fgx251 { color: #c6c6c6; }
        .term-fgx252 { color: #d0d0d0; }
        .term-fgx253 { color: #dadada; }
        .term-fgx254 { color: #e4e4e4; }
        .term-fgx255 { color: #eeeeee; }
    </style>

</head>
<body>
<div class="col-xl-10 col-xxl-8 mx-auto px-3 py-1 py-md-3">
    <main class="container-fluid">
        <div class="row">
            <div>
                <div class="float-end">
                    <div class="form-check form-switch">
                        <i class="bi bi-brightness-low" id="dark-mode-icon"></i>
                        <input class="form-check-input" type="checkbox" role="switch" id="dark-mode-toggle" data-bs-toggle="tooltip"
                               data-bs-placement="bottom" data-bs-title="Toggle Dark Mode"/>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"role="button" aria-expanded="true" aria-controls="id-0002ac674ed3bd2dc6657019">

                <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h1>astria-geth</h1></div>


                <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                    <div class="row line-stat">

                        <span class="text-end">diff:</span>


                        <span class="text-end">ignored:</span>

                    </div>
                </div>
                <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 toplevelstat">
                    <div class="row line-stat">

                        <div class="text-end"><span class="text-success">+6539</span></div>
                        <div class="text-start"><span class="text-danger">-2258</span></div>


                        <div class="text-end"><span class="text-add-ignored">+415</span></div>
                        <div class="text-start"><span class="text-delete-ignored">-83</span></div>

                    </div>
                </div>
            </div>

                <div class="row forkdef-content collapse show border-1 ps-3 my-3" id="id-0002ac674ed3bd2dc6657019">
                    <div><p>This is an overview of the changes in <a href="https://github.com/astriaorg/astria-geth"><code>astria-geth</code></a>,
                        a fork of <a href="https://github.com/ethereum/go-ethereum"><code>go-ethereum</code></a>, part of the Astria-stack.</p>

                        <p>The Astria-stack architecture is modular, following the Consensus/Execution split of post-Merge Ethereum L1:
                            - <a href="https://github.com/astriaorg/astria-geth"><code>astria-geth</code></a> implements the Execution-Layer, with <strong>minimal changes</strong> for a secure Ethereum-equivalent application environment.</p>

                        <p>Related <a href="https://github.com/astriaorg/astria/tree/main/specs">astria-stack specifications</a>:</p>
                    </div>
                    <div>


                    </div>
                    <div>

                        <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-12d0265736beccb86d7e27a3"role="button" aria-expanded="false" aria-controls="id-12d0265736beccb86d7e27a3">

                            <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h2>Core modifications</h2></div>


                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                <div class="row line-stat">


                                </div>
                            </div>
                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-success">+4011</span></div>
                                    <div class="text-start"><span class="text-danger">-281</span></div>


                                </div>
                            </div>
                        </div>

                            <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-12d0265736beccb86d7e27a3">
                                <div></div>
                                <div>


                                </div>
                                <div>

                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-152d11e80f818fa9c3dec5ab"role="button" aria-expanded="false" aria-controls="id-152d11e80f818fa9c3dec5ab">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>Execution API</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1660</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-152d11e80f818fa9c3dec5ab">
                                            <div><p>The execution implements the <a href="https://github.com/astriaorg/astria/blob/main/specs/execution-api.md">execution apiֿ</a> of the shared sequencer.
                                                Its procedures will be called from the <a href="https://github.com/astriaorg/astria/blob/main/specs/conductor.md">conductor</a>. It is responsible
                                                for immediately executing lists of ordered transactions that come from the shared sequencer.</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-4c44c3b63fe18c90127e1ef9" role="button"
                                                           aria-expanded="false" aria-controls="id-4c44c3b63fe18c90127e1ef9">
                                                            <code>grpc/README.md</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/grpc/README.md" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+42</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-4c44c3b63fe18c90127e1ef9"><span class="term-fg1">diff --git go-ethereum&#47;grpc&#47;README.md astria-geth&#47;grpc&#47;README.md</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..c5324ca80539447baaf81ca68b108ef248e77d5f</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;grpc&#47;README.md</span>
                                                        <span class="term-fg36">@@ -0,0 +1,42 @@</span>
                                                        <span class="term-fg32">+# Astria Execution gRPC Service</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+This package provides a gRPC server as an entrypoint to the EVM.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+## Build and run from source:</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+See [private_network.md](..&#47;private_network.md) for running a local geth node.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+### Running with remote Docker image:</span>
                                                        <span class="term-fg32">+```bash</span>
                                                        <span class="term-fg32">+docker run --rm \</span>
                                                        <span class="term-fg32">+  -p 8545:8545 -p 30303:30303 -p 50051:50051 \</span>
                                                        <span class="term-fg32">+  ghcr.io&#47;astriaorg&#47;go-ethereum --goerli \</span>
                                                        <span class="term-fg32">+  --grpc --grpc.addr &quot;0.0.0.0&quot; --grpc.port 50051</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+### Local Docker workflow:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+```bash</span>
                                                        <span class="term-fg32">+# build local docker image</span>
                                                        <span class="term-fg32">+docker build \</span>
                                                        <span class="term-fg32">+  --build-arg COMMIT=$(git rev-parse HEAD) \</span>
                                                        <span class="term-fg32">+  --build-arg VERSION=0.1 \</span>
                                                        <span class="term-fg32">+  --build-arg BUILDNUM=1 \</span>
                                                        <span class="term-fg32">+  --tag ghcr.io&#47;astriaorg&#47;go-ethereum:local .</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+# run local docker image</span>
                                                        <span class="term-fg32">+docker run --rm \</span>
                                                        <span class="term-fg32">+  -p 8545:8545 -p 30303:30303 -p 50051:50051 \</span>
                                                        <span class="term-fg32">+  ghcr.io&#47;astriaorg&#47;go-ethereum:local --goerli \</span>
                                                        <span class="term-fg32">+  --grpc --grpc.addr &quot;0.0.0.0&quot; --grpc.port 50051</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+# build and push to remote from local (as opposed to gh action)</span>
                                                        <span class="term-fg32">+docker build \</span>
                                                        <span class="term-fg32">+  --build-arg COMMIT=$(git rev-parse HEAD) \</span>
                                                        <span class="term-fg32">+  --build-arg VERSION=0.1 \</span>
                                                        <span class="term-fg32">+  --build-arg BUILDNUM=1 \</span>
                                                        <span class="term-fg32">+  --tag ghcr.io&#47;astriaorg&#47;go-ethereum:latest .</span>
                                                        <span class="term-fg32">+echo $CR_PAT | docker login ghcr.io -u astriaorg --password-stdin</span>
                                                        <span class="term-fg32">+docker push ghcr.io&#47;astriaorg&#47;go-ethereum:latest</span>
                                                        <span class="term-fg32">+```</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-45a2ab1753ea1eff2fcb93e6" role="button"
                                                           aria-expanded="false" aria-controls="id-45a2ab1753ea1eff2fcb93e6">
                                                            <code>grpc/execution/server.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/grpc/execution/server.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+480</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-45a2ab1753ea1eff2fcb93e6"><span class="term-fg1">diff --git go-ethereum&#47;grpc&#47;execution&#47;server.go astria-geth&#47;grpc&#47;execution&#47;server.go</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..971a4d613da32cbec335f57c67d2b260f371be6e</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;grpc&#47;execution&#47;server.go</span>
                                                        <span class="term-fg36">@@ -0,0 +1,480 @@</span>
                                                        <span class="term-fg32">+&#47;&#47; Package execution provides the gRPC server for the execution layer.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Its procedures will be called from the conductor. It is responsible</span>
                                                        <span class="term-fg32">+&#47;&#47; for immediately executing lists of ordered transactions that come from the shared sequencer.</span>
                                                        <span class="term-fg32">+package execution</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+import (</span>
                                                        <span class="term-fg32">+	&quot;context&quot;</span>
                                                        <span class="term-fg32">+	&quot;crypto&#47;sha256&quot;</span>
                                                        <span class="term-fg32">+	&quot;errors&quot;</span>
                                                        <span class="term-fg32">+	&quot;fmt&quot;</span>
                                                        <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg32">+	&quot;sync&quot;</span>
                                                        <span class="term-fg32">+	&quot;time&quot;</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	astriaGrpc &quot;buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;grpc&#47;go&#47;astria&#47;execution&#47;v1&#47;executionv1grpc&quot;</span>
                                                        <span class="term-fg32">+	astriaPb &quot;buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;protocolbuffers&#47;go&#47;astria&#47;execution&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	primitivev1 &quot;buf.build&#47;gen&#47;go&#47;astria&#47;primitives&#47;protocolbuffers&#47;go&#47;astria&#47;primitive&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;beacon&#47;engine&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;log&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;metrics&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;miner&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;</span>
                                                        <span class="term-fg32">+	codes &quot;google.golang.org&#47;grpc&#47;codes&quot;</span>
                                                        <span class="term-fg32">+	status &quot;google.golang.org&#47;grpc&#47;status&quot;</span>
                                                        <span class="term-fg32">+	&quot;google.golang.org&#47;protobuf&#47;types&#47;known&#47;timestamppb&quot;</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; ExecutionServiceServerV1 is the implementation of the</span>
                                                        <span class="term-fg32">+&#47;&#47; ExecutionServiceServer interface.</span>
                                                        <span class="term-fg32">+type ExecutionServiceServerV1 struct {</span>
                                                        <span class="term-fg32">+	&#47;&#47; NOTE - from the generated code: All implementations must embed</span>
                                                        <span class="term-fg32">+	&#47;&#47; UnimplementedExecutionServiceServer for forward compatibility</span>
                                                        <span class="term-fg32">+	astriaGrpc.UnimplementedExecutionServiceServer</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	eth *eth.Ethereum</span>
                                                        <span class="term-fg32">+	bc  *core.BlockChain</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	commitmentUpdateLock sync.Mutex &#47;&#47; Lock for the forkChoiceUpdated method</span>
                                                        <span class="term-fg32">+	blockExecutionLock   sync.Mutex &#47;&#47; Lock for the NewPayload method</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	genesisInfoCalled        bool</span>
                                                        <span class="term-fg32">+	getCommitmentStateCalled bool</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	bridgeAddresses     map[string]*params.AstriaBridgeAddressConfig &#47;&#47; astria bridge addess to config for that bridge account</span>
                                                        <span class="term-fg32">+	bridgeAllowedAssets map[string]struct{}                          &#47;&#47; a set of allowed asset IDs structs are left empty</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	nextFeeRecipient common.Address &#47;&#47; Fee recipient for the next block</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+var (</span>
                                                        <span class="term-fg32">+	getGenesisInfoRequestCount        = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;get_genesis_info_requests&quot;, nil)</span>
                                                        <span class="term-fg32">+	getGenesisInfoSuccessCount        = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;get_genesis_info_success&quot;, nil)</span>
                                                        <span class="term-fg32">+	getBlockRequestCount              = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;get_block_requests&quot;, nil)</span>
                                                        <span class="term-fg32">+	getBlockSuccessCount              = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;get_block_success&quot;, nil)</span>
                                                        <span class="term-fg32">+	batchGetBlockRequestCount         = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;batch_get_block_requests&quot;, nil)</span>
                                                        <span class="term-fg32">+	batchGetBlockSuccessCount         = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;batch_get_block_success&quot;, nil)</span>
                                                        <span class="term-fg32">+	executeBlockRequestCount          = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;execute_block_requests&quot;, nil)</span>
                                                        <span class="term-fg32">+	executeBlockSuccessCount          = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;execute_block_success&quot;, nil)</span>
                                                        <span class="term-fg32">+	getCommitmentStateRequestCount    = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;get_commitment_state_requests&quot;, nil)</span>
                                                        <span class="term-fg32">+	getCommitmentStateSuccessCount    = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;get_commitment_state_success&quot;, nil)</span>
                                                        <span class="term-fg32">+	updateCommitmentStateRequestCount = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;update_commitment_state_requests&quot;, nil)</span>
                                                        <span class="term-fg32">+	updateCommitmentStateSuccessCount = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;update_commitment_state_success&quot;, nil)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	softCommitmentHeight = metrics.GetOrRegisterGauge(&quot;astria&#47;execution&#47;soft_commitment_height&quot;, nil)</span>
                                                        <span class="term-fg32">+	firmCommitmentHeight = metrics.GetOrRegisterGauge(&quot;astria&#47;execution&#47;firm_commitment_height&quot;, nil)</span>
                                                        <span class="term-fg32">+	totalExecutedTxCount = metrics.GetOrRegisterCounter(&quot;astria&#47;execution&#47;total_executed_tx&quot;, nil)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	executeBlockTimer          = metrics.GetOrRegisterTimer(&quot;astria&#47;execution&#47;execute_block_time&quot;, nil)</span>
                                                        <span class="term-fg32">+	commitmentStateUpdateTimer = metrics.GetOrRegisterTimer(&quot;astria&#47;execution&#47;commitment&quot;, nil)</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func NewExecutionServiceServerV1(eth *eth.Ethereum) (*ExecutionServiceServerV1, error) {</span>
                                                        <span class="term-fg32">+	bc := eth.BlockChain()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if bc.Config().AstriaRollupName == &quot;&quot; {</span>
                                                        <span class="term-fg32">+		return nil, errors.New(&quot;rollup name not set&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if bc.Config().AstriaSequencerInitialHeight == 0 {</span>
                                                        <span class="term-fg32">+		return nil, errors.New(&quot;sequencer initial height not set&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if bc.Config().AstriaCelestiaInitialHeight == 0 {</span>
                                                        <span class="term-fg32">+		return nil, errors.New(&quot;celestia initial height not set&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if bc.Config().AstriaCelestiaHeightVariance == 0 {</span>
                                                        <span class="term-fg32">+		return nil, errors.New(&quot;celestia height variance not set&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	bridgeAddresses := make(map[string]*params.AstriaBridgeAddressConfig)</span>
                                                        <span class="term-fg32">+	bridgeAllowedAssets := make(map[string]struct{})</span>
                                                        <span class="term-fg32">+	if bc.Config().AstriaBridgeAddressConfigs == nil {</span>
                                                        <span class="term-fg32">+		log.Warn(&quot;bridge addresses not set&quot;)</span>
                                                        <span class="term-fg32">+	} else {</span>
                                                        <span class="term-fg32">+		nativeBridgeSeen := false</span>
                                                        <span class="term-fg32">+		for _, cfg := range bc.Config().AstriaBridgeAddressConfigs {</span>
                                                        <span class="term-fg32">+			err := cfg.Validate(bc.Config().AstriaSequencerAddressPrefix)</span>
                                                        <span class="term-fg32">+			if err != nil {</span>
                                                        <span class="term-fg32">+				return nil, fmt.Errorf(&quot;invalid bridge address config: %w&quot;, err)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			if cfg.Erc20Asset == nil {</span>
                                                        <span class="term-fg32">+				if nativeBridgeSeen {</span>
                                                        <span class="term-fg32">+					return nil, errors.New(&quot;only one native bridge address is allowed&quot;)</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				nativeBridgeSeen = true</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			if cfg.Erc20Asset != nil &amp;&amp; cfg.SenderAddress == (common.Address{}) {</span>
                                                        <span class="term-fg32">+				return nil, errors.New(&quot;astria bridge sender address must be set for bridged ERC20 assets&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			bridgeCfg := cfg</span>
                                                        <span class="term-fg32">+			bridgeAddresses[cfg.BridgeAddress] = &amp;bridgeCfg</span>
                                                        <span class="term-fg32">+			bridgeAllowedAssets[cfg.AssetDenom] = struct{}{}</span>
                                                        <span class="term-fg32">+			if cfg.Erc20Asset == nil {</span>
                                                        <span class="term-fg32">+				log.Info(&quot;bridge for sequencer native asset initialized&quot;, &quot;bridgeAddress&quot;, cfg.BridgeAddress, &quot;assetDenom&quot;, cfg.AssetDenom)</span>
                                                        <span class="term-fg32">+			} else {</span>
                                                        <span class="term-fg32">+				log.Info(&quot;bridge for ERC20 asset initialized&quot;, &quot;bridgeAddress&quot;, cfg.BridgeAddress, &quot;assetDenom&quot;, cfg.AssetDenom, &quot;contractAddress&quot;, cfg.Erc20Asset.ContractAddress)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; To decrease compute cost, we identify the next fee recipient at the start</span>
                                                        <span class="term-fg32">+	&#47;&#47; and update it as we execute blocks.</span>
                                                        <span class="term-fg32">+	nextFeeRecipient := common.Address{}</span>
                                                        <span class="term-fg32">+	if bc.Config().AstriaFeeCollectors == nil {</span>
                                                        <span class="term-fg32">+		log.Warn(&quot;fee asset collectors not set, assets will be burned&quot;)</span>
                                                        <span class="term-fg32">+	} else {</span>
                                                        <span class="term-fg32">+		maxHeightCollectorMatch := uint32(0)</span>
                                                        <span class="term-fg32">+		nextBlock := uint32(bc.CurrentBlock().Number.Int64()) + 1</span>
                                                        <span class="term-fg32">+		for height, collector := range bc.Config().AstriaFeeCollectors {</span>
                                                        <span class="term-fg32">+			if height &lt;= nextBlock &amp;&amp; height &gt; maxHeightCollectorMatch {</span>
                                                        <span class="term-fg32">+				maxHeightCollectorMatch = height</span>
                                                        <span class="term-fg32">+				nextFeeRecipient = collector</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return &amp;ExecutionServiceServerV1{</span>
                                                        <span class="term-fg32">+		eth:                 eth,</span>
                                                        <span class="term-fg32">+		bc:                  bc,</span>
                                                        <span class="term-fg32">+		bridgeAddresses:     bridgeAddresses,</span>
                                                        <span class="term-fg32">+		bridgeAllowedAssets: bridgeAllowedAssets,</span>
                                                        <span class="term-fg32">+		nextFeeRecipient:    nextFeeRecipient,</span>
                                                        <span class="term-fg32">+	}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (s *ExecutionServiceServerV1) GetGenesisInfo(ctx context.Context, req *astriaPb.GetGenesisInfoRequest) (*astriaPb.GenesisInfo, error) {</span>
                                                        <span class="term-fg32">+	log.Debug(&quot;GetGenesisInfo called&quot;)</span>
                                                        <span class="term-fg32">+	getGenesisInfoRequestCount.Inc(1)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	rollupHash := sha256.Sum256([]byte(s.bc.Config().AstriaRollupName))</span>
                                                        <span class="term-fg32">+	rollupId := primitivev1.RollupId{Inner: rollupHash[:]}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	res := &amp;astriaPb.GenesisInfo{</span>
                                                        <span class="term-fg32">+		RollupId:                    &amp;rollupId,</span>
                                                        <span class="term-fg32">+		SequencerGenesisBlockHeight: s.bc.Config().AstriaSequencerInitialHeight,</span>
                                                        <span class="term-fg32">+		CelestiaBlockVariance:       s.bc.Config().AstriaCelestiaHeightVariance,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Info(&quot;GetGenesisInfo completed&quot;, &quot;response&quot;, res)</span>
                                                        <span class="term-fg32">+	getGenesisInfoSuccessCount.Inc(1)</span>
                                                        <span class="term-fg32">+	s.genesisInfoCalled = true</span>
                                                        <span class="term-fg32">+	return res, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; GetBlock will return a block given an identifier.</span>
                                                        <span class="term-fg32">+func (s *ExecutionServiceServerV1) GetBlock(ctx context.Context, req *astriaPb.GetBlockRequest) (*astriaPb.Block, error) {</span>
                                                        <span class="term-fg32">+	if req.GetIdentifier() == nil {</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, &quot;identifier cannot be empty&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Debug(&quot;GetBlock called&quot;, &quot;request&quot;, req)</span>
                                                        <span class="term-fg32">+	getBlockRequestCount.Inc(1)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	res, err := s.getBlockFromIdentifier(req.GetIdentifier())</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;failed finding block&quot;, err)</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Debug(&quot;GetBlock completed&quot;, &quot;request&quot;, req, &quot;response&quot;, res)</span>
                                                        <span class="term-fg32">+	getBlockSuccessCount.Inc(1)</span>
                                                        <span class="term-fg32">+	return res, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BatchGetBlocks will return an array of Blocks given an array of block</span>
                                                        <span class="term-fg32">+&#47;&#47; identifiers.</span>
                                                        <span class="term-fg32">+func (s *ExecutionServiceServerV1) BatchGetBlocks(ctx context.Context, req *astriaPb.BatchGetBlocksRequest) (*astriaPb.BatchGetBlocksResponse, error) {</span>
                                                        <span class="term-fg32">+	if req.Identifiers == nil || len(req.Identifiers) == 0 {</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, &quot;identifiers cannot be empty&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	batchGetBlockRequestCount.Inc(1)</span>
                                                        <span class="term-fg32">+	log.Debug(&quot;BatchGetBlocks called&quot;, &quot;num blocks requested&quot;, len(req.Identifiers))</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var blocks []*astriaPb.Block</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	ids := req.GetIdentifiers()</span>
                                                        <span class="term-fg32">+	for _, id := range ids {</span>
                                                        <span class="term-fg32">+		block, err := s.getBlockFromIdentifier(id)</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			log.Error(&quot;failed finding block with id&quot;, id, &quot;error&quot;, err)</span>
                                                        <span class="term-fg32">+			return nil, err</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		blocks = append(blocks, block)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	res := &amp;astriaPb.BatchGetBlocksResponse{</span>
                                                        <span class="term-fg32">+		Blocks: blocks,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Info(&quot;BatchGetBlocks completed&quot;)</span>
                                                        <span class="term-fg32">+	batchGetBlockSuccessCount.Inc(1)</span>
                                                        <span class="term-fg32">+	return res, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func protoU128ToBigInt(u128 *primitivev1.Uint128) *big.Int {</span>
                                                        <span class="term-fg32">+	lo := big.NewInt(0).SetUint64(u128.Lo)</span>
                                                        <span class="term-fg32">+	hi := big.NewInt(0).SetUint64(u128.Hi)</span>
                                                        <span class="term-fg32">+	hi.Lsh(hi, 64)</span>
                                                        <span class="term-fg32">+	return lo.Add(lo, hi)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; ExecuteBlock drives deterministic derivation of a rollup block from sequencer</span>
                                                        <span class="term-fg32">+&#47;&#47; block data</span>
                                                        <span class="term-fg32">+func (s *ExecutionServiceServerV1) ExecuteBlock(ctx context.Context, req *astriaPb.ExecuteBlockRequest) (*astriaPb.Block, error) {</span>
                                                        <span class="term-fg32">+	if err := validateStaticExecuteBlockRequest(req); err != nil {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;ExecuteBlock called with invalid ExecuteBlockRequest&quot;, &quot;err&quot;, err)</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, &quot;ExecuteBlockRequest is invalid&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	log.Debug(&quot;ExecuteBlock called&quot;, &quot;prevBlockHash&quot;, common.BytesToHash(req.PrevBlockHash), &quot;tx_count&quot;, len(req.Transactions), &quot;timestamp&quot;, req.Timestamp)</span>
                                                        <span class="term-fg32">+	executeBlockRequestCount.Inc(1)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	s.blockExecutionLock.Lock()</span>
                                                        <span class="term-fg32">+	defer s.blockExecutionLock.Unlock()</span>
                                                        <span class="term-fg32">+	&#47;&#47; Deliberately called after lock, to more directly measure the time spent executing</span>
                                                        <span class="term-fg32">+	executionStart := time.Now()</span>
                                                        <span class="term-fg32">+	defer executeBlockTimer.UpdateSince(executionStart)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if !s.syncMethodsCalled() {</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.PermissionDenied, &quot;Cannot execute block until GetGenesisInfo &amp;&amp; GetCommitmentState methods are called&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Validate block being created has valid previous hash</span>
                                                        <span class="term-fg32">+	prevHeadHash := common.BytesToHash(req.PrevBlockHash)</span>
                                                        <span class="term-fg32">+	softHash := s.bc.CurrentSafeBlock().Hash()</span>
                                                        <span class="term-fg32">+	if prevHeadHash != softHash {</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.FailedPrecondition, &quot;Block can only be created on top of soft block.&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; the height that this block will be at</span>
                                                        <span class="term-fg32">+	height := s.bc.CurrentBlock().Number.Uint64() + 1</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	txsToProcess := types.Transactions{}</span>
                                                        <span class="term-fg32">+	for _, tx := range req.Transactions {</span>
                                                        <span class="term-fg32">+		unmarshalledTx, err := validateAndUnmarshalSequencerTx(height, tx, s.bridgeAddresses, s.bridgeAllowedAssets)</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			log.Debug(&quot;failed to validate sequencer tx, ignoring&quot;, &quot;tx&quot;, tx, &quot;err&quot;, err)</span>
                                                        <span class="term-fg32">+			continue</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		txsToProcess = append(txsToProcess, unmarshalledTx)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; This set of ordered TXs on the TxPool is has been configured to be used by</span>
                                                        <span class="term-fg32">+	&#47;&#47; the Miner when building a payload.</span>
                                                        <span class="term-fg32">+	s.eth.TxPool().SetAstriaOrdered(txsToProcess)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Build a payload to add to the chain</span>
                                                        <span class="term-fg32">+	payloadAttributes := &amp;miner.BuildPayloadArgs{</span>
                                                        <span class="term-fg32">+		Parent:       prevHeadHash,</span>
                                                        <span class="term-fg32">+		Timestamp:    uint64(req.GetTimestamp().GetSeconds()),</span>
                                                        <span class="term-fg32">+		Random:       common.Hash{},</span>
                                                        <span class="term-fg32">+		FeeRecipient: s.nextFeeRecipient,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	payload, err := s.eth.Miner().BuildPayload(payloadAttributes)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;failed to build payload&quot;, &quot;err&quot;, err)</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, &quot;Could not build block with provided txs&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; call blockchain.InsertChain to actually execute and write the blocks to</span>
                                                        <span class="term-fg32">+	&#47;&#47; state</span>
                                                        <span class="term-fg32">+	block, err := engine.ExecutableDataToBlock(*payload.Resolve().ExecutionPayload, nil, nil)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;failed to convert executable data to block&quot;, err)</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.Internal, &quot;failed to execute block&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	err = s.bc.InsertBlockWithoutSetHead(block)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;failed to insert block to chain&quot;, &quot;hash&quot;, block.Hash(), &quot;prevHash&quot;, req.PrevBlockHash, &quot;err&quot;, err)</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.Internal, &quot;failed to insert block to chain&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; remove txs from original mempool</span>
                                                        <span class="term-fg32">+	s.eth.TxPool().ClearAstriaOrdered()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	res := &amp;astriaPb.Block{</span>
                                                        <span class="term-fg32">+		Number:          uint32(block.NumberU64()),</span>
                                                        <span class="term-fg32">+		Hash:            block.Hash().Bytes(),</span>
                                                        <span class="term-fg32">+		ParentBlockHash: block.ParentHash().Bytes(),</span>
                                                        <span class="term-fg32">+		Timestamp: &amp;timestamppb.Timestamp{</span>
                                                        <span class="term-fg32">+			Seconds: int64(block.Time()),</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if next, ok := s.bc.Config().AstriaFeeCollectors[res.Number+1]; ok {</span>
                                                        <span class="term-fg32">+		s.nextFeeRecipient = next</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Info(&quot;ExecuteBlock completed&quot;, &quot;block_num&quot;, res.Number, &quot;timestamp&quot;, res.Timestamp)</span>
                                                        <span class="term-fg32">+	totalExecutedTxCount.Inc(int64(len(block.Transactions())))</span>
                                                        <span class="term-fg32">+	executeBlockSuccessCount.Inc(1)</span>
                                                        <span class="term-fg32">+	return res, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; GetCommitmentState fetches the current CommitmentState of the chain.</span>
                                                        <span class="term-fg32">+func (s *ExecutionServiceServerV1) GetCommitmentState(ctx context.Context, req *astriaPb.GetCommitmentStateRequest) (*astriaPb.CommitmentState, error) {</span>
                                                        <span class="term-fg32">+	log.Info(&quot;GetCommitmentState called&quot;)</span>
                                                        <span class="term-fg32">+	getCommitmentStateRequestCount.Inc(1)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	softBlock, err := ethHeaderToExecutionBlock(s.bc.CurrentSafeBlock())</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;error finding safe block&quot;, err)</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.Internal, &quot;could not locate soft block&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	firmBlock, err := ethHeaderToExecutionBlock(s.bc.CurrentFinalBlock())</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;error finding final block&quot;, err)</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.Internal, &quot;could not locate firm block&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	celestiaBlock := s.bc.CurrentBaseCelestiaHeight()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	res := &amp;astriaPb.CommitmentState{</span>
                                                        <span class="term-fg32">+		Soft:               softBlock,</span>
                                                        <span class="term-fg32">+		Firm:               firmBlock,</span>
                                                        <span class="term-fg32">+		BaseCelestiaHeight: celestiaBlock,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Info(&quot;GetCommitmentState completed&quot;, &quot;soft_height&quot;, res.Soft.Number, &quot;firm_height&quot;, res.Firm.Number, &quot;base_celestia_height&quot;, res.BaseCelestiaHeight)</span>
                                                        <span class="term-fg32">+	getCommitmentStateSuccessCount.Inc(1)</span>
                                                        <span class="term-fg32">+	s.getCommitmentStateCalled = true</span>
                                                        <span class="term-fg32">+	return res, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; UpdateCommitmentState replaces the whole CommitmentState with a new</span>
                                                        <span class="term-fg32">+&#47;&#47; CommitmentState.</span>
                                                        <span class="term-fg32">+func (s *ExecutionServiceServerV1) UpdateCommitmentState(ctx context.Context, req *astriaPb.UpdateCommitmentStateRequest) (*astriaPb.CommitmentState, error) {</span>
                                                        <span class="term-fg32">+	if err := validateStaticCommitmentState(req.CommitmentState); err != nil {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;UpdateCommitmentState called with invalid CommitmentState&quot;, &quot;err&quot;, err)</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, &quot;CommitmentState is invalid&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Debug(&quot;UpdateCommitmentState called&quot;, &quot;request_soft_height&quot;, req.CommitmentState.Soft.Number, &quot;request_firm_height&quot;, req.CommitmentState.Firm.Number)</span>
                                                        <span class="term-fg32">+	updateCommitmentStateRequestCount.Inc(1)</span>
                                                        <span class="term-fg32">+	commitmentUpdateStart := time.Now()</span>
                                                        <span class="term-fg32">+	defer commitmentStateUpdateTimer.UpdateSince(commitmentUpdateStart)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	s.commitmentUpdateLock.Lock()</span>
                                                        <span class="term-fg32">+	defer s.commitmentUpdateLock.Unlock()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if !s.syncMethodsCalled() {</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.PermissionDenied, &quot;Cannot update commitment state until GetGenesisInfo &amp;&amp; GetCommitmentState methods are called&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if s.bc.CurrentBaseCelestiaHeight() &gt; req.CommitmentState.BaseCelestiaHeight {</span>
                                                        <span class="term-fg32">+		errStr := fmt.Sprintf(&quot;Base Celestia height cannot be decreased, current_base_celestia_height: %d, new_base_celestia_height: %d&quot;, s.bc.CurrentBaseCelestiaHeight(), req.CommitmentState.BaseCelestiaHeight)</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, errStr)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	softEthHash := common.BytesToHash(req.CommitmentState.Soft.Hash)</span>
                                                        <span class="term-fg32">+	firmEthHash := common.BytesToHash(req.CommitmentState.Firm.Hash)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Validate that the firm and soft blocks exist before going further</span>
                                                        <span class="term-fg32">+	softBlock := s.bc.GetBlockByHash(softEthHash)</span>
                                                        <span class="term-fg32">+	if softBlock == nil {</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, &quot;Soft block specified does not exist&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	firmBlock := s.bc.GetBlockByHash(firmEthHash)</span>
                                                        <span class="term-fg32">+	if firmBlock == nil {</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, &quot;Firm block specified does not exist&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	currentHead := s.bc.CurrentBlock().Hash()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Update the canonical chain to soft block. We must do this before last</span>
                                                        <span class="term-fg32">+	&#47;&#47; validation step since there is no way to check if firm block descends from</span>
                                                        <span class="term-fg32">+	&#47;&#47; anything but the canonical chain</span>
                                                        <span class="term-fg32">+	if currentHead != softEthHash {</span>
                                                        <span class="term-fg32">+		if _, err := s.bc.SetCanonical(softBlock); err != nil {</span>
                                                        <span class="term-fg32">+			log.Error(&quot;failed updating canonical chain to soft block&quot;, err)</span>
                                                        <span class="term-fg32">+			return nil, status.Error(codes.Internal, &quot;Could not update head to safe hash&quot;)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Once head is updated validate that firm belongs to chain</span>
                                                        <span class="term-fg32">+	rollbackBlock := s.bc.GetBlockByHash(currentHead)</span>
                                                        <span class="term-fg32">+	if s.bc.GetCanonicalHash(firmBlock.NumberU64()) != firmEthHash {</span>
                                                        <span class="term-fg32">+		log.Error(&quot;firm block not found in canonical chain defined by soft block, rolling back&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		if _, err := s.bc.SetCanonical(rollbackBlock); err != nil {</span>
                                                        <span class="term-fg32">+			panic(&quot;rollback to previous head after failed validation failed&quot;)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.InvalidArgument, &quot;soft block in request is not a descendant of the current firmly committed block&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	s.eth.SetSynced()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Updating the safe and final after everything validated</span>
                                                        <span class="term-fg32">+	currentSafe := s.bc.CurrentSafeBlock().Hash()</span>
                                                        <span class="term-fg32">+	if currentSafe != softEthHash {</span>
                                                        <span class="term-fg32">+		s.bc.SetSafe(softBlock.Header())</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	currentFirm := s.bc.CurrentFinalBlock().Hash()</span>
                                                        <span class="term-fg32">+	if currentFirm != firmEthHash {</span>
                                                        <span class="term-fg32">+		s.bc.SetCelestiaFinalized(firmBlock.Header(), req.CommitmentState.BaseCelestiaHeight)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Info(&quot;UpdateCommitmentState completed&quot;, &quot;soft_height&quot;, softBlock.NumberU64(), &quot;firm_height&quot;, firmBlock.NumberU64())</span>
                                                        <span class="term-fg32">+	softCommitmentHeight.Update(int64(softBlock.NumberU64()))</span>
                                                        <span class="term-fg32">+	firmCommitmentHeight.Update(int64(firmBlock.NumberU64()))</span>
                                                        <span class="term-fg32">+	updateCommitmentStateSuccessCount.Inc(1)</span>
                                                        <span class="term-fg32">+	return req.CommitmentState, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (s *ExecutionServiceServerV1) getBlockFromIdentifier(identifier *astriaPb.BlockIdentifier) (*astriaPb.Block, error) {</span>
                                                        <span class="term-fg32">+	var header *types.Header</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Grab the header based on the identifier provided</span>
                                                        <span class="term-fg32">+	switch idType := identifier.Identifier.(type) {</span>
                                                        <span class="term-fg32">+	case *astriaPb.BlockIdentifier_BlockNumber:</span>
                                                        <span class="term-fg32">+		header = s.bc.GetHeaderByNumber(uint64(identifier.GetBlockNumber()))</span>
                                                        <span class="term-fg32">+	case *astriaPb.BlockIdentifier_BlockHash:</span>
                                                        <span class="term-fg32">+		header = s.bc.GetHeaderByHash(common.BytesToHash(identifier.GetBlockHash()))</span>
                                                        <span class="term-fg32">+	default:</span>
                                                        <span class="term-fg32">+		return nil, status.Errorf(codes.InvalidArgument, &quot;identifier has unexpected type %T&quot;, idType)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if header == nil {</span>
                                                        <span class="term-fg32">+		return nil, status.Errorf(codes.NotFound, &quot;Couldn&#39;t locate block with identifier %s&quot;, identifier.Identifier)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	res, err := ethHeaderToExecutionBlock(header)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		&#47;&#47; This should never happen since we validate header exists above.</span>
                                                        <span class="term-fg32">+		return nil, status.Error(codes.Internal, &quot;internal error&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return res, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func ethHeaderToExecutionBlock(header *types.Header) (*astriaPb.Block, error) {</span>
                                                        <span class="term-fg32">+	if header == nil {</span>
                                                        <span class="term-fg32">+		return nil, fmt.Errorf(&quot;cannot convert nil header to execution block&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return &amp;astriaPb.Block{</span>
                                                        <span class="term-fg32">+		Number:          uint32(header.Number.Int64()),</span>
                                                        <span class="term-fg32">+		Hash:            header.Hash().Bytes(),</span>
                                                        <span class="term-fg32">+		ParentBlockHash: header.ParentHash.Bytes(),</span>
                                                        <span class="term-fg32">+		Timestamp: &amp;timestamppb.Timestamp{</span>
                                                        <span class="term-fg32">+			Seconds: int64(header.Time),</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (s *ExecutionServiceServerV1) syncMethodsCalled() bool {</span>
                                                        <span class="term-fg32">+	return s.genesisInfoCalled &amp;&amp; s.getCommitmentStateCalled</span>
                                                        <span class="term-fg32">+}</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-7492ebce40e52869853383b1" role="button"
                                                           aria-expanded="false" aria-controls="id-7492ebce40e52869853383b1">
                                                            <code>grpc/execution/server_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/grpc/execution/server_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+614</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-7492ebce40e52869853383b1"><span class="term-fg1">diff --git go-ethereum&#47;grpc&#47;execution&#47;server_test.go astria-geth&#47;grpc&#47;execution&#47;server_test.go</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..15ad3538d59c0bfff4fdd41e7670c4d7c34365aa</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;grpc&#47;execution&#47;server_test.go</span>
                                                        <span class="term-fg36">@@ -0,0 +1,614 @@</span>
                                                        <span class="term-fg32">+package execution</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+import (</span>
                                                        <span class="term-fg32">+	astriaPb &quot;buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;protocolbuffers&#47;go&#47;astria&#47;execution&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	primitivev1 &quot;buf.build&#47;gen&#47;go&#47;astria&#47;primitives&#47;protocolbuffers&#47;go&#47;astria&#47;primitive&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	sequencerblockv1 &quot;buf.build&#47;gen&#47;go&#47;astria&#47;sequencerblock-apis&#47;protocolbuffers&#47;go&#47;astria&#47;sequencerblock&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	&quot;bytes&quot;</span>
                                                        <span class="term-fg32">+	&quot;context&quot;</span>
                                                        <span class="term-fg32">+	&quot;crypto&#47;sha256&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;holiman&#47;uint256&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;stretchr&#47;testify&#47;require&quot;</span>
                                                        <span class="term-fg32">+	&quot;google.golang.org&#47;grpc&#47;codes&quot;</span>
                                                        <span class="term-fg32">+	&quot;google.golang.org&#47;grpc&#47;status&quot;</span>
                                                        <span class="term-fg32">+	&quot;google.golang.org&#47;protobuf&#47;types&#47;known&#47;timestamppb&quot;</span>
                                                        <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg32">+	&quot;testing&quot;</span>
                                                        <span class="term-fg32">+	&quot;time&quot;</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestExecutionService_GetGenesisInfo(t *testing.T) {</span>
                                                        <span class="term-fg32">+	ethservice, serviceV1Alpha1 := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	genesisInfo, err := serviceV1Alpha1.GetGenesisInfo(context.Background(), &amp;astriaPb.GetGenesisInfoRequest{})</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;GetGenesisInfo failed&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	hashedRollupId := sha256.Sum256([]byte(ethservice.BlockChain().Config().AstriaRollupName))</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(genesisInfo.RollupId.Inner, hashedRollupId[:]), &quot;RollupId is not correct&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, genesisInfo.GetSequencerGenesisBlockHeight(), ethservice.BlockChain().Config().AstriaSequencerInitialHeight, &quot;SequencerInitialHeight is not correct&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, genesisInfo.GetCelestiaBlockVariance(), ethservice.BlockChain().Config().AstriaCelestiaHeightVariance, &quot;CelestiaHeightVariance is not correct&quot;)</span>
                                                        <span class="term-fg32">+	require.True(t, serviceV1Alpha1.genesisInfoCalled, &quot;GetGenesisInfo should be called&quot;)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestExecutionServiceServerV1Alpha2_GetCommitmentState(t *testing.T) {</span>
                                                        <span class="term-fg32">+	ethservice, serviceV1Alpha1 := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	commitmentState, err := serviceV1Alpha1.GetCommitmentState(context.Background(), &amp;astriaPb.GetCommitmentStateRequest{})</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;GetCommitmentState failed&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.NotNil(t, commitmentState, &quot;CommitmentState is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	softBlock := ethservice.BlockChain().CurrentSafeBlock()</span>
                                                        <span class="term-fg32">+	require.NotNil(t, softBlock, &quot;SoftBlock is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	firmBlock := ethservice.BlockChain().CurrentFinalBlock()</span>
                                                        <span class="term-fg32">+	require.NotNil(t, firmBlock, &quot;FirmBlock is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(commitmentState.Soft.Hash, softBlock.Hash().Bytes()), &quot;Soft Block Hashes do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(commitmentState.Soft.ParentBlockHash, softBlock.ParentHash.Bytes()), &quot;Soft Block Parent Hash do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, uint64(commitmentState.Soft.Number), softBlock.Number.Uint64(), &quot;Soft Block Number do not match&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(commitmentState.Firm.Hash, firmBlock.Hash().Bytes()), &quot;Firm Block Hashes do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(commitmentState.Firm.ParentBlockHash, firmBlock.ParentHash.Bytes()), &quot;Firm Block Parent Hash do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, uint64(commitmentState.Firm.Number), firmBlock.Number.Uint64(), &quot;Firm Block Number do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, commitmentState.BaseCelestiaHeight, ethservice.BlockChain().Config().AstriaCelestiaInitialHeight, &quot;BaseCelestiaHeight is not correct&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.True(t, serviceV1Alpha1.getCommitmentStateCalled, &quot;GetCommitmentState should be called&quot;)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestExecutionService_GetBlock(t *testing.T) {</span>
                                                        <span class="term-fg32">+	ethservice, serviceV1Alpha1 := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	tests := []struct {</span>
                                                        <span class="term-fg32">+		description        string</span>
                                                        <span class="term-fg32">+		getBlockRequst     *astriaPb.GetBlockRequest</span>
                                                        <span class="term-fg32">+		expectedReturnCode codes.Code</span>
                                                        <span class="term-fg32">+	}{</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;Get block by block number 1&quot;,</span>
                                                        <span class="term-fg32">+			getBlockRequst: &amp;astriaPb.GetBlockRequest{</span>
                                                        <span class="term-fg32">+				Identifier: &amp;astriaPb.BlockIdentifier{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 1}},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedReturnCode: 0,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;Get block by block hash&quot;,</span>
                                                        <span class="term-fg32">+			getBlockRequst: &amp;astriaPb.GetBlockRequest{</span>
                                                        <span class="term-fg32">+				Identifier: &amp;astriaPb.BlockIdentifier{Identifier: &amp;astriaPb.BlockIdentifier_BlockHash{BlockHash: ethservice.BlockChain().GetBlockByNumber(4).Hash().Bytes()}},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedReturnCode: 0,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;Get block which is not present&quot;,</span>
                                                        <span class="term-fg32">+			getBlockRequst: &amp;astriaPb.GetBlockRequest{</span>
                                                        <span class="term-fg32">+				Identifier: &amp;astriaPb.BlockIdentifier{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 100}},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedReturnCode: codes.NotFound,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	for _, tt := range tests {</span>
                                                        <span class="term-fg32">+		t.Run(tt.description, func(t *testing.T) {</span>
                                                        <span class="term-fg32">+			blockInfo, err := serviceV1Alpha1.GetBlock(context.Background(), tt.getBlockRequst)</span>
                                                        <span class="term-fg32">+			if tt.expectedReturnCode &gt; 0 {</span>
                                                        <span class="term-fg32">+				require.NotNil(t, err, &quot;GetBlock should return an error&quot;)</span>
                                                        <span class="term-fg32">+				require.Equal(t, tt.expectedReturnCode, status.Code(err), &quot;GetBlock failed&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			if err == nil {</span>
                                                        <span class="term-fg32">+				require.NotNil(t, blockInfo, &quot;Block not found&quot;)</span>
                                                        <span class="term-fg32">+				var block *types.Block</span>
                                                        <span class="term-fg32">+				if tt.getBlockRequst.Identifier.GetBlockNumber() != 0 {</span>
                                                        <span class="term-fg32">+					&#47;&#47; get block by number</span>
                                                        <span class="term-fg32">+					block = ethservice.BlockChain().GetBlockByNumber(uint64(tt.getBlockRequst.Identifier.GetBlockNumber()))</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				if tt.getBlockRequst.Identifier.GetBlockHash() != nil {</span>
                                                        <span class="term-fg32">+					block = ethservice.BlockChain().GetBlockByHash(common.Hash(tt.getBlockRequst.Identifier.GetBlockHash()))</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				require.NotNil(t, block, &quot;Block not found&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				require.Equal(t, uint64(blockInfo.Number), block.NumberU64(), &quot;Block number is not correct&quot;)</span>
                                                        <span class="term-fg32">+				require.Equal(t, block.ParentHash().Bytes(), blockInfo.ParentBlockHash, &quot;Parent Block Hash is not correct&quot;)</span>
                                                        <span class="term-fg32">+				require.Equal(t, block.Hash().Bytes(), blockInfo.Hash, &quot;BlockHash is not correct&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		})</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestExecutionServiceServerV1Alpha2_BatchGetBlocks(t *testing.T) {</span>
                                                        <span class="term-fg32">+	ethservice, serviceV1Alpha1 := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	tests := []struct {</span>
                                                        <span class="term-fg32">+		description          string</span>
                                                        <span class="term-fg32">+		batchGetBlockRequest *astriaPb.BatchGetBlocksRequest</span>
                                                        <span class="term-fg32">+		expectedReturnCode   codes.Code</span>
                                                        <span class="term-fg32">+	}{</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;BatchGetBlocks with block hashes&quot;,</span>
                                                        <span class="term-fg32">+			batchGetBlockRequest: &amp;astriaPb.BatchGetBlocksRequest{</span>
                                                        <span class="term-fg32">+				Identifiers: []*astriaPb.BlockIdentifier{</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockHash{BlockHash: ethservice.BlockChain().GetBlockByNumber(1).Hash().Bytes()}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockHash{BlockHash: ethservice.BlockChain().GetBlockByNumber(2).Hash().Bytes()}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockHash{BlockHash: ethservice.BlockChain().GetBlockByNumber(3).Hash().Bytes()}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockHash{BlockHash: ethservice.BlockChain().GetBlockByNumber(4).Hash().Bytes()}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockHash{BlockHash: ethservice.BlockChain().GetBlockByNumber(5).Hash().Bytes()}},</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedReturnCode: 0,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;BatchGetBlocks with block numbers&quot;,</span>
                                                        <span class="term-fg32">+			batchGetBlockRequest: &amp;astriaPb.BatchGetBlocksRequest{</span>
                                                        <span class="term-fg32">+				Identifiers: []*astriaPb.BlockIdentifier{</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 1}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 2}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 3}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 4}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 5}},</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedReturnCode: 0,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;BatchGetBlocks block not found&quot;,</span>
                                                        <span class="term-fg32">+			batchGetBlockRequest: &amp;astriaPb.BatchGetBlocksRequest{</span>
                                                        <span class="term-fg32">+				Identifiers: []*astriaPb.BlockIdentifier{</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 1}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 2}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 3}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 4}},</span>
                                                        <span class="term-fg32">+					{Identifier: &amp;astriaPb.BlockIdentifier_BlockNumber{BlockNumber: 100}},</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedReturnCode: codes.NotFound,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	for _, tt := range tests {</span>
                                                        <span class="term-fg32">+		t.Run(tt.description, func(t *testing.T) {</span>
                                                        <span class="term-fg32">+			batchBlocksRes, err := serviceV1Alpha1.BatchGetBlocks(context.Background(), tt.batchGetBlockRequest)</span>
                                                        <span class="term-fg32">+			if tt.expectedReturnCode &gt; 0 {</span>
                                                        <span class="term-fg32">+				require.NotNil(t, err, &quot;BatchGetBlocks should return an error&quot;)</span>
                                                        <span class="term-fg32">+				require.Equal(t, tt.expectedReturnCode, status.Code(err), &quot;BatchGetBlocks failed&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			for _, batchBlock := range batchBlocksRes.GetBlocks() {</span>
                                                        <span class="term-fg32">+				require.NotNil(t, batchBlock, &quot;Block not found in batch blocks response&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				block := ethservice.BlockChain().GetBlockByNumber(uint64(batchBlock.Number))</span>
                                                        <span class="term-fg32">+				require.NotNil(t, block, &quot;Block not found in blockchain&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				require.Equal(t, uint64(batchBlock.Number), block.NumberU64(), &quot;Block number is not correct&quot;)</span>
                                                        <span class="term-fg32">+				require.Equal(t, block.ParentHash().Bytes(), batchBlock.ParentBlockHash, &quot;Parent Block Hash is not correct&quot;)</span>
                                                        <span class="term-fg32">+				require.Equal(t, block.Hash().Bytes(), batchBlock.Hash, &quot;BlockHash is not correct&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		})</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func bigIntToProtoU128(i *big.Int) *primitivev1.Uint128 {</span>
                                                        <span class="term-fg32">+	lo := i.Uint64()</span>
                                                        <span class="term-fg32">+	hi := new(big.Int).Rsh(i, 64).Uint64()</span>
                                                        <span class="term-fg32">+	return &amp;primitivev1.Uint128{Lo: lo, Hi: hi}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestExecutionServiceServerV1Alpha2_ExecuteBlock(t *testing.T) {</span>
                                                        <span class="term-fg32">+	ethservice, _ := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	tests := []struct {</span>
                                                        <span class="term-fg32">+		description                          string</span>
                                                        <span class="term-fg32">+		callGenesisInfoAndGetCommitmentState bool</span>
                                                        <span class="term-fg32">+		numberOfTxs                          int</span>
                                                        <span class="term-fg32">+		prevBlockHash                        []byte</span>
                                                        <span class="term-fg32">+		timestamp                            uint64</span>
                                                        <span class="term-fg32">+		depositTxAmount                      *big.Int &#47;&#47; if this is non zero then we send a deposit tx</span>
                                                        <span class="term-fg32">+		expectedReturnCode                   codes.Code</span>
                                                        <span class="term-fg32">+	}{</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description:                          &quot;ExecuteBlock without calling GetGenesisInfo and GetCommitmentState&quot;,</span>
                                                        <span class="term-fg32">+			callGenesisInfoAndGetCommitmentState: false,</span>
                                                        <span class="term-fg32">+			numberOfTxs:                          5,</span>
                                                        <span class="term-fg32">+			prevBlockHash:                        ethservice.BlockChain().GetBlockByNumber(2).Hash().Bytes(),</span>
                                                        <span class="term-fg32">+			timestamp:                            ethservice.BlockChain().GetBlockByNumber(2).Time() + 2,</span>
                                                        <span class="term-fg32">+			depositTxAmount:                      big.NewInt(0),</span>
                                                        <span class="term-fg32">+			expectedReturnCode:                   codes.PermissionDenied,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description:                          &quot;ExecuteBlock with 5 txs and no deposit tx&quot;,</span>
                                                        <span class="term-fg32">+			callGenesisInfoAndGetCommitmentState: true,</span>
                                                        <span class="term-fg32">+			numberOfTxs:                          5,</span>
                                                        <span class="term-fg32">+			prevBlockHash:                        ethservice.BlockChain().CurrentSafeBlock().Hash().Bytes(),</span>
                                                        <span class="term-fg32">+			timestamp:                            ethservice.BlockChain().CurrentSafeBlock().Time + 2,</span>
                                                        <span class="term-fg32">+			depositTxAmount:                      big.NewInt(0),</span>
                                                        <span class="term-fg32">+			expectedReturnCode:                   0,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description:                          &quot;ExecuteBlock with 5 txs and a deposit tx&quot;,</span>
                                                        <span class="term-fg32">+			callGenesisInfoAndGetCommitmentState: true,</span>
                                                        <span class="term-fg32">+			numberOfTxs:                          5,</span>
                                                        <span class="term-fg32">+			prevBlockHash:                        ethservice.BlockChain().CurrentSafeBlock().Hash().Bytes(),</span>
                                                        <span class="term-fg32">+			timestamp:                            ethservice.BlockChain().CurrentSafeBlock().Time + 2,</span>
                                                        <span class="term-fg32">+			depositTxAmount:                      big.NewInt(1000000000000000000),</span>
                                                        <span class="term-fg32">+			expectedReturnCode:                   0,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description:                          &quot;ExecuteBlock with incorrect previous block hash&quot;,</span>
                                                        <span class="term-fg32">+			callGenesisInfoAndGetCommitmentState: true,</span>
                                                        <span class="term-fg32">+			numberOfTxs:                          5,</span>
                                                        <span class="term-fg32">+			prevBlockHash:                        ethservice.BlockChain().GetBlockByNumber(2).Hash().Bytes(),</span>
                                                        <span class="term-fg32">+			timestamp:                            ethservice.BlockChain().GetBlockByNumber(2).Time() + 2,</span>
                                                        <span class="term-fg32">+			depositTxAmount:                      big.NewInt(0),</span>
                                                        <span class="term-fg32">+			expectedReturnCode:                   codes.FailedPrecondition,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	for _, tt := range tests {</span>
                                                        <span class="term-fg32">+		t.Run(tt.description, func(t *testing.T) {</span>
                                                        <span class="term-fg32">+			&#47;&#47; reset the blockchain with each test</span>
                                                        <span class="term-fg32">+			ethservice, serviceV1Alpha1 := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			var err error &#47;&#47; adding this to prevent shadowing of genesisInfo in the below if branch</span>
                                                        <span class="term-fg32">+			var genesisInfo *astriaPb.GenesisInfo</span>
                                                        <span class="term-fg32">+			var commitmentStateBeforeExecuteBlock *astriaPb.CommitmentState</span>
                                                        <span class="term-fg32">+			if tt.callGenesisInfoAndGetCommitmentState {</span>
                                                        <span class="term-fg32">+				&#47;&#47; call getGenesisInfo and getCommitmentState before calling executeBlock</span>
                                                        <span class="term-fg32">+				genesisInfo, err = serviceV1Alpha1.GetGenesisInfo(context.Background(), &amp;astriaPb.GetGenesisInfoRequest{})</span>
                                                        <span class="term-fg32">+				require.Nil(t, err, &quot;GetGenesisInfo failed&quot;)</span>
                                                        <span class="term-fg32">+				require.NotNil(t, genesisInfo, &quot;GenesisInfo is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				commitmentStateBeforeExecuteBlock, err = serviceV1Alpha1.GetCommitmentState(context.Background(), &amp;astriaPb.GetCommitmentStateRequest{})</span>
                                                        <span class="term-fg32">+				require.Nil(t, err, &quot;GetCommitmentState failed&quot;)</span>
                                                        <span class="term-fg32">+				require.NotNil(t, commitmentStateBeforeExecuteBlock, &quot;CommitmentState is nil&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			&#47;&#47; create the txs to send</span>
                                                        <span class="term-fg32">+			&#47;&#47; create 5 txs</span>
                                                        <span class="term-fg32">+			txs := []*types.Transaction{}</span>
                                                        <span class="term-fg32">+			marshalledTxs := []*sequencerblockv1.RollupData{}</span>
                                                        <span class="term-fg32">+			for i := 0; i &lt; 5; i++ {</span>
                                                        <span class="term-fg32">+				unsignedTx := types.NewTransaction(uint64(i), testToAddress, big.NewInt(1), params.TxGas, big.NewInt(params.InitialBaseFee*2), nil)</span>
                                                        <span class="term-fg32">+				tx, err := types.SignTx(unsignedTx, types.LatestSigner(ethservice.BlockChain().Config()), testKey)</span>
                                                        <span class="term-fg32">+				require.Nil(t, err, &quot;Failed to sign tx&quot;)</span>
                                                        <span class="term-fg32">+				txs = append(txs, tx)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				marshalledTx, err := tx.MarshalBinary()</span>
                                                        <span class="term-fg32">+				require.Nil(t, err, &quot;Failed to marshal tx&quot;)</span>
                                                        <span class="term-fg32">+				marshalledTxs = append(marshalledTxs, &amp;sequencerblockv1.RollupData{</span>
                                                        <span class="term-fg32">+					Value: &amp;sequencerblockv1.RollupData_SequencedData{SequencedData: marshalledTx},</span>
                                                        <span class="term-fg32">+				})</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			&#47;&#47; create deposit tx if depositTxAmount is non zero</span>
                                                        <span class="term-fg32">+			if tt.depositTxAmount.Cmp(big.NewInt(0)) != 0 {</span>
                                                        <span class="term-fg32">+				depositAmount := bigIntToProtoU128(tt.depositTxAmount)</span>
                                                        <span class="term-fg32">+				bridgeAddress := ethservice.BlockChain().Config().AstriaBridgeAddressConfigs[0].BridgeAddress</span>
                                                        <span class="term-fg32">+				bridgeAssetDenom := ethservice.BlockChain().Config().AstriaBridgeAddressConfigs[0].AssetDenom</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				&#47;&#47; create new chain destination address for better testing</span>
                                                        <span class="term-fg32">+				chainDestinationAddressPrivKey, err := crypto.GenerateKey()</span>
                                                        <span class="term-fg32">+				require.Nil(t, err, &quot;Failed to generate chain destination address&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				chainDestinationAddress := crypto.PubkeyToAddress(chainDestinationAddressPrivKey.PublicKey)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				depositTx := &amp;sequencerblockv1.RollupData{Value: &amp;sequencerblockv1.RollupData_Deposit{Deposit: &amp;sequencerblockv1.Deposit{</span>
                                                        <span class="term-fg32">+					BridgeAddress: &amp;primitivev1.Address{</span>
                                                        <span class="term-fg32">+						Bech32M: bridgeAddress,</span>
                                                        <span class="term-fg32">+					},</span>
                                                        <span class="term-fg32">+					Asset:                   bridgeAssetDenom,</span>
                                                        <span class="term-fg32">+					Amount:                  depositAmount,</span>
                                                        <span class="term-fg32">+					RollupId:                genesisInfo.RollupId,</span>
                                                        <span class="term-fg32">+					DestinationChainAddress: chainDestinationAddress.String(),</span>
                                                        <span class="term-fg32">+					SourceTransactionId: &amp;primitivev1.TransactionId{</span>
                                                        <span class="term-fg32">+						Inner: &quot;test_tx_hash&quot;,</span>
                                                        <span class="term-fg32">+					},</span>
                                                        <span class="term-fg32">+					SourceActionIndex: 0,</span>
                                                        <span class="term-fg32">+				}}}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				marshalledTxs = append(marshalledTxs, depositTx)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			executeBlockReq := &amp;astriaPb.ExecuteBlockRequest{</span>
                                                        <span class="term-fg32">+				PrevBlockHash: tt.prevBlockHash,</span>
                                                        <span class="term-fg32">+				Timestamp: &amp;timestamppb.Timestamp{</span>
                                                        <span class="term-fg32">+					Seconds: int64(tt.timestamp),</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				Transactions: marshalledTxs,</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			executeBlockRes, err := serviceV1Alpha1.ExecuteBlock(context.Background(), executeBlockReq)</span>
                                                        <span class="term-fg32">+			if tt.expectedReturnCode &gt; 0 {</span>
                                                        <span class="term-fg32">+				require.NotNil(t, err, &quot;ExecuteBlock should return an error&quot;)</span>
                                                        <span class="term-fg32">+				require.Equal(t, tt.expectedReturnCode, status.Code(err), &quot;ExecuteBlock failed&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			if err == nil {</span>
                                                        <span class="term-fg32">+				require.NotNil(t, executeBlockRes, &quot;ExecuteBlock response is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				astriaOrdered := ethservice.TxPool().AstriaOrdered()</span>
                                                        <span class="term-fg32">+				require.Equal(t, 0, astriaOrdered.Len(), &quot;AstriaOrdered should be empty&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				&#47;&#47; check if commitment state is not updated</span>
                                                        <span class="term-fg32">+				commitmentStateAfterExecuteBlock, err := serviceV1Alpha1.GetCommitmentState(context.Background(), &amp;astriaPb.GetCommitmentStateRequest{})</span>
                                                        <span class="term-fg32">+				require.Nil(t, err, &quot;GetCommitmentState failed&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				require.Exactly(t, commitmentStateBeforeExecuteBlock, commitmentStateAfterExecuteBlock, &quot;Commitment state should not be updated&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		})</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestExecutionServiceServerV1Alpha2_ExecuteBlockAndUpdateCommitment(t *testing.T) {</span>
                                                        <span class="term-fg32">+	ethservice, serviceV1Alpha1 := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; call genesis info</span>
                                                        <span class="term-fg32">+	genesisInfo, err := serviceV1Alpha1.GetGenesisInfo(context.Background(), &amp;astriaPb.GetGenesisInfoRequest{})</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;GetGenesisInfo failed&quot;)</span>
                                                        <span class="term-fg32">+	require.NotNil(t, genesisInfo, &quot;GenesisInfo is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; call get commitment state</span>
                                                        <span class="term-fg32">+	commitmentState, err := serviceV1Alpha1.GetCommitmentState(context.Background(), &amp;astriaPb.GetCommitmentStateRequest{})</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;GetCommitmentState failed&quot;)</span>
                                                        <span class="term-fg32">+	require.NotNil(t, commitmentState, &quot;CommitmentState is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; get previous block hash</span>
                                                        <span class="term-fg32">+	previousBlock := ethservice.BlockChain().CurrentSafeBlock()</span>
                                                        <span class="term-fg32">+	require.NotNil(t, previousBlock, &quot;Previous block not found&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; create 5 txs</span>
                                                        <span class="term-fg32">+	txs := []*types.Transaction{}</span>
                                                        <span class="term-fg32">+	marshalledTxs := []*sequencerblockv1.RollupData{}</span>
                                                        <span class="term-fg32">+	for i := 0; i &lt; 5; i++ {</span>
                                                        <span class="term-fg32">+		unsignedTx := types.NewTransaction(uint64(i), testToAddress, big.NewInt(1), params.TxGas, big.NewInt(params.InitialBaseFee*2), nil)</span>
                                                        <span class="term-fg32">+		tx, err := types.SignTx(unsignedTx, types.LatestSigner(ethservice.BlockChain().Config()), testKey)</span>
                                                        <span class="term-fg32">+		require.Nil(t, err, &quot;Failed to sign tx&quot;)</span>
                                                        <span class="term-fg32">+		txs = append(txs, tx)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		marshalledTx, err := tx.MarshalBinary()</span>
                                                        <span class="term-fg32">+		require.Nil(t, err, &quot;Failed to marshal tx&quot;)</span>
                                                        <span class="term-fg32">+		marshalledTxs = append(marshalledTxs, &amp;sequencerblockv1.RollupData{</span>
                                                        <span class="term-fg32">+			Value: &amp;sequencerblockv1.RollupData_SequencedData{SequencedData: marshalledTx},</span>
                                                        <span class="term-fg32">+		})</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	amountToDeposit := big.NewInt(1000000000000000000)</span>
                                                        <span class="term-fg32">+	depositAmount := bigIntToProtoU128(amountToDeposit)</span>
                                                        <span class="term-fg32">+	bridgeAddress := ethservice.BlockChain().Config().AstriaBridgeAddressConfigs[0].BridgeAddress</span>
                                                        <span class="term-fg32">+	bridgeAssetDenom := ethservice.BlockChain().Config().AstriaBridgeAddressConfigs[0].AssetDenom</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; create new chain destination address for better testing</span>
                                                        <span class="term-fg32">+	chainDestinationAddressPrivKey, err := crypto.GenerateKey()</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;Failed to generate chain destination address&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	chainDestinationAddress := crypto.PubkeyToAddress(chainDestinationAddressPrivKey.PublicKey)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	stateDb, err := ethservice.BlockChain().State()</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;Failed to get state db&quot;)</span>
                                                        <span class="term-fg32">+	require.NotNil(t, stateDb, &quot;State db is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	chainDestinationAddressBalanceBefore := stateDb.GetBalance(chainDestinationAddress)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	depositTx := &amp;sequencerblockv1.RollupData{Value: &amp;sequencerblockv1.RollupData_Deposit{Deposit: &amp;sequencerblockv1.Deposit{</span>
                                                        <span class="term-fg32">+		BridgeAddress: &amp;primitivev1.Address{</span>
                                                        <span class="term-fg32">+			Bech32M: bridgeAddress,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		Asset:                   bridgeAssetDenom,</span>
                                                        <span class="term-fg32">+		Amount:                  depositAmount,</span>
                                                        <span class="term-fg32">+		RollupId:                genesisInfo.RollupId,</span>
                                                        <span class="term-fg32">+		DestinationChainAddress: chainDestinationAddress.String(),</span>
                                                        <span class="term-fg32">+		SourceTransactionId: &amp;primitivev1.TransactionId{</span>
                                                        <span class="term-fg32">+			Inner: &quot;test_tx_hash&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		SourceActionIndex: 0,</span>
                                                        <span class="term-fg32">+	}}}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	marshalledTxs = append(marshalledTxs, depositTx)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	executeBlockReq := &amp;astriaPb.ExecuteBlockRequest{</span>
                                                        <span class="term-fg32">+		PrevBlockHash: previousBlock.Hash().Bytes(),</span>
                                                        <span class="term-fg32">+		Timestamp: &amp;timestamppb.Timestamp{</span>
                                                        <span class="term-fg32">+			Seconds: int64(previousBlock.Time + 2),</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		Transactions: marshalledTxs,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	executeBlockRes, err := serviceV1Alpha1.ExecuteBlock(context.Background(), executeBlockReq)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;ExecuteBlock failed&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.NotNil(t, executeBlockRes, &quot;ExecuteBlock response is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; check if astria ordered txs are cleared</span>
                                                        <span class="term-fg32">+	astriaOrdered := ethservice.TxPool().AstriaOrdered()</span>
                                                        <span class="term-fg32">+	require.Equal(t, 0, astriaOrdered.Len(), &quot;AstriaOrdered should be empty&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; call update commitment state to set the block we executed as soft and firm</span>
                                                        <span class="term-fg32">+	updateCommitmentStateReq := &amp;astriaPb.UpdateCommitmentStateRequest{</span>
                                                        <span class="term-fg32">+		CommitmentState: &amp;astriaPb.CommitmentState{</span>
                                                        <span class="term-fg32">+			Soft: &amp;astriaPb.Block{</span>
                                                        <span class="term-fg32">+				Hash:            executeBlockRes.Hash,</span>
                                                        <span class="term-fg32">+				ParentBlockHash: executeBlockRes.ParentBlockHash,</span>
                                                        <span class="term-fg32">+				Number:          executeBlockRes.Number,</span>
                                                        <span class="term-fg32">+				Timestamp:       executeBlockRes.Timestamp,</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			Firm: &amp;astriaPb.Block{</span>
                                                        <span class="term-fg32">+				Hash:            executeBlockRes.Hash,</span>
                                                        <span class="term-fg32">+				ParentBlockHash: executeBlockRes.ParentBlockHash,</span>
                                                        <span class="term-fg32">+				Number:          executeBlockRes.Number,</span>
                                                        <span class="term-fg32">+				Timestamp:       executeBlockRes.Timestamp,</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			BaseCelestiaHeight: commitmentState.BaseCelestiaHeight + 1,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	updateCommitmentStateRes, err := serviceV1Alpha1.UpdateCommitmentState(context.Background(), updateCommitmentStateReq)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;UpdateCommitmentState failed&quot;)</span>
                                                        <span class="term-fg32">+	require.NotNil(t, updateCommitmentStateRes, &quot;UpdateCommitmentState response should not be nil&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, updateCommitmentStateRes, updateCommitmentStateReq.CommitmentState, &quot;CommitmentState response should match request&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; get the soft and firm block</span>
                                                        <span class="term-fg32">+	softBlock := ethservice.BlockChain().CurrentSafeBlock()</span>
                                                        <span class="term-fg32">+	require.NotNil(t, softBlock, &quot;SoftBlock is nil&quot;)</span>
                                                        <span class="term-fg32">+	firmBlock := ethservice.BlockChain().CurrentFinalBlock()</span>
                                                        <span class="term-fg32">+	require.NotNil(t, firmBlock, &quot;FirmBlock is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; check if the soft and firm block are set correctly</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(softBlock.Hash().Bytes(), updateCommitmentStateRes.Soft.Hash), &quot;Soft Block Hashes do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(softBlock.ParentHash.Bytes(), updateCommitmentStateRes.Soft.ParentBlockHash), &quot;Soft Block Parent Hash do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, softBlock.Number.Uint64(), uint64(updateCommitmentStateRes.Soft.Number), &quot;Soft Block Number do not match&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(firmBlock.Hash().Bytes(), updateCommitmentStateRes.Firm.Hash), &quot;Firm Block Hashes do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(firmBlock.ParentHash.Bytes(), updateCommitmentStateRes.Firm.ParentBlockHash), &quot;Firm Block Parent Hash do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, firmBlock.Number.Uint64(), uint64(updateCommitmentStateRes.Firm.Number), &quot;Firm Block Number do not match&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	celestiaBaseHeight := ethservice.BlockChain().CurrentBaseCelestiaHeight()</span>
                                                        <span class="term-fg32">+	require.Equal(t, celestiaBaseHeight, updateCommitmentStateRes.BaseCelestiaHeight, &quot;BaseCelestiaHeight should be updated in db&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; check the difference in balances after deposit tx</span>
                                                        <span class="term-fg32">+	stateDb, err = ethservice.BlockChain().State()</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;Failed to get state db&quot;)</span>
                                                        <span class="term-fg32">+	require.NotNil(t, stateDb, &quot;State db is nil&quot;)</span>
                                                        <span class="term-fg32">+	chainDestinationAddressBalanceAfter := stateDb.GetBalance(chainDestinationAddress)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	balanceDiff := new(uint256.Int).Sub(chainDestinationAddressBalanceAfter, chainDestinationAddressBalanceBefore)</span>
                                                        <span class="term-fg32">+	require.True(t, balanceDiff.Cmp(uint256.NewInt(1000000000000000000)) == 0, &quot;Chain destination address balance is not correct&quot;)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Check that invalid transactions are not added into a block and are removed from the mempool</span>
                                                        <span class="term-fg32">+func TestExecutionServiceServerV1Alpha2_ExecuteBlockAndUpdateCommitmentWithInvalidTransactions(t *testing.T) {</span>
                                                        <span class="term-fg32">+	ethservice, serviceV1Alpha1 := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; call genesis info</span>
                                                        <span class="term-fg32">+	genesisInfo, err := serviceV1Alpha1.GetGenesisInfo(context.Background(), &amp;astriaPb.GetGenesisInfoRequest{})</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;GetGenesisInfo failed&quot;)</span>
                                                        <span class="term-fg32">+	require.NotNil(t, genesisInfo, &quot;GenesisInfo is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; call get commitment state</span>
                                                        <span class="term-fg32">+	commitmentState, err := serviceV1Alpha1.GetCommitmentState(context.Background(), &amp;astriaPb.GetCommitmentStateRequest{})</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;GetCommitmentState failed&quot;)</span>
                                                        <span class="term-fg32">+	require.NotNil(t, commitmentState, &quot;CommitmentState is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	ethservice.BlockChain().SetSafe(ethservice.BlockChain().CurrentBlock())</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; get previous block hash</span>
                                                        <span class="term-fg32">+	previousBlock := ethservice.BlockChain().CurrentSafeBlock()</span>
                                                        <span class="term-fg32">+	require.NotNil(t, previousBlock, &quot;Previous block not found&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	gasLimit := ethservice.BlockChain().GasLimit()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	stateDb, err := ethservice.BlockChain().StateAt(previousBlock.Root)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;Failed to get state db&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	latestNonce := stateDb.GetNonce(testAddr)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; create 5 txs</span>
                                                        <span class="term-fg32">+	txs := []*types.Transaction{}</span>
                                                        <span class="term-fg32">+	marshalledTxs := []*sequencerblockv1.RollupData{}</span>
                                                        <span class="term-fg32">+	for i := 0; i &lt; 5; i++ {</span>
                                                        <span class="term-fg32">+		unsignedTx := types.NewTransaction(latestNonce+uint64(i), testToAddress, big.NewInt(1), params.TxGas, big.NewInt(params.InitialBaseFee*2), nil)</span>
                                                        <span class="term-fg32">+		tx, err := types.SignTx(unsignedTx, types.LatestSigner(ethservice.BlockChain().Config()), testKey)</span>
                                                        <span class="term-fg32">+		require.Nil(t, err, &quot;Failed to sign tx&quot;)</span>
                                                        <span class="term-fg32">+		txs = append(txs, tx)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		marshalledTx, err := tx.MarshalBinary()</span>
                                                        <span class="term-fg32">+		require.Nil(t, err, &quot;Failed to marshal tx&quot;)</span>
                                                        <span class="term-fg32">+		marshalledTxs = append(marshalledTxs, &amp;sequencerblockv1.RollupData{</span>
                                                        <span class="term-fg32">+			Value: &amp;sequencerblockv1.RollupData_SequencedData{SequencedData: marshalledTx},</span>
                                                        <span class="term-fg32">+		})</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; add a tx with lesser gas than the base gas</span>
                                                        <span class="term-fg32">+	unsignedTx := types.NewTransaction(latestNonce+uint64(5), testToAddress, big.NewInt(1), gasLimit, big.NewInt(params.InitialBaseFee*2), nil)</span>
                                                        <span class="term-fg32">+	tx, err := types.SignTx(unsignedTx, types.LatestSigner(ethservice.BlockChain().Config()), testKey)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;Failed to sign tx&quot;)</span>
                                                        <span class="term-fg32">+	txs = append(txs, tx)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	marshalledTx, err := tx.MarshalBinary()</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;Failed to marshal tx&quot;)</span>
                                                        <span class="term-fg32">+	marshalledTxs = append(marshalledTxs, &amp;sequencerblockv1.RollupData{</span>
                                                        <span class="term-fg32">+		Value: &amp;sequencerblockv1.RollupData_SequencedData{SequencedData: marshalledTx},</span>
                                                        <span class="term-fg32">+	})</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	errors := ethservice.TxPool().Add(txs, true, false)</span>
                                                        <span class="term-fg32">+	for _, err := range errors {</span>
                                                        <span class="term-fg32">+		require.Nil(t, err, &quot;Failed to add tx to pool&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	pending, queued := ethservice.TxPool().Stats()</span>
                                                        <span class="term-fg32">+	require.Equal(t, 6, pending, &quot;Pending txs should be 6&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, 0, queued, &quot;Queued txs should be 0&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	executeBlockReq := &amp;astriaPb.ExecuteBlockRequest{</span>
                                                        <span class="term-fg32">+		PrevBlockHash: previousBlock.Hash().Bytes(),</span>
                                                        <span class="term-fg32">+		Timestamp: &amp;timestamppb.Timestamp{</span>
                                                        <span class="term-fg32">+			Seconds: int64(previousBlock.Time + 2),</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		Transactions: marshalledTxs,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	executeBlockRes, err := serviceV1Alpha1.ExecuteBlock(context.Background(), executeBlockReq)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;ExecuteBlock failed&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.NotNil(t, executeBlockRes, &quot;ExecuteBlock response is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; check if astria ordered txs are cleared</span>
                                                        <span class="term-fg32">+	astriaOrdered := ethservice.TxPool().AstriaOrdered()</span>
                                                        <span class="term-fg32">+	require.Equal(t, 0, astriaOrdered.Len(), &quot;AstriaOrdered should be empty&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; call update commitment state to set the block we executed as soft and firm</span>
                                                        <span class="term-fg32">+	updateCommitmentStateReq := &amp;astriaPb.UpdateCommitmentStateRequest{</span>
                                                        <span class="term-fg32">+		CommitmentState: &amp;astriaPb.CommitmentState{</span>
                                                        <span class="term-fg32">+			Soft: &amp;astriaPb.Block{</span>
                                                        <span class="term-fg32">+				Hash:            executeBlockRes.Hash,</span>
                                                        <span class="term-fg32">+				ParentBlockHash: executeBlockRes.ParentBlockHash,</span>
                                                        <span class="term-fg32">+				Number:          executeBlockRes.Number,</span>
                                                        <span class="term-fg32">+				Timestamp:       executeBlockRes.Timestamp,</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			Firm: &amp;astriaPb.Block{</span>
                                                        <span class="term-fg32">+				Hash:            executeBlockRes.Hash,</span>
                                                        <span class="term-fg32">+				ParentBlockHash: executeBlockRes.ParentBlockHash,</span>
                                                        <span class="term-fg32">+				Number:          executeBlockRes.Number,</span>
                                                        <span class="term-fg32">+				Timestamp:       executeBlockRes.Timestamp,</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			BaseCelestiaHeight: commitmentState.BaseCelestiaHeight + 1,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	updateCommitmentStateRes, err := serviceV1Alpha1.UpdateCommitmentState(context.Background(), updateCommitmentStateReq)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;UpdateCommitmentState failed&quot;)</span>
                                                        <span class="term-fg32">+	require.NotNil(t, updateCommitmentStateRes, &quot;UpdateCommitmentState response should not be nil&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, updateCommitmentStateRes, updateCommitmentStateReq.CommitmentState, &quot;CommitmentState response should match request&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; get the soft and firm block</span>
                                                        <span class="term-fg32">+	softBlock := ethservice.BlockChain().CurrentSafeBlock()</span>
                                                        <span class="term-fg32">+	require.NotNil(t, softBlock, &quot;SoftBlock is nil&quot;)</span>
                                                        <span class="term-fg32">+	firmBlock := ethservice.BlockChain().CurrentFinalBlock()</span>
                                                        <span class="term-fg32">+	require.NotNil(t, firmBlock, &quot;FirmBlock is nil&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	block := ethservice.BlockChain().GetBlockByNumber(softBlock.Number.Uint64())</span>
                                                        <span class="term-fg32">+	require.NotNil(t, block, &quot;Soft Block not found&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, block.Transactions().Len(), 5, &quot;Soft Block should have 5 txs&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; give the tx loop time to run</span>
                                                        <span class="term-fg32">+	time.Sleep(1 * time.Millisecond)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; after the tx loop is run, all pending txs should be removed</span>
                                                        <span class="term-fg32">+	pending, queued = ethservice.TxPool().Stats()</span>
                                                        <span class="term-fg32">+	require.Equal(t, 0, pending, &quot;Pending txs should be 0&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, 0, queued, &quot;Queued txs should be 0&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; check if the soft and firm block are set correctly</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(softBlock.Hash().Bytes(), updateCommitmentStateRes.Soft.Hash), &quot;Soft Block Hashes do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(softBlock.ParentHash.Bytes(), updateCommitmentStateRes.Soft.ParentBlockHash), &quot;Soft Block Parent Hash do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, softBlock.Number.Uint64(), uint64(updateCommitmentStateRes.Soft.Number), &quot;Soft Block Number do not match&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(firmBlock.Hash().Bytes(), updateCommitmentStateRes.Firm.Hash), &quot;Firm Block Hashes do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.True(t, bytes.Equal(firmBlock.ParentHash.Bytes(), updateCommitmentStateRes.Firm.ParentBlockHash), &quot;Firm Block Parent Hash do not match&quot;)</span>
                                                        <span class="term-fg32">+	require.Equal(t, firmBlock.Number.Uint64(), uint64(updateCommitmentStateRes.Firm.Number), &quot;Firm Block Number do not match&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	celestiaBaseHeight := ethservice.BlockChain().CurrentBaseCelestiaHeight()</span>
                                                        <span class="term-fg32">+	require.Equal(t, celestiaBaseHeight, updateCommitmentStateRes.BaseCelestiaHeight, &quot;BaseCelestiaHeight should be updated in db&quot;)</span>
                                                        <span class="term-fg32">+}</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-bef423eea464a8b445fc734a" role="button"
                                                           aria-expanded="false" aria-controls="id-bef423eea464a8b445fc734a">
                                                            <code>grpc/execution/test_utils.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/grpc/execution/test_utils.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+155</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-bef423eea464a8b445fc734a"><span class="term-fg1">diff --git go-ethereum&#47;grpc&#47;execution&#47;test_utils.go astria-geth&#47;grpc&#47;execution&#47;test_utils.go</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..dedab1aa599e9100bfe61f352a14e8a2fd68523e</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;grpc&#47;execution&#47;test_utils.go</span>
                                                        <span class="term-fg36">@@ -0,0 +1,155 @@</span>
                                                        <span class="term-fg32">+package execution</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+import (</span>
                                                        <span class="term-fg32">+	&quot;crypto&#47;ecdsa&quot;</span>
                                                        <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg32">+	&quot;testing&quot;</span>
                                                        <span class="term-fg32">+	&quot;time&quot;</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;btcsuite&#47;btcd&#47;btcutil&#47;bech32&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;consensus&quot;</span>
                                                        <span class="term-fg32">+	beaconConsensus &quot;github.com&#47;ethereum&#47;go-ethereum&#47;consensus&#47;beacon&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;consensus&#47;ethash&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;downloader&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;miner&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;node&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;stretchr&#47;testify&#47;require&quot;</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+var (</span>
                                                        <span class="term-fg32">+	&#47;&#47; testKey is a private key to use for funding a tester account.</span>
                                                        <span class="term-fg32">+	testKey, _ = crypto.HexToECDSA(&quot;b71c71a67e1177ad4e901695e1b4b9ee17ae16c6668d313eac2f96dbcda3f291&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; testAddr is the Ethereum address of the tester account.</span>
                                                        <span class="term-fg32">+	testAddr = crypto.PubkeyToAddress(testKey.PublicKey)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	testToAddress = common.HexToAddress(&quot;0x9a9070028361F7AAbeB3f2F2Dc07F82C4a98A02a&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	testBalance = big.NewInt(2e18)</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func generateMergeChain(n int, merged bool) (*core.Genesis, []*types.Block, string, *ecdsa.PrivateKey) {</span>
                                                        <span class="term-fg32">+	config := *params.AllEthashProtocolChanges</span>
                                                        <span class="term-fg32">+	engine := consensus.Engine(beaconConsensus.New(ethash.NewFaker()))</span>
                                                        <span class="term-fg32">+	if merged {</span>
                                                        <span class="term-fg32">+		config.TerminalTotalDifficulty = common.Big0</span>
                                                        <span class="term-fg32">+		config.TerminalTotalDifficultyPassed = true</span>
                                                        <span class="term-fg32">+		engine = beaconConsensus.NewFaker()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	bridgeAddressKey, err := crypto.GenerateKey()</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		panic(err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	bridgeAddress := crypto.PubkeyToAddress(bridgeAddressKey.PublicKey)</span>
                                                        <span class="term-fg32">+	bridgeAddressBytes, err := bech32.ConvertBits(bridgeAddress.Bytes(), 8, 5, false)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		panic(err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	config.AstriaRollupName = &quot;astria&quot;</span>
                                                        <span class="term-fg32">+	config.AstriaSequencerAddressPrefix = &quot;astria&quot;</span>
                                                        <span class="term-fg32">+	config.AstriaSequencerInitialHeight = 10</span>
                                                        <span class="term-fg32">+	config.AstriaCelestiaInitialHeight = 10</span>
                                                        <span class="term-fg32">+	config.AstriaCelestiaHeightVariance = 10</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	bech32mBridgeAddress, err := bech32.EncodeM(config.AstriaSequencerAddressPrefix, bridgeAddressBytes)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		panic(err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	config.AstriaBridgeAddressConfigs = []params.AstriaBridgeAddressConfig{</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			BridgeAddress:  bech32mBridgeAddress,</span>
                                                        <span class="term-fg32">+			SenderAddress:  common.Address{},</span>
                                                        <span class="term-fg32">+			StartHeight:    2,</span>
                                                        <span class="term-fg32">+			AssetDenom:     &quot;nria&quot;,</span>
                                                        <span class="term-fg32">+			AssetPrecision: 18,</span>
                                                        <span class="term-fg32">+			Erc20Asset:     nil,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	feeCollectorKey, err := crypto.GenerateKey()</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		panic(err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	feeCollector := crypto.PubkeyToAddress(feeCollectorKey.PublicKey)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	astriaFeeCollectors := make(map[uint32]common.Address)</span>
                                                        <span class="term-fg32">+	astriaFeeCollectors[1] = feeCollector</span>
                                                        <span class="term-fg32">+	config.AstriaFeeCollectors = astriaFeeCollectors</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	genesis := &amp;core.Genesis{</span>
                                                        <span class="term-fg32">+		Config: &amp;config,</span>
                                                        <span class="term-fg32">+		Alloc: core.GenesisAlloc{</span>
                                                        <span class="term-fg32">+			testAddr: {Balance: testBalance},</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		ExtraData:  []byte(&quot;test genesis&quot;),</span>
                                                        <span class="term-fg32">+		Timestamp:  9000,</span>
                                                        <span class="term-fg32">+		BaseFee:    big.NewInt(params.InitialBaseFee),</span>
                                                        <span class="term-fg32">+		Difficulty: big.NewInt(0),</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	testNonce := uint64(0)</span>
                                                        <span class="term-fg32">+	generate := func(i int, g *core.BlockGen) {</span>
                                                        <span class="term-fg32">+		g.OffsetTime(5)</span>
                                                        <span class="term-fg32">+		g.SetExtra([]byte(&quot;test&quot;))</span>
                                                        <span class="term-fg32">+		tx, _ := types.SignTx(types.NewTransaction(testNonce, testToAddress, big.NewInt(1), params.TxGas, big.NewInt(params.InitialBaseFee*2), nil), types.LatestSigner(&amp;config), testKey)</span>
                                                        <span class="term-fg32">+		g.AddTx(tx)</span>
                                                        <span class="term-fg32">+		testNonce++</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	_, blocks, _ := core.GenerateChainWithGenesis(genesis, engine, n, generate)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if !merged {</span>
                                                        <span class="term-fg32">+		totalDifficulty := big.NewInt(0)</span>
                                                        <span class="term-fg32">+		for _, b := range blocks {</span>
                                                        <span class="term-fg32">+			totalDifficulty.Add(totalDifficulty, b.Difficulty())</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		config.TerminalTotalDifficulty = totalDifficulty</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return genesis, blocks, bech32mBridgeAddress, feeCollectorKey</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; startEthService creates a full node instance for testing.</span>
                                                        <span class="term-fg32">+func startEthService(t *testing.T, genesis *core.Genesis) *eth.Ethereum {</span>
                                                        <span class="term-fg32">+	n, err := node.New(&amp;node.Config{})</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;can&#39;t create node&quot;)</span>
                                                        <span class="term-fg32">+	mcfg := miner.DefaultConfig</span>
                                                        <span class="term-fg32">+	mcfg.PendingFeeRecipient = testAddr</span>
                                                        <span class="term-fg32">+	ethcfg := &amp;ethconfig.Config{Genesis: genesis, SyncMode: downloader.FullSync, TrieTimeout: time.Minute, TrieDirtyCache: 256, TrieCleanCache: 256, Miner: mcfg}</span>
                                                        <span class="term-fg32">+	ethservice, err := eth.New(n, ethcfg)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;can&#39;t create eth service&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	ethservice.SetSynced()</span>
                                                        <span class="term-fg32">+	return ethservice</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func setupExecutionService(t *testing.T, noOfBlocksToGenerate int) (*eth.Ethereum, *ExecutionServiceServerV1) {</span>
                                                        <span class="term-fg32">+	t.Helper()</span>
                                                        <span class="term-fg32">+	genesis, blocks, bridgeAddress, feeCollectorKey := generateMergeChain(noOfBlocksToGenerate, true)</span>
                                                        <span class="term-fg32">+	ethservice := startEthService(t, genesis)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	serviceV1Alpha1, err := NewExecutionServiceServerV1(ethservice)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;can&#39;t create execution service&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	feeCollector := crypto.PubkeyToAddress(feeCollectorKey.PublicKey)</span>
                                                        <span class="term-fg32">+	require.Equal(t, feeCollector, serviceV1Alpha1.nextFeeRecipient, &quot;nextFeeRecipient not set correctly&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	bridgeAsset := genesis.Config.AstriaBridgeAddressConfigs[0].AssetDenom</span>
                                                        <span class="term-fg32">+	_, ok := serviceV1Alpha1.bridgeAllowedAssets[bridgeAsset]</span>
                                                        <span class="term-fg32">+	require.True(t, ok, &quot;bridgeAllowedAssetIDs does not contain bridge asset id&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	_, ok = serviceV1Alpha1.bridgeAddresses[bridgeAddress]</span>
                                                        <span class="term-fg32">+	require.True(t, ok, &quot;bridgeAddress not set correctly&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	_, err = ethservice.BlockChain().InsertChain(blocks)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;can&#39;t insert blocks&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return ethservice, serviceV1Alpha1</span>
                                                        <span class="term-fg32">+}</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-1540bb3635d3a16e0e2273d5" role="button"
                                                           aria-expanded="false" aria-controls="id-1540bb3635d3a16e0e2273d5">
                                                            <code>grpc/execution/validation.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/grpc/execution/validation.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+162</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-1540bb3635d3a16e0e2273d5"><span class="term-fg1">diff --git go-ethereum&#47;grpc&#47;execution&#47;validation.go astria-geth&#47;grpc&#47;execution&#47;validation.go</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..1f61d5078c77c76d99fdf1f5b4f5a604a667aa57</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;grpc&#47;execution&#47;validation.go</span>
                                                        <span class="term-fg36">@@ -0,0 +1,162 @@</span>
                                                        <span class="term-fg32">+package execution</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+import (</span>
                                                        <span class="term-fg32">+	&quot;crypto&#47;sha256&quot;</span>
                                                        <span class="term-fg32">+	&quot;fmt&quot;</span>
                                                        <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	astriaPb &quot;buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;protocolbuffers&#47;go&#47;astria&#47;execution&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	sequencerblockv1 &quot;buf.build&#47;gen&#47;go&#47;astria&#47;sequencerblock-apis&#47;protocolbuffers&#47;go&#47;astria&#47;sequencerblock&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;contracts&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;log&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; `validateAndUnmarshalSequencerTx` validates and unmarshals the given rollup sequencer transaction.</span>
                                                        <span class="term-fg32">+&#47;&#47; If the sequencer transaction is a deposit tx, we ensure that the asset ID is allowed and the bridge address is known.</span>
                                                        <span class="term-fg32">+&#47;&#47; If the sequencer transaction is not a deposit tx, we unmarshal the sequenced data into an Ethereum transaction. We ensure that the</span>
                                                        <span class="term-fg32">+&#47;&#47; tx is not a blob tx or a deposit tx.</span>
                                                        <span class="term-fg32">+func validateAndUnmarshalSequencerTx(</span>
                                                        <span class="term-fg32">+	height uint64,</span>
                                                        <span class="term-fg32">+	tx *sequencerblockv1.RollupData,</span>
                                                        <span class="term-fg32">+	bridgeAddresses map[string]*params.AstriaBridgeAddressConfig,</span>
                                                        <span class="term-fg32">+	bridgeAllowedAssets map[string]struct{},</span>
                                                        <span class="term-fg32">+) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	if deposit := tx.GetDeposit(); deposit != nil {</span>
                                                        <span class="term-fg32">+		bridgeAddress := deposit.BridgeAddress.GetBech32M()</span>
                                                        <span class="term-fg32">+		bac, ok := bridgeAddresses[bridgeAddress]</span>
                                                        <span class="term-fg32">+		if !ok {</span>
                                                        <span class="term-fg32">+			return nil, fmt.Errorf(&quot;unknown bridge address: %s&quot;, bridgeAddress)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		if height &lt; uint64(bac.StartHeight) {</span>
                                                        <span class="term-fg32">+			return nil, fmt.Errorf(&quot;bridging asset %s from bridge %s not allowed before height %d&quot;, bac.AssetDenom, bridgeAddress, bac.StartHeight)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		if _, ok := bridgeAllowedAssets[deposit.Asset]; !ok {</span>
                                                        <span class="term-fg32">+			return nil, fmt.Errorf(&quot;disallowed asset %s in deposit tx&quot;, deposit.Asset)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		if deposit.Asset != bac.AssetDenom {</span>
                                                        <span class="term-fg32">+			return nil, fmt.Errorf(&quot;asset %s does not match bridge address %s asset&quot;, deposit.Asset, bridgeAddress)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		recipient := common.HexToAddress(deposit.DestinationChainAddress)</span>
                                                        <span class="term-fg32">+		amount := bac.ScaledDepositAmount(protoU128ToBigInt(deposit.Amount))</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		if bac.Erc20Asset != nil {</span>
                                                        <span class="term-fg32">+			log.Debug(&quot;creating deposit tx to mint ERC20 asset&quot;, &quot;token&quot;, bac.AssetDenom, &quot;erc20Address&quot;, bac.Erc20Asset.ContractAddress)</span>
                                                        <span class="term-fg32">+			abi, err := contracts.AstriaBridgeableERC20MetaData.GetAbi()</span>
                                                        <span class="term-fg32">+			if err != nil {</span>
                                                        <span class="term-fg32">+				&#47;&#47; this should never happen, as the abi is hardcoded in the contract bindings</span>
                                                        <span class="term-fg32">+				return nil, fmt.Errorf(&quot;failed to get abi for erc20 contract for asset %s: %w&quot;, bac.AssetDenom, err)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			&#47;&#47; pack arguments for calling the `mint` function on the ERC20 contract</span>
                                                        <span class="term-fg32">+			args := []interface{}{recipient, amount}</span>
                                                        <span class="term-fg32">+			calldata, err := abi.Pack(&quot;mint&quot;, args...)</span>
                                                        <span class="term-fg32">+			if err != nil {</span>
                                                        <span class="term-fg32">+				return nil, err</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			txdata := types.DepositTx{</span>
                                                        <span class="term-fg32">+				From:  bac.SenderAddress,</span>
                                                        <span class="term-fg32">+				Value: new(big.Int), &#47;&#47; don&#39;t need to set this, as we aren&#39;t minting the native asset</span>
                                                        <span class="term-fg32">+				&#47;&#47; mints cost ~14k gas, however this can vary based on existing storage, so we add a little extra as buffer.</span>
                                                        <span class="term-fg32">+				&#47;&#47;</span>
                                                        <span class="term-fg32">+				&#47;&#47; the fees are spent from the &quot;bridge account&quot; which is not actually a real account, but is instead some</span>
                                                        <span class="term-fg32">+				&#47;&#47; address defined by consensus, so the gas cost is not actually deducted from any account.</span>
                                                        <span class="term-fg32">+				Gas:                    64000,</span>
                                                        <span class="term-fg32">+				To:                     &amp;bac.Erc20Asset.ContractAddress,</span>
                                                        <span class="term-fg32">+				Data:                   calldata,</span>
                                                        <span class="term-fg32">+				SourceTransactionId:    *deposit.SourceTransactionId,</span>
                                                        <span class="term-fg32">+				SourceTransactionIndex: deposit.SourceActionIndex,</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			tx := types.NewTx(&amp;txdata)</span>
                                                        <span class="term-fg32">+			return tx, nil</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		txdata := types.DepositTx{</span>
                                                        <span class="term-fg32">+			From:                   bac.SenderAddress,</span>
                                                        <span class="term-fg32">+			To:                     &amp;recipient,</span>
                                                        <span class="term-fg32">+			Value:                  amount,</span>
                                                        <span class="term-fg32">+			Gas:                    0,</span>
                                                        <span class="term-fg32">+			SourceTransactionId:    *deposit.SourceTransactionId,</span>
                                                        <span class="term-fg32">+			SourceTransactionIndex: deposit.SourceActionIndex,</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		return types.NewTx(&amp;txdata), nil</span>
                                                        <span class="term-fg32">+	} else {</span>
                                                        <span class="term-fg32">+		ethTx := new(types.Transaction)</span>
                                                        <span class="term-fg32">+		err := ethTx.UnmarshalBinary(tx.GetSequencedData())</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			return nil, fmt.Errorf(&quot;failed to unmarshal sequenced data into transaction: %w. tx hash: %s&quot;, err, sha256.Sum256(tx.GetSequencedData()))</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		if ethTx.Type() == types.DepositTxType {</span>
                                                        <span class="term-fg32">+			return nil, fmt.Errorf(&quot;deposit tx not allowed in sequenced data. tx hash: %s&quot;, sha256.Sum256(tx.GetSequencedData()))</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		if ethTx.Type() == types.BlobTxType {</span>
                                                        <span class="term-fg32">+			return nil, fmt.Errorf(&quot;blob tx not allowed in sequenced data. tx hash: %s&quot;, sha256.Sum256(tx.GetSequencedData()))</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		return ethTx, nil</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; `validateStaticExecuteBlockRequest` validates the given execute block request without regard</span>
                                                        <span class="term-fg32">+&#47;&#47; to the current state of the system. This is useful for validating the request before any</span>
                                                        <span class="term-fg32">+&#47;&#47; state changes or reads are made as a basic guard.</span>
                                                        <span class="term-fg32">+func validateStaticExecuteBlockRequest(req *astriaPb.ExecuteBlockRequest) error {</span>
                                                        <span class="term-fg32">+	if req.PrevBlockHash == nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;PrevBlockHash cannot be nil&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if req.Timestamp == nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;Timestamp cannot be nil&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; `validateStaticCommitment` validates the given commitment without regard to the current state of the system.</span>
                                                        <span class="term-fg32">+func validateStaticCommitmentState(commitmentState *astriaPb.CommitmentState) error {</span>
                                                        <span class="term-fg32">+	if commitmentState == nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;commitment state is nil&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if commitmentState.Soft == nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;soft block is nil&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if commitmentState.Firm == nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;firm block is nil&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if commitmentState.BaseCelestiaHeight == 0 {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;base celestia height of 0 is not valid&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err := validateStaticBlock(commitmentState.Soft); err != nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;soft block invalid: %w&quot;, err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if err := validateStaticBlock(commitmentState.Firm); err != nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;firm block invalid: %w&quot;, err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; `validateStaticBlock` validates the given block as a  without regard to the current state of the system.</span>
                                                        <span class="term-fg32">+func validateStaticBlock(block *astriaPb.Block) error {</span>
                                                        <span class="term-fg32">+	if block.ParentBlockHash == nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;parent block hash is nil&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if block.Hash == nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;block hash is nil&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if block.Timestamp == nil {</span>
                                                        <span class="term-fg32">+		return fmt.Errorf(&quot;timestamp is 0&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-79f43cd5a6e1f7d19e7bfaa0" role="button"
                                                           aria-expanded="false" aria-controls="id-79f43cd5a6e1f7d19e7bfaa0">
                                                            <code>grpc/execution/validation_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/grpc/execution/validation_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+207</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-79f43cd5a6e1f7d19e7bfaa0"><span class="term-fg1">diff --git go-ethereum&#47;grpc&#47;execution&#47;validation_test.go astria-geth&#47;grpc&#47;execution&#47;validation_test.go</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..9c2b149d6c1ee5fbd74f5f5c58461ea377c66299</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;grpc&#47;execution&#47;validation_test.go</span>
                                                        <span class="term-fg36">@@ -0,0 +1,207 @@</span>
                                                        <span class="term-fg32">+package execution</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+import (</span>
                                                        <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg32">+	&quot;testing&quot;</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	primitivev1 &quot;buf.build&#47;gen&#47;go&#47;astria&#47;primitives&#47;protocolbuffers&#47;go&#47;astria&#47;primitive&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	sequencerblockv1 &quot;buf.build&#47;gen&#47;go&#47;astria&#47;sequencerblock-apis&#47;protocolbuffers&#47;go&#47;astria&#47;sequencerblock&#47;v1&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;btcsuite&#47;btcd&#47;btcutil&#47;bech32&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;holiman&#47;uint256&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;stretchr&#47;testify&#47;require&quot;</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func testBlobTx() *types.Transaction {</span>
                                                        <span class="term-fg32">+	return types.NewTx(&amp;types.BlobTx{</span>
                                                        <span class="term-fg32">+		Nonce: 1,</span>
                                                        <span class="term-fg32">+		To:    testAddr,</span>
                                                        <span class="term-fg32">+		Value: uint256.NewInt(1000),</span>
                                                        <span class="term-fg32">+		Gas:   1000,</span>
                                                        <span class="term-fg32">+		Data:  []byte(&quot;data&quot;),</span>
                                                        <span class="term-fg32">+	})</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func testDepositTx() *types.Transaction {</span>
                                                        <span class="term-fg32">+	return types.NewTx(&amp;types.DepositTx{</span>
                                                        <span class="term-fg32">+		From:  testAddr,</span>
                                                        <span class="term-fg32">+		Value: big.NewInt(1000),</span>
                                                        <span class="term-fg32">+		Gas:   1000,</span>
                                                        <span class="term-fg32">+	})</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func generateBech32MAddress() string {</span>
                                                        <span class="term-fg32">+	addressKey, err := crypto.GenerateKey()</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		panic(err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	bridgeAddress := crypto.PubkeyToAddress(addressKey.PublicKey)</span>
                                                        <span class="term-fg32">+	bridgeAddressBytes, err := bech32.ConvertBits(bridgeAddress.Bytes(), 8, 5, false)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		panic(err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	bech32m, err := bech32.EncodeM(&quot;astria&quot;, bridgeAddressBytes)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		panic(err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return bech32m</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestSequenceTxValidation(t *testing.T) {</span>
                                                        <span class="term-fg32">+	ethservice, serviceV1Alpha1 := setupExecutionService(t, 10)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	blobTx, err := testBlobTx().MarshalBinary()</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;failed to marshal random blob tx: %v&quot;, err)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	depositTx, err := testDepositTx().MarshalBinary()</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;failed to marshal random deposit tx: %v&quot;, err)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	unsignedTx := types.NewTransaction(uint64(0), common.HexToAddress(&quot;0x9a9070028361F7AAbeB3f2F2Dc07F82C4a98A02a&quot;), big.NewInt(1), params.TxGas, big.NewInt(params.InitialBaseFee*2), nil)</span>
                                                        <span class="term-fg32">+	tx, err := types.SignTx(unsignedTx, types.LatestSigner(ethservice.BlockChain().Config()), testKey)</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;failed to sign tx: %v&quot;, err)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	validMarshalledTx, err := tx.MarshalBinary()</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;failed to marshal valid tx: %v&quot;, err)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	chainDestinationKey, err := crypto.GenerateKey()</span>
                                                        <span class="term-fg32">+	require.Nil(t, err, &quot;failed to generate chain destination key: %v&quot;, err)</span>
                                                        <span class="term-fg32">+	chainDestinationAddress := crypto.PubkeyToAddress(chainDestinationKey.PublicKey)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	bridgeAssetDenom := ethservice.BlockChain().Config().AstriaBridgeAddressConfigs[0].AssetDenom</span>
                                                        <span class="term-fg32">+	invalidBridgeAssetDenom := &quot;invalid-asset-denom&quot;</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	invalidHeightBridgeAssetDenom := &quot;invalid-height-asset-denom&quot;</span>
                                                        <span class="term-fg32">+	invalidHeightBridgeAddressBech32m := generateBech32MAddress()</span>
                                                        <span class="term-fg32">+	serviceV1Alpha1.bridgeAddresses[invalidHeightBridgeAddressBech32m] = &amp;params.AstriaBridgeAddressConfig{</span>
                                                        <span class="term-fg32">+		AssetDenom:  invalidHeightBridgeAssetDenom,</span>
                                                        <span class="term-fg32">+		StartHeight: 100,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	bridgeAddress := ethservice.BlockChain().Config().AstriaBridgeAddressConfigs[0].BridgeAddress</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	tests := []struct {</span>
                                                        <span class="term-fg32">+		description string</span>
                                                        <span class="term-fg32">+		sequencerTx *sequencerblockv1.RollupData</span>
                                                        <span class="term-fg32">+		&#47;&#47; just check if error contains the string since error contains other details</span>
                                                        <span class="term-fg32">+		wantErr string</span>
                                                        <span class="term-fg32">+	}{</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;unmarshallable sequencer tx&quot;,</span>
                                                        <span class="term-fg32">+			sequencerTx: &amp;sequencerblockv1.RollupData{</span>
                                                        <span class="term-fg32">+				Value: &amp;sequencerblockv1.RollupData_SequencedData{</span>
                                                        <span class="term-fg32">+					SequencedData: []byte(&quot;unmarshallable tx&quot;),</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			wantErr: &quot;failed to unmarshal sequenced data into transaction&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;blob type sequence tx&quot;,</span>
                                                        <span class="term-fg32">+			sequencerTx: &amp;sequencerblockv1.RollupData{</span>
                                                        <span class="term-fg32">+				Value: &amp;sequencerblockv1.RollupData_SequencedData{</span>
                                                        <span class="term-fg32">+					SequencedData: blobTx,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			wantErr: &quot;blob tx not allowed in sequenced data&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;deposit type sequence tx&quot;,</span>
                                                        <span class="term-fg32">+			sequencerTx: &amp;sequencerblockv1.RollupData{</span>
                                                        <span class="term-fg32">+				Value: &amp;sequencerblockv1.RollupData_SequencedData{</span>
                                                        <span class="term-fg32">+					SequencedData: depositTx,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			wantErr: &quot;deposit tx not allowed in sequenced data&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;deposit tx with an unknown bridge address&quot;,</span>
                                                        <span class="term-fg32">+			sequencerTx: &amp;sequencerblockv1.RollupData{Value: &amp;sequencerblockv1.RollupData_Deposit{Deposit: &amp;sequencerblockv1.Deposit{</span>
                                                        <span class="term-fg32">+				BridgeAddress: &amp;primitivev1.Address{</span>
                                                        <span class="term-fg32">+					Bech32M: generateBech32MAddress(),</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				Asset:                   bridgeAssetDenom,</span>
                                                        <span class="term-fg32">+				Amount:                  bigIntToProtoU128(big.NewInt(1000000000000000000)),</span>
                                                        <span class="term-fg32">+				RollupId:                &amp;primitivev1.RollupId{Inner: make([]byte, 0)},</span>
                                                        <span class="term-fg32">+				DestinationChainAddress: chainDestinationAddress.String(),</span>
                                                        <span class="term-fg32">+				SourceTransactionId: &amp;primitivev1.TransactionId{</span>
                                                        <span class="term-fg32">+					Inner: &quot;test_tx_hash&quot;,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				SourceActionIndex: 0,</span>
                                                        <span class="term-fg32">+			}}},</span>
                                                        <span class="term-fg32">+			wantErr: &quot;unknown bridge address&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;deposit tx with a disallowed asset id&quot;,</span>
                                                        <span class="term-fg32">+			sequencerTx: &amp;sequencerblockv1.RollupData{Value: &amp;sequencerblockv1.RollupData_Deposit{Deposit: &amp;sequencerblockv1.Deposit{</span>
                                                        <span class="term-fg32">+				BridgeAddress: &amp;primitivev1.Address{</span>
                                                        <span class="term-fg32">+					Bech32M: bridgeAddress,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				Asset:                   invalidBridgeAssetDenom,</span>
                                                        <span class="term-fg32">+				Amount:                  bigIntToProtoU128(big.NewInt(1000000000000000000)),</span>
                                                        <span class="term-fg32">+				RollupId:                &amp;primitivev1.RollupId{Inner: make([]byte, 0)},</span>
                                                        <span class="term-fg32">+				DestinationChainAddress: chainDestinationAddress.String(),</span>
                                                        <span class="term-fg32">+				SourceTransactionId: &amp;primitivev1.TransactionId{</span>
                                                        <span class="term-fg32">+					Inner: &quot;test_tx_hash&quot;,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				SourceActionIndex: 0,</span>
                                                        <span class="term-fg32">+			}}},</span>
                                                        <span class="term-fg32">+			wantErr: &quot;disallowed asset&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;deposit tx with a height and asset below the bridge start height&quot;,</span>
                                                        <span class="term-fg32">+			sequencerTx: &amp;sequencerblockv1.RollupData{Value: &amp;sequencerblockv1.RollupData_Deposit{Deposit: &amp;sequencerblockv1.Deposit{</span>
                                                        <span class="term-fg32">+				BridgeAddress: &amp;primitivev1.Address{</span>
                                                        <span class="term-fg32">+					Bech32M: invalidHeightBridgeAddressBech32m,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				Asset:                   invalidHeightBridgeAssetDenom,</span>
                                                        <span class="term-fg32">+				Amount:                  bigIntToProtoU128(big.NewInt(1000000000000000000)),</span>
                                                        <span class="term-fg32">+				RollupId:                &amp;primitivev1.RollupId{Inner: make([]byte, 0)},</span>
                                                        <span class="term-fg32">+				DestinationChainAddress: chainDestinationAddress.String(),</span>
                                                        <span class="term-fg32">+				SourceTransactionId: &amp;primitivev1.TransactionId{</span>
                                                        <span class="term-fg32">+					Inner: &quot;test_tx_hash&quot;,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				SourceActionIndex: 0,</span>
                                                        <span class="term-fg32">+			}}},</span>
                                                        <span class="term-fg32">+			wantErr: &quot;not allowed before height&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;valid deposit tx&quot;,</span>
                                                        <span class="term-fg32">+			sequencerTx: &amp;sequencerblockv1.RollupData{Value: &amp;sequencerblockv1.RollupData_Deposit{Deposit: &amp;sequencerblockv1.Deposit{</span>
                                                        <span class="term-fg32">+				BridgeAddress: &amp;primitivev1.Address{</span>
                                                        <span class="term-fg32">+					Bech32M: bridgeAddress,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				Asset:                   bridgeAssetDenom,</span>
                                                        <span class="term-fg32">+				Amount:                  bigIntToProtoU128(big.NewInt(1000000000000000000)),</span>
                                                        <span class="term-fg32">+				RollupId:                &amp;primitivev1.RollupId{Inner: make([]byte, 0)},</span>
                                                        <span class="term-fg32">+				DestinationChainAddress: chainDestinationAddress.String(),</span>
                                                        <span class="term-fg32">+				SourceTransactionId: &amp;primitivev1.TransactionId{</span>
                                                        <span class="term-fg32">+					Inner: &quot;test_tx_hash&quot;,</span>
                                                        <span class="term-fg32">+				},</span>
                                                        <span class="term-fg32">+				SourceActionIndex: 0,</span>
                                                        <span class="term-fg32">+			}}},</span>
                                                        <span class="term-fg32">+			wantErr: &quot;&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			description: &quot;valid sequencer tx&quot;,</span>
                                                        <span class="term-fg32">+			sequencerTx: &amp;sequencerblockv1.RollupData{</span>
                                                        <span class="term-fg32">+				Value: &amp;sequencerblockv1.RollupData_SequencedData{SequencedData: validMarshalledTx},</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			wantErr: &quot;&quot;,</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	for _, test := range tests {</span>
                                                        <span class="term-fg32">+		t.Run(test.description, func(t *testing.T) {</span>
                                                        <span class="term-fg32">+			_, err := validateAndUnmarshalSequencerTx(2, test.sequencerTx, serviceV1Alpha1.bridgeAddresses, serviceV1Alpha1.bridgeAllowedAssets)</span>
                                                        <span class="term-fg32">+			if test.wantErr == &quot;&quot; &amp;&amp; err == nil {</span>
                                                        <span class="term-fg32">+				return</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			require.False(t, test.wantErr == &quot;&quot; &amp;&amp; err != nil, &quot;expected error, got nil&quot;)</span>
                                                        <span class="term-fg32">+			require.Contains(t, err.Error(), test.wantErr)</span>
                                                        <span class="term-fg32">+		})</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span></div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-958f547b13a2357d2d7cc1a5"role="button" aria-expanded="false" aria-controls="id-958f547b13a2357d2d7cc1a5">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>TX Pool</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+234</span></div>
                                                <div class="text-start"><span class="text-danger">-29</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-958f547b13a2357d2d7cc1a5">
                                            <div><p>Transactions ordering as set by the shared sequencer</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-90f94993f5747e6d7715777a" role="button"
                                                           aria-expanded="false" aria-controls="id-90f94993f5747e6d7715777a">
                                                            <code>core/txpool/blobpool/blobpool.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/txpool/blobpool/blobpool.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/txpool/blobpool/blobpool.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+6</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-90f94993f5747e6d7715777a"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;txpool&#47;blobpool&#47;blobpool.go astria-geth&#47;core&#47;txpool&#47;blobpool&#47;blobpool.go</span>
                                                        <span class="term-fg1">index f1c2c10fc965311c957cc6fba12ba40861a3e4af..8e138801200feaab432f1a6a1c10342acc8213a7 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;txpool&#47;blobpool&#47;blobpool.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;txpool&#47;blobpool&#47;blobpool.go</span>
                                                        <span class="term-fg36">@@ -334,6 +334,12 @@</span> 		spent:  make(map[common.Address]*uint256.Int),
                                                        }
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg32">+func (p *BlobPool) SetAstriaOrdered(types.Transactions)             {}</span>
                                                        <span class="term-fg32">+func (p *BlobPool) ClearAstriaOrdered()                             {}</span>
                                                        <span class="term-fg32">+func (p *BlobPool) AddToAstriaExcludedFromBlock(*types.Transaction) {}</span>
                                                        <span class="term-fg32">+func (p *BlobPool) AstriaExcludedFromBlock() *types.Transactions    { return &amp;types.Transactions{} }</span>
                                                        <span class="term-fg32">+func (p *BlobPool) AstriaOrdered() *types.Transactions              { return &amp;types.Transactions{} }</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Filter returns whether the given transaction can be consumed by the blob pool.
                                                        func (p *BlobPool) Filter(tx *types.Transaction) bool {
                                                        return tx.Type() == types.BlobTxType</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-0c503d5ca58ddc5d4a5b2c45" role="button"
                                                           aria-expanded="false" aria-controls="id-0c503d5ca58ddc5d4a5b2c45">
                                                            <code>core/txpool/legacypool/legacypool.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/txpool/legacypool/legacypool.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/txpool/legacypool/legacypool.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+91</span></div>
                                                            <div class="text-start"><span class="text-danger">-1</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-0c503d5ca58ddc5d4a5b2c45"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;txpool&#47;legacypool&#47;legacypool.go astria-geth&#47;core&#47;txpool&#47;legacypool&#47;legacypool.go</span>
                                                        <span class="term-fg1">index 4e1d26acf4056712a3a4bff2f8bc796fc81f8759..1861679020c662a7239758d8d7950510ee5c4ee7 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;txpool&#47;legacypool&#47;legacypool.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;txpool&#47;legacypool&#47;legacypool.go</span>
                                                        <span class="term-fg36">@@ -101,6 +101,11 @@</span> 	localGauge   = metrics.NewRegisteredGauge(&quot;txpool&#47;local&quot;, nil)
                                                        slotsGauge   = metrics.NewRegisteredGauge(&quot;txpool&#47;slots&quot;, nil)
                                                        &nbsp;
                                                        reheapTimer = metrics.NewRegisteredTimer(&quot;txpool&#47;reheap&quot;, nil)
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Metrics related to the astria ordered txs</span>
                                                        <span class="term-fg32">+	astriaValidMeter             = metrics.GetOrRegisterMeter(&quot;astria&#47;txpool&#47;valid&quot;, nil)</span>
                                                        <span class="term-fg32">+	astriaExcludedFromBlockMeter = metrics.GetOrRegisterMeter(&quot;astria&#47;txpool&#47;excludedFromBlock&quot;, nil)</span>
                                                        <span class="term-fg32">+	astriaRequestedMeter         = metrics.GetOrRegisterMeter(&quot;astria&#47;txpool&#47;requested&quot;, nil)</span>
                                                        )
                                                        &nbsp;
                                                        &#47;&#47; BlockChain defines the minimal set of methods needed to back a tx pool with
                                                        <span class="term-fg36">@@ -208,6 +213,8 @@</span> 	txFeed      event.Feed
                                                        signer      types.Signer
                                                        mu          sync.RWMutex
                                                        &nbsp;
                                                        <span class="term-fg32">+	astria *astriaOrdered</span>
                                                        <span class="term-fg32">+</span>
                                                        currentHead   atomic.Pointer[types.Header] &#47;&#47; Current head of the blockchain
                                                        currentState  *state.StateDB               &#47;&#47; Current state in the blockchain head
                                                        pendingNonces *noncer                      &#47;&#47; Pending state tracking virtual nonces
                                                        <span class="term-fg36">@@ -271,6 +278,88 @@</span> 	if !config.NoLocals &amp;&amp; config.Journal != &quot;&quot; {
                                                        pool.journal = newTxJournal(config.Journal)
                                                        }
                                                        return pool
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+type astriaOrdered struct {</span>
                                                        <span class="term-fg32">+	valid             types.Transactions</span>
                                                        <span class="term-fg32">+	excludedFromBlock types.Transactions</span>
                                                        <span class="term-fg32">+	pool              *LegacyPool</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func newAstriaOrdered(valid types.Transactions, pool *LegacyPool) *astriaOrdered {</span>
                                                        <span class="term-fg32">+	astriaValidMeter.Mark(int64(len(valid)))</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return &amp;astriaOrdered{</span>
                                                        <span class="term-fg32">+		valid:             valid,</span>
                                                        <span class="term-fg32">+		excludedFromBlock: types.Transactions{},</span>
                                                        <span class="term-fg32">+		pool:              pool,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (ao *astriaOrdered) clear() {</span>
                                                        <span class="term-fg32">+	ao.valid = types.Transactions{}</span>
                                                        <span class="term-fg32">+	ao.excludedFromBlock = types.Transactions{}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (pool *LegacyPool) SetAstriaOrdered(txs types.Transactions) {</span>
                                                        <span class="term-fg32">+	astriaRequestedMeter.Mark(int64(len(txs)))</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	valid := []*types.Transaction{}</span>
                                                        <span class="term-fg32">+	for idx, tx := range txs {</span>
                                                        <span class="term-fg32">+		err := pool.validateTxBasics(tx, false)</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			log.Warn(&quot;astria tx failed validation&quot;, &quot;index&quot;, idx, &quot;hash&quot;, tx.Hash(), &quot;error&quot;, err)</span>
                                                        <span class="term-fg32">+			continue</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		valid = append(valid, tx)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	pool.astria = newAstriaOrdered(valid, pool)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (pool *LegacyPool) AddToAstriaExcludedFromBlock(tx *types.Transaction) {</span>
                                                        <span class="term-fg32">+	if pool.astria.excludedFromBlock == nil {</span>
                                                        <span class="term-fg32">+		pool.astria.excludedFromBlock = types.Transactions{tx}</span>
                                                        <span class="term-fg32">+		return</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	pool.astria.excludedFromBlock = append(pool.astria.excludedFromBlock, tx)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (pool *LegacyPool) AstriaExcludedFromBlock() *types.Transactions {</span>
                                                        <span class="term-fg32">+	if pool.astria == nil {</span>
                                                        <span class="term-fg32">+		return &amp;types.Transactions{}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;pool.astria.excludedFromBlock</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (pool *LegacyPool) ClearAstriaOrdered() {</span>
                                                        <span class="term-fg32">+	if pool.astria == nil {</span>
                                                        <span class="term-fg32">+		return</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	pool.mu.Lock()</span>
                                                        <span class="term-fg32">+	defer pool.mu.Unlock()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	astriaExcludedFromBlockMeter.Mark(int64(len(pool.astria.excludedFromBlock)))</span>
                                                        <span class="term-fg32">+	for _, tx := range pool.astria.excludedFromBlock {</span>
                                                        <span class="term-fg32">+		n := pool.removeTx(tx.Hash(), false, true)</span>
                                                        <span class="term-fg32">+		if n == 0 {</span>
                                                        <span class="term-fg32">+			log.Trace(&quot;astria tx excluded from block not found in mempool&quot;, &quot;hash&quot;, tx.Hash())</span>
                                                        <span class="term-fg32">+		} else {</span>
                                                        <span class="term-fg32">+			log.Trace(&quot;astria tx excluded from block removed from mempool&quot;, &quot;hash&quot;, tx.Hash())</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	pool.astria.clear()</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (pool *LegacyPool) AstriaOrdered() *types.Transactions {</span>
                                                        <span class="term-fg32">+	&#47;&#47; sus but whatever</span>
                                                        <span class="term-fg32">+	if pool.astria == nil {</span>
                                                        <span class="term-fg32">+		return &amp;types.Transactions{}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;pool.astria.valid</span>
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; Filter returns whether the given transaction can be consumed by the legacy
                                                        <span class="term-fg36">@@ -609,7 +698,8 @@</span> 		Config: pool.chainconfig,
                                                        Accept: 0 |
                                                        1&lt;&lt;types.LegacyTxType |
                                                        1&lt;&lt;types.AccessListTxType |
                                                        <span class="term-fg31">-			1&lt;&lt;types.DynamicFeeTxType,</span>
                                                        <span class="term-fg32">+			1&lt;&lt;types.DynamicFeeTxType |</span>
                                                        <span class="term-fg32">+			1&lt;&lt;types.DepositTxType,</span>
                                                        MaxSize: txMaxSize,
                                                        MinTip:  pool.gasTip.Load().ToBig(),
                                                        }</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-672e75ed6514878719f203d4" role="button"
                                                           aria-expanded="false" aria-controls="id-672e75ed6514878719f203d4">
                                                            <code>core/txpool/legacypool/legacypool_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/txpool/legacypool/legacypool_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/txpool/legacypool/legacypool_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+61</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-672e75ed6514878719f203d4"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;txpool&#47;legacypool&#47;legacypool_test.go astria-geth&#47;core&#47;txpool&#47;legacypool&#47;legacypool_test.go</span>
                                                        <span class="term-fg1">index c86991c942da8d3a84af7e527f06d5f37f9064f2..9eaa1bc54f46634520987f18f611ebd0f53074d7 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;txpool&#47;legacypool&#47;legacypool_test.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;txpool&#47;legacypool&#47;legacypool_test.go</span>
                                                        <span class="term-fg36">@@ -489,6 +489,67 @@</span> 		t.Error(&quot;didn&#39;t expect error&quot;, err)
                                                        }
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg32">+func TestRemoveTxSanity(t *testing.T) {</span>
                                                        <span class="term-fg32">+	t.Parallel()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	pool, key := setupPool()</span>
                                                        <span class="term-fg32">+	defer pool.Close()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	addr := crypto.PubkeyToAddress(key.PublicKey)</span>
                                                        <span class="term-fg32">+	resetState := func() {</span>
                                                        <span class="term-fg32">+		statedb, _ := state.New(types.EmptyRootHash, state.NewDatabase(rawdb.NewMemoryDatabase()), nil)</span>
                                                        <span class="term-fg32">+		statedb.AddBalance(addr, uint256.NewInt(100000000000000), tracing.BalanceChangeUnspecified)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		pool.chain = newTestBlockChain(pool.chainconfig, 1000000, statedb, new(event.Feed))</span>
                                                        <span class="term-fg32">+		&lt;-pool.requestReset(nil, nil)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	resetState()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	tx1 := transaction(0, 100000, key)</span>
                                                        <span class="term-fg32">+	tx2 := transaction(1, 100000, key)</span>
                                                        <span class="term-fg32">+	tx3 := transaction(2, 100000, key)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err := pool.addLocal(tx1); err != nil {</span>
                                                        <span class="term-fg32">+		t.Error(&quot;didn&#39;t expect error&quot;, err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if err := pool.addLocal(tx2); err != nil {</span>
                                                        <span class="term-fg32">+		t.Error(&quot;didn&#39;t expect error&quot;, err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if err := pool.addLocal(tx3); err != nil {</span>
                                                        <span class="term-fg32">+		t.Error(&quot;didn&#39;t expect error&quot;, err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	pendingTxs := pool.pending[addr]</span>
                                                        <span class="term-fg32">+	if pendingTxs.Len() != 3 {</span>
                                                        <span class="term-fg32">+		t.Error(&quot;expected 3 pending transactions, got&quot;, pendingTxs.Len())</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err := validatePoolInternals(pool); err != nil {</span>
                                                        <span class="term-fg32">+		t.Errorf(&quot;pool internals validation failed: %v&quot;, err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	n := pool.removeTx(tx1.Hash(), false, true)</span>
                                                        <span class="term-fg32">+	if n != 3 {</span>
                                                        <span class="term-fg32">+		t.Error(&quot;expected 3 transactions to be removed, got&quot;, n)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	n = pool.removeTx(tx2.Hash(), false, true)</span>
                                                        <span class="term-fg32">+	if n != 0 {</span>
                                                        <span class="term-fg32">+		t.Error(&quot;expected 0 transactions to be removed, got&quot;, n)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	n = pool.removeTx(tx3.Hash(), false, true)</span>
                                                        <span class="term-fg32">+	if n != 0 {</span>
                                                        <span class="term-fg32">+		t.Error(&quot;expected 0 transactions to be removed, got&quot;, n)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if len(pool.pending) != 0 {</span>
                                                        <span class="term-fg32">+		t.Error(&quot;expected 0 pending transactions, got&quot;, pendingTxs.Len())</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err := validatePoolInternals(pool); err != nil {</span>
                                                        <span class="term-fg32">+		t.Errorf(&quot;pool internals validation failed: %v&quot;, err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        func TestDoubleNonce(t *testing.T) {
                                                        t.Parallel()
                                                    </div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-0a30f861e7b806ea497b4d2d" role="button"
                                                           aria-expanded="false" aria-controls="id-0a30f861e7b806ea497b4d2d">
                                                            <code>core/txpool/subpool.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/txpool/subpool.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/txpool/subpool.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+6</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-0a30f861e7b806ea497b4d2d"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;txpool&#47;subpool.go astria-geth&#47;core&#47;txpool&#47;subpool.go</span>
                                                        <span class="term-fg1">index 9881ed1b8f960f0a61b7666a5a22412fa0228779..54b9ba8cf47ad79337cf8210a92838484e2e5e3e 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;txpool&#47;subpool.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;txpool&#47;subpool.go</span>
                                                        <span class="term-fg36">@@ -162,4 +162,10 @@</span>
                                                        &#47;&#47; Status returns the known status (unknown&#47;pending&#47;queued) of a transaction
                                                        &#47;&#47; identified by their hashes.
                                                        Status(hash common.Hash) TxStatus
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	SetAstriaOrdered(types.Transactions)</span>
                                                        <span class="term-fg32">+	ClearAstriaOrdered()</span>
                                                        <span class="term-fg32">+	AddToAstriaExcludedFromBlock(tx *types.Transaction)</span>
                                                        <span class="term-fg32">+	AstriaExcludedFromBlock() *types.Transactions</span>
                                                        <span class="term-fg32">+	AstriaOrdered() *types.Transactions</span>
                                                        }</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-dee27454c87861c5b83e063e" role="button"
                                                           aria-expanded="false" aria-controls="id-dee27454c87861c5b83e063e">
                                                            <code>core/txpool/txpool.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/txpool/txpool.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/txpool/txpool.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+41</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-dee27454c87861c5b83e063e"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;txpool&#47;txpool.go astria-geth&#47;core&#47;txpool&#47;txpool.go</span>
                                                        <span class="term-fg1">index be7435247d92749027ccbee4e92f0d44153b4a4b..9780a8d5f81314bae41b4939fbc0e4161621cbb2 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;txpool&#47;txpool.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;txpool&#47;txpool.go</span>
                                                        <span class="term-fg36">@@ -305,6 +305,47 @@</span> 	}
                                                        return nil
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg32">+&#47;&#47; Get returns a transaction if it is contained in the pool, or nil otherwise.</span>
                                                        <span class="term-fg32">+func (p *TxPool) SetAstriaOrdered(txs types.Transactions) {</span>
                                                        <span class="term-fg32">+	for _, subpool := range p.subpools {</span>
                                                        <span class="term-fg32">+		subpool.SetAstriaOrdered(txs)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (p *TxPool) ClearAstriaOrdered() {</span>
                                                        <span class="term-fg32">+	for _, subpool := range p.subpools {</span>
                                                        <span class="term-fg32">+		subpool.ClearAstriaOrdered()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (p *TxPool) AddToAstriaExcludedFromBlock(tx *types.Transaction) {</span>
                                                        <span class="term-fg32">+	for _, subpool := range p.subpools {</span>
                                                        <span class="term-fg32">+		subpool.AddToAstriaExcludedFromBlock(tx)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (p *TxPool) AstriaExcludedFromBlock() *types.Transactions {</span>
                                                        <span class="term-fg32">+	txs := types.Transactions{}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	for _, subpool := range p.subpools {</span>
                                                        <span class="term-fg32">+		subpoolTxs := subpool.AstriaExcludedFromBlock()</span>
                                                        <span class="term-fg32">+		txs = append(txs, *subpoolTxs...)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return &amp;txs</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (p *TxPool) AstriaOrdered() *types.Transactions {</span>
                                                        <span class="term-fg32">+	txs := types.Transactions{}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	for _, subpool := range p.subpools {</span>
                                                        <span class="term-fg32">+		subpoolTxs := subpool.AstriaOrdered()</span>
                                                        <span class="term-fg32">+		txs = append(txs, *subpoolTxs...)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return &amp;txs</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Add enqueues a batch of transactions into the pool if they are valid. Due
                                                        &#47;&#47; to the large transaction churn, add may postpone fully integrating the tx
                                                        &#47;&#47; to a later point to batch multiple ones together.</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-b716a524d54b7b55862abccc" role="button"
                                                           aria-expanded="false" aria-controls="id-b716a524d54b7b55862abccc">
                                                            <code>core/txpool/validation.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/txpool/validation.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/txpool/validation.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+19</span></div>
                                                            <div class="text-start"><span class="text-danger">-16</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-b716a524d54b7b55862abccc"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;txpool&#47;validation.go astria-geth&#47;core&#47;txpool&#47;validation.go</span>
                                                        <span class="term-fg1">index 555b777505cf378555111fee11e76911f991ad8b..58fe760b998c87a0853897ff11f9cd1abea66b3b 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;txpool&#47;validation.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;txpool&#47;validation.go</span>
                                                        <span class="term-fg36">@@ -97,22 +97,25 @@</span> 	&#47;&#47; Ensure gasFeeCap is greater than or equal to gasTipCap
                                                        if tx.GasFeeCapIntCmp(tx.GasTipCap()) &lt; 0 {
                                                        return core.ErrTipAboveFeeCap
                                                        }
                                                        <span class="term-fg31">-	&#47;&#47; Make sure the transaction is signed properly</span>
                                                        <span class="term-fg31">-	if _, err := types.Sender(signer, tx); err != nil {</span>
                                                        <span class="term-fg31">-		return ErrInvalidSender</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-	&#47;&#47; Ensure the transaction has more gas than the bare minimum needed to cover</span>
                                                        <span class="term-fg31">-	&#47;&#47; the transaction metadata</span>
                                                        <span class="term-fg31">-	intrGas, err := core.IntrinsicGas(tx.Data(), tx.AccessList(), tx.To() == nil, true, opts.Config.IsIstanbul(head.Number), opts.Config.IsShanghai(head.Number, head.Time))</span>
                                                        <span class="term-fg31">-	if err != nil {</span>
                                                        <span class="term-fg31">-		return err</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-	if tx.Gas() &lt; intrGas {</span>
                                                        <span class="term-fg31">-		return fmt.Errorf(&quot;%w: gas %v, minimum needed %v&quot;, core.ErrIntrinsicGas, tx.Gas(), intrGas)</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-	&#47;&#47; Ensure the gasprice is high enough to cover the requirement of the calling pool</span>
                                                        <span class="term-fg31">-	if tx.GasTipCapIntCmp(opts.MinTip) &lt; 0 {</span>
                                                        <span class="term-fg31">-		return fmt.Errorf(&quot;%w: gas tip cap %v, minimum needed %v&quot;, ErrUnderpriced, tx.GasTipCap(), opts.MinTip)</span>
                                                        <span class="term-fg32">+	if tx.Type() != types.DepositTxType {</span>
                                                        <span class="term-fg32">+		&#47;&#47; Make sure the transaction is signed properly</span>
                                                        <span class="term-fg32">+		if _, err := types.Sender(signer, tx); err != nil {</span>
                                                        <span class="term-fg32">+			return ErrInvalidSender</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		&#47;&#47; Ensure the transaction has more gas than the bare minimum needed to cover</span>
                                                        <span class="term-fg32">+		&#47;&#47; the transaction metadata</span>
                                                        <span class="term-fg32">+		intrGas, err := core.IntrinsicGas(tx.Data(), tx.AccessList(), tx.To() == nil, true, opts.Config.IsIstanbul(head.Number), opts.Config.IsShanghai(head.Number, head.Time), false)</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			return err</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		if tx.Gas() &lt; intrGas {</span>
                                                        <span class="term-fg32">+			return fmt.Errorf(&quot;%w: needed %v, allowed %v&quot;, core.ErrIntrinsicGas, intrGas, tx.Gas())</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		&#47;&#47; Ensure the gasprice is high enough to cover the requirement of the calling</span>
                                                        <span class="term-fg32">+		&#47;&#47; pool and&#47;or block producer</span>
                                                        <span class="term-fg32">+		if tx.GasTipCapIntCmp(opts.MinTip) &lt; 0 {</span>
                                                        <span class="term-fg32">+			return fmt.Errorf(&quot;%w: tip needed %v, tip permitted %v&quot;, ErrUnderpriced, opts.MinTip, tx.GasTipCap())</span>
                                                        <span class="term-fg32">+		}</span>
                                                        }
                                                        if tx.Type() == types.BlobTxType {
                                                        &#47;&#47; Ensure the blob fee cap satisfies the minimum blob gas price</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-37c60bba6ace0d1349eb0c80" role="button"
                                                           aria-expanded="false" aria-controls="id-37c60bba6ace0d1349eb0c80">
                                                            <code>eth/catalyst/api_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/eth/catalyst/api_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/eth/catalyst/api_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+6</span></div>
                                                            <div class="text-start"><span class="text-danger">-7</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-37c60bba6ace0d1349eb0c80"><span class="term-fg1">diff --git go-ethereum&#47;eth&#47;catalyst&#47;api_test.go astria-geth&#47;eth&#47;catalyst&#47;api_test.go</span>
                                                        <span class="term-fg1">index 0586959f0633b8d4d2219f5bf97565ea95887b37..0c05d099d6da8c815ea39b46f6315b436bfaa0f2 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;eth&#47;catalyst&#47;api_test.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;eth&#47;catalyst&#47;api_test.go</span>
                                                        <span class="term-fg36">@@ -13,7 +13,6 @@</span> &#47;&#47; GNU Lesser General Public License for more details.
                                                        &#47;&#47;
                                                        &#47;&#47; You should have received a copy of the GNU Lesser General Public License
                                                        &#47;&#47; along with the go-ethereum library. If not, see &lt;http:&#47;&#47;www.gnu.org&#47;licenses&#47;&gt;.
                                                        <span class="term-fg31">-</span>
                                                        package catalyst
                                                        &nbsp;
                                                        import (
                                                        <span class="term-fg36">@@ -112,7 +111,7 @@</span> 	tx, err := types.SignTx(types.NewTransaction(uint64(10), blocks[9].Coinbase(), big.NewInt(1000), params.TxGas, big.NewInt(params.InitialBaseFee), nil), signer, testKey)
                                                        if err != nil {
                                                        t.Fatalf(&quot;error signing transaction, err=%v&quot;, err)
                                                        }
                                                        <span class="term-fg31">-	ethservice.TxPool().Add([]*types.Transaction{tx}, true, true)</span>
                                                        <span class="term-fg32">+	ethservice.TxPool().SetAstriaOrdered([]*types.Transaction{tx})</span>
                                                        blockParams := engine.PayloadAttributes{
                                                        Timestamp: blocks[9].Time() + 5,
                                                        }
                                                        <span class="term-fg36">@@ -149,7 +148,7 @@</span> 	api := NewConsensusAPI(ethservice)
                                                        &nbsp;
                                                        &#47;&#47; Put the 10th block&#39;s tx in the pool and produce a new block
                                                        txs := blocks[9].Transactions()
                                                        <span class="term-fg31">-	api.eth.TxPool().Add(txs, false, true)</span>
                                                        <span class="term-fg32">+	api.eth.TxPool().SetAstriaOrdered(txs)</span>
                                                        blockParams := engine.PayloadAttributes{
                                                        Timestamp: blocks[8].Time() + 5,
                                                        }
                                                        <span class="term-fg36">@@ -189,7 +188,7 @@</span> 	api := NewConsensusAPI(ethservice)
                                                        &nbsp;
                                                        &#47;&#47; Put the 10th block&#39;s tx in the pool and produce a new block
                                                        txs := blocks[9].Transactions()
                                                        <span class="term-fg31">-	ethservice.TxPool().Add(txs, true, true)</span>
                                                        <span class="term-fg32">+	ethservice.TxPool().SetAstriaOrdered(txs)</span>
                                                        blockParams := engine.PayloadAttributes{
                                                        Timestamp: blocks[8].Time() + 5,
                                                        }
                                                        <span class="term-fg36">@@ -310,7 +309,7 @@</span> 	for i := 0; i &lt; 10; i++ {
                                                        statedb, _ := ethservice.BlockChain().StateAt(parent.Root())
                                                        nonce := statedb.GetNonce(testAddr)
                                                        tx, _ := types.SignTx(types.NewContractCreation(nonce, new(big.Int), 1000000, big.NewInt(2*params.InitialBaseFee), logCode), types.LatestSigner(ethservice.BlockChain().Config()), testKey)
                                                        <span class="term-fg31">-		ethservice.TxPool().Add([]*types.Transaction{tx}, true, true)</span>
                                                        <span class="term-fg32">+		ethservice.TxPool().SetAstriaOrdered([]*types.Transaction{tx})</span>
                                                        &nbsp;
                                                        execData, err := assembleWithTransactions(api, parent.Hash(), &amp;engine.PayloadAttributes{
                                                        Timestamp: parent.Time() + 5,
                                                        <span class="term-fg36">@@ -480,7 +479,7 @@</span> 	callback := func(parent *types.Header) {
                                                        statedb, _ := ethservice.BlockChain().StateAt(parent.Root)
                                                        nonce := statedb.GetNonce(testAddr)
                                                        tx, _ := types.SignTx(types.NewContractCreation(nonce, new(big.Int), 1000000, big.NewInt(2*params.InitialBaseFee), logCode), types.LatestSigner(ethservice.BlockChain().Config()), testKey)
                                                        <span class="term-fg31">-		ethservice.TxPool().Add([]*types.Transaction{tx}, true, false)</span>
                                                        <span class="term-fg32">+		ethservice.TxPool().SetAstriaOrdered([]*types.Transaction{tx})</span>
                                                        }
                                                        &nbsp;
                                                        setupBlocks(t, ethservice, 10, parent, callback, nil)
                                                        <span class="term-fg36">@@ -606,7 +605,7 @@</span> 			Gas:      1000000,
                                                        GasPrice: big.NewInt(2 * params.InitialBaseFee),
                                                        Data:     logCode,
                                                        })
                                                        <span class="term-fg31">-		ethservice.TxPool().Add([]*types.Transaction{tx}, false, true)</span>
                                                        <span class="term-fg32">+		ethservice.TxPool().SetAstriaOrdered([]*types.Transaction{tx})</span>
                                                        var (
                                                        params = engine.PayloadAttributes{
                                                        Timestamp:             parent.Time + 1,</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-e996d31e8a166c987f97fb67" role="button"
                                                           aria-expanded="false" aria-controls="id-e996d31e8a166c987f97fb67">
                                                            <code>eth/catalyst/simulated_beacon_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/eth/catalyst/simulated_beacon_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/eth/catalyst/simulated_beacon_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+4</span></div>
                                                            <div class="text-start"><span class="text-danger">-5</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-e996d31e8a166c987f97fb67"><span class="term-fg1">diff --git go-ethereum&#47;eth&#47;catalyst&#47;simulated_beacon_test.go astria-geth&#47;eth&#47;catalyst&#47;simulated_beacon_test.go</span>
                                                        <span class="term-fg1">index bb10938c359d6cf5e18a2d1b744ed4eed3be7956..75e464b71c6c7e3837fb0f322bb34a9cd160482b 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;eth&#47;catalyst&#47;simulated_beacon_test.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;eth&#47;catalyst&#47;simulated_beacon_test.go</span>
                                                        <span class="term-fg36">@@ -13,11 +13,9 @@</span> &#47;&#47; GNU Lesser General Public License for more details.
                                                        &#47;&#47;
                                                        &#47;&#47; You should have received a copy of the GNU Lesser General Public License
                                                        &#47;&#47; along with the go-ethereum library. If not, see &lt;http:&#47;&#47;www.gnu.org&#47;licenses&#47;&gt;.
                                                        <span class="term-fg31">-</span>
                                                        package catalyst
                                                        &nbsp;
                                                        import (
                                                        <span class="term-fg31">-	&quot;context&quot;</span>
                                                        &quot;math&#47;big&quot;
                                                        &quot;testing&quot;
                                                        &quot;time&quot;
                                                        <span class="term-fg36">@@ -105,6 +103,7 @@</span> 	}
                                                        &nbsp;
                                                        &#47;&#47; generate a bunch of transactions
                                                        signer := types.NewEIP155Signer(ethService.BlockChain().Config().ChainID)
                                                        <span class="term-fg32">+	allTxs := types.Transactions{}</span>
                                                        for i := 0; i &lt; 20; i++ {
                                                        tx, err := types.SignTx(types.NewTransaction(uint64(i), common.Address{}, big.NewInt(1000), params.TxGas, big.NewInt(params.InitialBaseFee), nil), signer, testKey)
                                                        if err != nil {
                                                        <span class="term-fg36">@@ -112,10 +111,10 @@</span> 			t.Fatalf(&quot;error signing transaction, err=%v&quot;, err)
                                                        }
                                                        txs[tx.Hash()] = tx
                                                        &nbsp;
                                                        <span class="term-fg31">-		if err := ethService.APIBackend.SendTx(context.Background(), tx); err != nil {</span>
                                                        <span class="term-fg31">-			t.Fatal(&quot;SendTx failed&quot;, err)</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg32">+		allTxs = append(allTxs, tx)</span>
                                                        }
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	ethService.TxPool().SetAstriaOrdered(allTxs)</span>
                                                        &nbsp;
                                                        includedTxs := make(map[common.Hash]struct{})
                                                        var includedWithdrawals []uint64</div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-7e4dce19b93bfe4011a57ed1"role="button" aria-expanded="false" aria-controls="id-7e4dce19b93bfe4011a57ed1">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>Deposit Transaction type</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+165</span></div>
                                                <div class="text-start"><span class="text-danger">-8</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-7e4dce19b93bfe4011a57ed1">
                                            <div><p><code>Deposit</code> transaction type enable changes to the rollup based on sequencer layer events</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-a7c2de47ecdbd6a1234c5f82" role="button"
                                                           aria-expanded="false" aria-controls="id-a7c2de47ecdbd6a1234c5f82">
                                                            <code>core/state_transition.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/state_transition.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/state_transition.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+61</span></div>
                                                            <div class="text-start"><span class="text-danger">-6</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-a7c2de47ecdbd6a1234c5f82"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;state_transition.go astria-geth&#47;core&#47;state_transition.go</span>
                                                        <span class="term-fg1">index a52e24dc43957d4f1aa4dacd6fe015b0845839e5..45c3a81016a7ebee4b750de12692347bd676ba08 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;state_transition.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;state_transition.go</span>
                                                        <span class="term-fg36">@@ -27,6 +27,7 @@</span> 	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;tracing&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;vm&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&#47;kzg4844&quot;
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;log&quot;</span>
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;
                                                        &quot;github.com&#47;holiman&#47;uint256&quot;
                                                        )
                                                        <span class="term-fg36">@@ -68,7 +69,12 @@</span> 	return common.CopyBytes(result.ReturnData)
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; IntrinsicGas computes the &#39;intrinsic gas&#39; for a message with the given data.
                                                        <span class="term-fg31">-func IntrinsicGas(data []byte, accessList types.AccessList, isContractCreation bool, isHomestead, isEIP2028, isEIP3860 bool) (uint64, error) {</span>
                                                        <span class="term-fg32">+func IntrinsicGas(data []byte, accessList types.AccessList, isContractCreation bool, isHomestead, isEIP2028 bool, isEIP3860 bool, isDepositTx bool) (uint64, error) {</span>
                                                        <span class="term-fg32">+	if isDepositTx {</span>
                                                        <span class="term-fg32">+		&#47;&#47; deposit txs are gasless</span>
                                                        <span class="term-fg32">+		return 0, nil</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Set the starting gas for the raw transaction
                                                        var gas uint64
                                                        if isContractCreation &amp;&amp; isHomestead {
                                                        <span class="term-fg36">@@ -141,6 +147,7 @@</span> 	Data          []byte
                                                        AccessList    types.AccessList
                                                        BlobGasFeeCap *big.Int
                                                        BlobHashes    []common.Hash
                                                        <span class="term-fg32">+	IsDepositTx   bool</span>
                                                        &nbsp;
                                                        &#47;&#47; When SkipAccountChecks is true, the message nonce is not checked against the
                                                        &#47;&#47; account nonce in state. It also disables checking that the sender is an EOA.
                                                        <span class="term-fg36">@@ -150,6 +157,8 @@</span> }
                                                        &nbsp;
                                                        &#47;&#47; TransactionToMessage converts a transaction into a Message.
                                                        func TransactionToMessage(tx *types.Transaction, s types.Signer, baseFee *big.Int) (*Message, error) {
                                                        <span class="term-fg32">+	isDepositTx := tx.Type() == types.DepositTxType</span>
                                                        <span class="term-fg32">+</span>
                                                        msg := &amp;Message{
                                                        Nonce:             tx.Nonce(),
                                                        GasLimit:          tx.Gas(),
                                                        <span class="term-fg36">@@ -163,11 +172,17 @@</span> 		AccessList:        tx.AccessList(),
                                                        SkipAccountChecks: false,
                                                        BlobHashes:        tx.BlobHashes(),
                                                        BlobGasFeeCap:     tx.BlobGasFeeCap(),
                                                        <span class="term-fg32">+		IsDepositTx:       isDepositTx,</span>
                                                        }
                                                        &#47;&#47; If baseFee provided, set gasPrice to effectiveGasPrice.
                                                        if baseFee != nil {
                                                        msg.GasPrice = cmath.BigMin(msg.GasPrice.Add(msg.GasTipCap, baseFee), msg.GasFeeCap)
                                                        }
                                                        <span class="term-fg32">+	if isDepositTx {</span>
                                                        <span class="term-fg32">+		msg.From = tx.From()</span>
                                                        <span class="term-fg32">+		return msg, nil</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        var err error
                                                        msg.From, err = types.Sender(s, tx)
                                                        return msg, err
                                                        <span class="term-fg36">@@ -277,6 +292,12 @@</span> 	return nil
                                                        }
                                                        &nbsp;
                                                        func (st *StateTransition) preCheck() error {
                                                        <span class="term-fg32">+	if st.msg.IsDepositTx {</span>
                                                        <span class="term-fg32">+		&#47;&#47; deposit txs do not require checks as they are part of rollup consensus,</span>
                                                        <span class="term-fg32">+		&#47;&#47; not txs that originate externally.</span>
                                                        <span class="term-fg32">+		return nil</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Only check transactions that are not fake
                                                        msg := st.msg
                                                        if !msg.SkipAccountChecks {
                                                        <span class="term-fg36">@@ -370,6 +391,23 @@</span> &#47;&#47;
                                                        &#47;&#47; However if any consensus issue encountered, return the error directly with
                                                        &#47;&#47; nil evm execution result.
                                                        func (st *StateTransition) TransitionDb() (*ExecutionResult, error) {
                                                        <span class="term-fg32">+	&#47;&#47; if this is a deposit tx, we only need to mint funds and no gas is used.</span>
                                                        <span class="term-fg32">+	if st.msg.IsDepositTx &amp;&amp; len(st.msg.Data) == 0 {</span>
                                                        <span class="term-fg32">+		log.Debug(&quot;deposit tx minting funds&quot;, &quot;to&quot;, *st.msg.To, &quot;value&quot;, st.msg.Value)</span>
                                                        <span class="term-fg32">+		st.state.AddBalance(*st.msg.To, uint256.MustFromBig(st.msg.Value), tracing.BalanceIncreaseAstriaDepositTx)</span>
                                                        <span class="term-fg32">+		return &amp;ExecutionResult{</span>
                                                        <span class="term-fg32">+			UsedGas:    0,</span>
                                                        <span class="term-fg32">+			Err:        nil,</span>
                                                        <span class="term-fg32">+			ReturnData: nil,</span>
                                                        <span class="term-fg32">+		}, nil</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if st.msg.IsDepositTx {</span>
                                                        <span class="term-fg32">+		st.initialGas = st.msg.GasLimit</span>
                                                        <span class="term-fg32">+		st.gasRemaining = st.msg.GasLimit</span>
                                                        <span class="term-fg32">+		log.Debug(&quot;deposit tx minting erc20&quot;, &quot;to&quot;, *st.msg.To, &quot;value&quot;, st.msg.Value)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; First check this message satisfies all consensus rules before
                                                        &#47;&#47; applying the message. The rules include these clauses
                                                        &#47;&#47;
                                                        <span class="term-fg36">@@ -393,7 +431,7 @@</span> 		contractCreation = msg.To == nil
                                                        )
                                                        &nbsp;
                                                        &#47;&#47; Check clauses 4-5, subtract intrinsic gas if everything is correct
                                                        <span class="term-fg31">-	gas, err := IntrinsicGas(msg.Data, msg.AccessList, contractCreation, rules.IsHomestead, rules.IsIstanbul, rules.IsShanghai)</span>
                                                        <span class="term-fg32">+	gas, err := IntrinsicGas(msg.Data, msg.AccessList, contractCreation, rules.IsHomestead, rules.IsIstanbul, rules.IsShanghai, msg.IsDepositTx)</span>
                                                        if err != nil {
                                                        return nil, err
                                                        }
                                                        <span class="term-fg36">@@ -436,6 +474,17 @@</span> 		st.state.SetNonce(msg.From, st.state.GetNonce(sender.Address())+1)
                                                        ret, st.gasRemaining, vmerr = st.evm.Call(sender, st.to(), msg.Data, st.gasRemaining, value)
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg32">+	&#47;&#47; if this is a deposit tx, don&#39;t refund gas and also don&#39;t pay to the coinbase,</span>
                                                        <span class="term-fg32">+	&#47;&#47; as no gas was used.</span>
                                                        <span class="term-fg32">+	if st.msg.IsDepositTx {</span>
                                                        <span class="term-fg32">+		log.Debug(&quot;deposit tx executed&quot;, &quot;to&quot;, *st.msg.To, &quot;value&quot;, st.msg.Value, &quot;from&quot;, st.msg.From, &quot;gasUsed&quot;, st.gasUsed(), &quot;err&quot;, vmerr)</span>
                                                        <span class="term-fg32">+		return &amp;ExecutionResult{</span>
                                                        <span class="term-fg32">+			UsedGas:    st.gasUsed(),</span>
                                                        <span class="term-fg32">+			Err:        vmerr,</span>
                                                        <span class="term-fg32">+			ReturnData: ret,</span>
                                                        <span class="term-fg32">+		}, nil</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        var gasRefund uint64
                                                        if !rules.IsLondon {
                                                        &#47;&#47; Before EIP-3529: refunds were capped to gasUsed &#47; 2
                                                        <span class="term-fg36">@@ -448,16 +497,22 @@</span> 	effectiveTip := msg.GasPrice
                                                        if rules.IsLondon {
                                                        effectiveTip = cmath.BigMin(msg.GasTipCap, new(big.Int).Sub(msg.GasFeeCap, st.evm.Context.BaseFee))
                                                        }
                                                        <span class="term-fg31">-	effectiveTipU256, _ := uint256.FromBig(effectiveTip)</span>
                                                        &nbsp;
                                                        if st.evm.Config.NoBaseFee &amp;&amp; msg.GasFeeCap.Sign() == 0 &amp;&amp; msg.GasTipCap.Sign() == 0 {
                                                        &#47;&#47; Skip fee payment when NoBaseFee is set and the fee fields
                                                        &#47;&#47; are 0. This avoids a negative effectiveTip being applied to
                                                        &#47;&#47; the coinbase when simulating calls.
                                                        } else {
                                                        <span class="term-fg31">-		fee := new(uint256.Int).SetUint64(st.gasUsed())</span>
                                                        <span class="term-fg31">-		fee.Mul(fee, effectiveTipU256)</span>
                                                        <span class="term-fg31">-		st.state.AddBalance(st.evm.Context.Coinbase, fee, tracing.BalanceIncreaseRewardTransactionFee)</span>
                                                        <span class="term-fg32">+		fee := new(big.Int).SetUint64(st.gasUsed())</span>
                                                        <span class="term-fg32">+		fee.Mul(fee, effectiveTip)</span>
                                                        <span class="term-fg32">+		st.state.AddBalance(st.evm.Context.Coinbase, uint256.MustFromBig(fee), tracing.BalanceIncreaseRewardTransactionFee)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		&#47;&#47; collect base fee instead of burn</span>
                                                        <span class="term-fg32">+		if rules.IsLondon &amp;&amp; st.evm.Context.Coinbase.Cmp(common.Address{}) != 0 {</span>
                                                        <span class="term-fg32">+			baseFee := new(big.Int).SetUint64(st.gasUsed())</span>
                                                        <span class="term-fg32">+			baseFee.Mul(baseFee, st.evm.Context.BaseFee)</span>
                                                        <span class="term-fg32">+			st.state.AddBalance(st.evm.Context.Coinbase, uint256.MustFromBig(baseFee), tracing.BalanceIncreaseRewardTransactionFee)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        }
                                                        &nbsp;
                                                        return &amp;ExecutionResult{</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-a91a4778f3cf38a909d5c35c" role="button"
                                                           aria-expanded="false" aria-controls="id-a91a4778f3cf38a909d5c35c">
                                                            <code>core/types/deposit_tx.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/types/deposit_tx.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+88</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-a91a4778f3cf38a909d5c35c"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;types&#47;deposit_tx.go astria-geth&#47;core&#47;types&#47;deposit_tx.go</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..6b0e60eccb0576eb740dea4e96016f82c1868a7d</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;types&#47;deposit_tx.go</span>
                                                        <span class="term-fg36">@@ -0,0 +1,88 @@</span>
                                                        <span class="term-fg32">+package types</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+import (</span>
                                                        <span class="term-fg32">+	&quot;bytes&quot;</span>
                                                        <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;rlp&quot;</span>
                                                        <span class="term-fg32">+	primitivev1 &quot;buf.build&#47;gen&#47;go&#47;astria&#47;primitives&#47;protocolbuffers&#47;go&#47;astria&#47;primitive&#47;v1&quot;</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+var _ TxData = &amp;DepositTx{}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+type DepositTx struct {</span>
                                                        <span class="term-fg32">+	&#47;&#47; the bridge sender address set in the genesis file</span>
                                                        <span class="term-fg32">+	&#47;&#47; ie. the minter or the caller of the ERC20 contract</span>
                                                        <span class="term-fg32">+	From common.Address</span>
                                                        <span class="term-fg32">+	&#47;&#47; value to be minted to the recipient, if this is a native asset mint</span>
                                                        <span class="term-fg32">+	Value *big.Int</span>
                                                        <span class="term-fg32">+	&#47;&#47; gas limit</span>
                                                        <span class="term-fg32">+	Gas uint64</span>
                                                        <span class="term-fg32">+	&#47;&#47; if this is a native asset mint, this is set to the mint recipient</span>
                                                        <span class="term-fg32">+	&#47;&#47; if this is an ERC20 mint, this is set to the ERC20 contract address</span>
                                                        <span class="term-fg32">+	To *common.Address</span>
                                                        <span class="term-fg32">+	&#47;&#47; if this is an ERC20 mint, the following field is set</span>
                                                        <span class="term-fg32">+	&#47;&#47; to the `mint` function calldata.</span>
                                                        <span class="term-fg32">+	Data []byte</span>
                                                        <span class="term-fg32">+	&#47;&#47; the transaction ID of the source action for the deposit, consisting</span>
                                                        <span class="term-fg32">+  	&#47;&#47; of the transaction hash.</span>
                                                        <span class="term-fg32">+	SourceTransactionId primitivev1.TransactionId</span>
                                                        <span class="term-fg32">+	&#47;&#47; index of the deposit&#39;s source action within its transaction</span>
                                                        <span class="term-fg32">+	SourceTransactionIndex uint64</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) copy() TxData {</span>
                                                        <span class="term-fg32">+	to := new(common.Address)</span>
                                                        <span class="term-fg32">+	if tx.To != nil {</span>
                                                        <span class="term-fg32">+		*to = *tx.To</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	cpy := &amp;DepositTx{</span>
                                                        <span class="term-fg32">+		From:  tx.From,</span>
                                                        <span class="term-fg32">+		Value: new(big.Int),</span>
                                                        <span class="term-fg32">+		Gas:   tx.Gas,</span>
                                                        <span class="term-fg32">+		To:    to,</span>
                                                        <span class="term-fg32">+		Data:  make([]byte, len(tx.Data)),</span>
                                                        <span class="term-fg32">+		SourceTransactionId: tx.SourceTransactionId,</span>
                                                        <span class="term-fg32">+		SourceTransactionIndex: tx.SourceTransactionIndex,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if tx.Value != nil {</span>
                                                        <span class="term-fg32">+		cpy.Value.Set(tx.Value)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	copy(cpy.Data, tx.Data)</span>
                                                        <span class="term-fg32">+	return cpy</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) txType() byte           { return DepositTxType }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) chainID() *big.Int      { return common.Big0 }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) accessList() AccessList { return nil }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) data() []byte           { return tx.Data }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) gas() uint64            { return tx.Gas }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) gasFeeCap() *big.Int    { return new(big.Int) }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) gasTipCap() *big.Int    { return new(big.Int) }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) gasPrice() *big.Int     { return new(big.Int) }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) value() *big.Int        { return tx.Value }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) nonce() uint64          { return 0 }</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) to() *common.Address    { return tx.To }</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) effectiveGasPrice(dst *big.Int, baseFee *big.Int) *big.Int {</span>
                                                        <span class="term-fg32">+	return dst.Set(new(big.Int))</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) rawSignatureValues() (v, r, s *big.Int) {</span>
                                                        <span class="term-fg32">+	return common.Big0, common.Big0, common.Big0</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) setSignatureValues(chainID, v, r, s *big.Int) {</span>
                                                        <span class="term-fg32">+	&#47;&#47; noop</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) encode(b *bytes.Buffer) error {</span>
                                                        <span class="term-fg32">+	return rlp.Encode(b, tx)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (tx *DepositTx) decode(input []byte) error {</span>
                                                        <span class="term-fg32">+	return rlp.DecodeBytes(input, tx)</span>
                                                        <span class="term-fg32">+}</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-8440610cb7855cb632d17b49" role="button"
                                                           aria-expanded="false" aria-controls="id-8440610cb7855cb632d17b49">
                                                            <code>core/types/receipt.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/types/receipt.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/types/receipt.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+1</span></div>
                                                            <div class="text-start"><span class="text-danger">-1</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-8440610cb7855cb632d17b49"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;types&#47;receipt.go astria-geth&#47;core&#47;types&#47;receipt.go</span>
                                                        <span class="term-fg1">index 4f96fde59c44278beee06e9846e158c2501644e6..f066a772c99d7b5ab4d19fb5d00280eeac735917 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;types&#47;receipt.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;types&#47;receipt.go</span>
                                                        <span class="term-fg36">@@ -204,7 +204,7 @@</span> 	if len(b) &lt;= 1 {
                                                        return errShortTypedReceipt
                                                        }
                                                        switch b[0] {
                                                        <span class="term-fg31">-	case DynamicFeeTxType, AccessListTxType, BlobTxType:</span>
                                                        <span class="term-fg32">+	case DynamicFeeTxType, AccessListTxType, BlobTxType, DepositTxType:</span>
                                                        var data receiptRLP
                                                        err := rlp.DecodeBytes(b[1:], &amp;data)
                                                        if err != nil {</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-f3d24a1ed4369b7b672c98e1" role="button"
                                                           aria-expanded="false" aria-controls="id-f3d24a1ed4369b7b672c98e1">
                                                            <code>core/types/transaction.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/types/transaction.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/types/transaction.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+15</span></div>
                                                            <div class="text-start"><span class="text-danger">-1</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-f3d24a1ed4369b7b672c98e1"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;types&#47;transaction.go astria-geth&#47;core&#47;types&#47;transaction.go</span>
                                                        <span class="term-fg1">index 6a27ecbfecee10a09fdbef903a0607451e93ef3a..7a2114e0688228406c971d251ca495187de772bf 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;types&#47;transaction.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;types&#47;transaction.go</span>
                                                        <span class="term-fg36">@@ -49,6 +49,7 @@</span> 	LegacyTxType     = 0x00
                                                        AccessListTxType = 0x01
                                                        DynamicFeeTxType = 0x02
                                                        BlobTxType       = 0x03
                                                        <span class="term-fg32">+	DepositTxType    = 0x04</span>
                                                        )
                                                        &nbsp;
                                                        &#47;&#47; Transaction is an Ethereum transaction.
                                                        <span class="term-fg36">@@ -71,7 +72,7 @@</span> }
                                                        &nbsp;
                                                        &#47;&#47; TxData is the underlying data of a transaction.
                                                        &#47;&#47;
                                                        <span class="term-fg31">-&#47;&#47; This is implemented by DynamicFeeTx, LegacyTx and AccessListTx.</span>
                                                        <span class="term-fg32">+&#47;&#47; This is implemented by DynamicFeeTx, LegacyTx, AccessListTx and DepositTx.</span>
                                                        type TxData interface {
                                                        txType() byte &#47;&#47; returns the type ID
                                                        copy() TxData &#47;&#47; creates a deep copy and initializes all fields
                                                        <span class="term-fg36">@@ -100,6 +101,17 @@</span> 	effectiveGasPrice(dst *big.Int, baseFee *big.Int) *big.Int
                                                        &nbsp;
                                                        encode(*bytes.Buffer) error
                                                        decode([]byte) error
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; From returns the sender of the transaction</span>
                                                        <span class="term-fg32">+&#47;&#47; only for deposit transactions.</span>
                                                        <span class="term-fg32">+func (tx *Transaction) From() common.Address {</span>
                                                        <span class="term-fg32">+	if tx.Type() != DepositTxType {</span>
                                                        <span class="term-fg32">+		return common.Address{}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	deposit := tx.inner.(*DepositTx)</span>
                                                        <span class="term-fg32">+	return deposit.From</span>
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; EncodeRLP implements rlp.Encoder
                                                        <span class="term-fg36">@@ -206,6 +218,8 @@</span> 	case DynamicFeeTxType:
                                                        inner = new(DynamicFeeTx)
                                                        case BlobTxType:
                                                        inner = new(BlobTx)
                                                        <span class="term-fg32">+	case DepositTxType:</span>
                                                        <span class="term-fg32">+		inner = new(DepositTx)</span>
                                                        default:
                                                        return nil, ErrTxTypeNotSupported
                                                        }</div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-c806e231e72c159b53d18cd7"role="button" aria-expanded="false" aria-controls="id-c806e231e72c159b53d18cd7">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>ERC-20 Bridging</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1508</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-c806e231e72c159b53d18cd7">
                                            <div><p>ERC-20 bridging support for the shared sequencer.</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-1b7637fc0e0c119f8988b4ec" role="button"
                                                           aria-expanded="false" aria-controls="id-1b7637fc0e0c119f8988b4ec">
                                                            <code>contracts/README.md</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/contracts/README.md" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+95</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-1b7637fc0e0c119f8988b4ec"><span class="term-fg1">diff --git go-ethereum&#47;contracts&#47;README.md astria-geth&#47;contracts&#47;README.md</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..bfef64a4cc595fb9c2fa82dae3771e62086e465b</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;contracts&#47;README.md</span>
                                                        <span class="term-fg36">@@ -0,0 +1,95 @@</span>
                                                        <span class="term-fg32">+# astria bridgeable erc20s</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Package for the `AstriaBridgeableERC20` contract.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+## Initializing</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Requirements:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+- foundry</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Build:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+```sh</span>
                                                        <span class="term-fg32">+git submodule update --init --recursive</span>
                                                        <span class="term-fg32">+cd astria-bridge-contracts</span>
                                                        <span class="term-fg32">+forge build</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+## Go bindings</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+If you change the contract and wish to update the go bindings, run:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+```sh</span>
                                                        <span class="term-fg32">+chmod +x </span>
                                                        <span class="term-fg32">+.&#47;generate-bindings.sh</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+## Testing</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+To test the full end-to-end flow, run the sequencer, cometbft, composer, and conductor. Ensure the configured chain IDs are correct.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Copy the example .env:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+```sh</span>
                                                        <span class="term-fg32">+cp local.env.example .env &amp;&amp; source .env</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Deploy `AstriaBridgeableERC20.sol`:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+```sh</span>
                                                        <span class="term-fg32">+forge script script&#47;AstriaBridgeableERC20.s.sol:AstriaBridgeableERC20Script \</span>
                                                        <span class="term-fg32">+   --rpc-url $RPC_URL --broadcast --sig &quot;deploy()&quot; -vvvv</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Take note of the deployed address.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Add the following to the genesis file under `astriaBridgeAddresses`:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+```json</span>
                                                        <span class="term-fg32">+&quot;astriaBridgeAddresses&quot;: [</span>
                                                        <span class="term-fg32">+    {</span>
                                                        <span class="term-fg32">+        &quot;bridgeAddress&quot;: &quot;0x1c0c490f1b5528d8173c5de46d131160e4b2c0c3&quot;,</span>
                                                        <span class="term-fg32">+        &quot;startHeight&quot;: 1,</span>
                                                        <span class="term-fg32">+        &quot;assetDenom&quot;: &quot;nria&quot;,</span>
                                                        <span class="term-fg32">+        &quot;assetPrecision&quot;: 6,</span>
                                                        <span class="term-fg32">+        &quot;erc20asset&quot;: {</span>
                                                        <span class="term-fg32">+            &quot;contractAddress&quot;:&quot;0x9Aae647A1CB2ec6b39afd552aD149F6A26Bb2aD6&quot;,</span>
                                                        <span class="term-fg32">+            &quot;contractPrecision&quot;: 18</span>
                                                        <span class="term-fg32">+        }</span>
                                                        <span class="term-fg32">+    }</span>
                                                        <span class="term-fg32">+],</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Note: this mints `nria` as an erc20 instead of the native asset.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+`bridgeAddress` is the bridge address that corresponds to this asset on the sequencer chain.</span>
                                                        <span class="term-fg32">+`assetDenom` does not need to match the name of the token in the deployed contract, but it does need to match the denom of the token on the sequencer.</span>
                                                        <span class="term-fg32">+`contractAddress` in `erc20asset` is the address of the contract deployed above.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Stop the geth node and rerun `geth init --genesis genesis.json`. Restart the node. The contract is now initialized as a bridge from the sequencer.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Run the following with the `astria-cli`:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+```sh</span>
                                                        <span class="term-fg32">+# this matches the `bridgeAddress` 0x1c0c490f1b5528d8173c5de46d131160e4b2c0c3 in the genesis above</span>
                                                        <span class="term-fg32">+export SEQUENCER_PRIVATE_KEY=2bd806c97f0e00af1a1fc3328fa763a9269723c8db8fac4f93af71db186d6e90</span>
                                                        <span class="term-fg32">+.&#47;target&#47;debug&#47;astria-cli sequencer init-bridge-account --sequencer-url=http:&#47;&#47;localhost:26657 --rollup-name=astria</span>
                                                        <span class="term-fg32">+# the `destination-chain-address` matches the `PRIVATE_KEY` in local.example.env</span>
                                                        <span class="term-fg32">+.&#47;target&#47;debug&#47;astria-cli sequencer bridge-lock  --sequencer-url=http:&#47;&#47;localhost:26657 --amount=1000000 --destination-chain-address=0x46B77EFDFB20979E1C29ec98DcE73e3eCbF64102 --sequencer.chain-id=astria -- 1c0c490f1b5528d8173c5de46d131160e4b2c0c3</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+This initializes the bridge account and also transfer funds over.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+Check your ERC20 balance:</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+```sh</span>
                                                        <span class="term-fg32">+forge script script&#47;AstriaBridgeableERC20.s.sol:AstriaBridgeableERC20Script \</span>
                                                        <span class="term-fg32">+   --rpc-url $RPC_URL --sig &quot;getBalance()&quot; -vvvv</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+If everything worked, you should see a balance logged:</span>
                                                        <span class="term-fg32">+```</span>
                                                        <span class="term-fg32">+== Logs ==</span>
                                                        <span class="term-fg32">+  1000000000000000000</span>
                                                        <span class="term-fg32">+```</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-31277a5c3bc78ff850f0dfcb" role="button"
                                                           aria-expanded="false" aria-controls="id-31277a5c3bc78ff850f0dfcb">
                                                            <code>contracts/astria_bridgeable_erc20.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/contracts/astria_bridgeable_erc20.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+1401</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-31277a5c3bc78ff850f0dfcb"><span class="term-fg1">diff --git go-ethereum&#47;contracts&#47;astria_bridgeable_erc20.go astria-geth&#47;contracts&#47;astria_bridgeable_erc20.go</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..26c63dd9c22468dcdc2dae38490ac8f726d091af</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;contracts&#47;astria_bridgeable_erc20.go</span>
                                                        <span class="term-fg36">@@ -0,0 +1,1401 @@</span>
                                                        <span class="term-fg32">+&#47;&#47; Code generated - DO NOT EDIT.</span>
                                                        <span class="term-fg32">+&#47;&#47; This file is a generated binding and any manual changes will be lost.</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+package contracts</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+import (</span>
                                                        <span class="term-fg32">+	&quot;errors&quot;</span>
                                                        <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg32">+	&quot;strings&quot;</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	ethereum &quot;github.com&#47;ethereum&#47;go-ethereum&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;event&quot;</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Reference imports to suppress errors if they are not otherwise used.</span>
                                                        <span class="term-fg32">+var (</span>
                                                        <span class="term-fg32">+	_ = errors.New</span>
                                                        <span class="term-fg32">+	_ = big.NewInt</span>
                                                        <span class="term-fg32">+	_ = strings.NewReader</span>
                                                        <span class="term-fg32">+	_ = ethereum.NotFound</span>
                                                        <span class="term-fg32">+	_ = bind.Bind</span>
                                                        <span class="term-fg32">+	_ = common.Big1</span>
                                                        <span class="term-fg32">+	_ = types.BloomLookup</span>
                                                        <span class="term-fg32">+	_ = event.NewSubscription</span>
                                                        <span class="term-fg32">+	_ = abi.ConvertType</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20MetaData contains all meta data concerning the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+var AstriaBridgeableERC20MetaData = &amp;bind.MetaData{</span>
                                                        <span class="term-fg32">+	ABI: &quot;[{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;_bridge\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;uint32\&quot;,\&quot;name\&quot;:\&quot;_baseChainAssetPrecision\&quot;,\&quot;type\&quot;:\&quot;uint32\&quot;},{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;_baseChainBridgeAddress\&quot;,\&quot;type\&quot;:\&quot;string\&quot;},{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;_baseChainAssetDenomination\&quot;,\&quot;type\&quot;:\&quot;string\&quot;},{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;_name\&quot;,\&quot;type\&quot;:\&quot;string\&quot;},{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;_symbol\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;constructor\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;spender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;allowance\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;},{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;needed\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;ERC20InsufficientAllowance\&quot;,\&quot;type\&quot;:\&quot;error\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;sender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;balance\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;},{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;needed\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;ERC20InsufficientBalance\&quot;,\&quot;type\&quot;:\&quot;error\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;approver\&quot;,\&quot;type\&quot;:\&quot;address\&quot;}],\&quot;name\&quot;:\&quot;ERC20InvalidApprover\&quot;,\&quot;type\&quot;:\&quot;error\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;receiver\&quot;,\&quot;type\&quot;:\&quot;address\&quot;}],\&quot;name\&quot;:\&quot;ERC20InvalidReceiver\&quot;,\&quot;type\&quot;:\&quot;error\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;sender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;}],\&quot;name\&quot;:\&quot;ERC20InvalidSender\&quot;,\&quot;type\&quot;:\&quot;error\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;spender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;}],\&quot;name\&quot;:\&quot;ERC20InvalidSpender\&quot;,\&quot;type\&quot;:\&quot;error\&quot;},{\&quot;anonymous\&quot;:false,\&quot;inputs\&quot;:[{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;owner\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;spender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;indexed\&quot;:false,\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;value\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;Approval\&quot;,\&quot;type\&quot;:\&quot;event\&quot;},{\&quot;anonymous\&quot;:false,\&quot;inputs\&quot;:[{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;sender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;},{\&quot;indexed\&quot;:false,\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;destinationChainAddress\&quot;,\&quot;type\&quot;:\&quot;string\&quot;},{\&quot;indexed\&quot;:false,\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;memo\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;name\&quot;:\&quot;Ics20Withdrawal\&quot;,\&quot;type\&quot;:\&quot;event\&quot;},{\&quot;anonymous\&quot;:false,\&quot;inputs\&quot;:[{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;account\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;indexed\&quot;:false,\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;Mint\&quot;,\&quot;type\&quot;:\&quot;event\&quot;},{\&quot;anonymous\&quot;:false,\&quot;inputs\&quot;:[{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;sender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;},{\&quot;indexed\&quot;:false,\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;destinationChainAddress\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;name\&quot;:\&quot;SequencerWithdrawal\&quot;,\&quot;type\&quot;:\&quot;event\&quot;},{\&quot;anonymous\&quot;:false,\&quot;inputs\&quot;:[{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;from\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;to\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;indexed\&quot;:false,\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;value\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;Transfer\&quot;,\&quot;type\&quot;:\&quot;event\&quot;},{\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;BASE_CHAIN_ASSET_DENOMINATION\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;BASE_CHAIN_ASSET_PRECISION\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;uint32\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint32\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;BASE_CHAIN_BRIDGE_ADDRESS\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;BRIDGE\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;address\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;owner\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;spender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;}],\&quot;name\&quot;:\&quot;allowance\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;spender\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;value\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;approve\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;bool\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;bool\&quot;}],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;account\&quot;,\&quot;type\&quot;:\&quot;address\&quot;}],\&quot;name\&quot;:\&quot;balanceOf\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;decimals\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;uint8\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint8\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;_to\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;_amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;mint\&quot;,\&quot;outputs\&quot;:[],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;name\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;symbol\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;totalSupply\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;to\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;value\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;transfer\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;bool\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;bool\&quot;}],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;from\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;to\&quot;,\&quot;type\&quot;:\&quot;address\&quot;},{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;value\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;}],\&quot;name\&quot;:\&quot;transferFrom\&quot;,\&quot;outputs\&quot;:[{\&quot;internalType\&quot;:\&quot;bool\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;bool\&quot;}],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;_amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;},{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;_destinationChainAddress\&quot;,\&quot;type\&quot;:\&quot;string\&quot;},{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;_memo\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;name\&quot;:\&quot;withdrawToIbcChain\&quot;,\&quot;outputs\&quot;:[],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;},{\&quot;inputs\&quot;:[{\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;_amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;},{\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;_destinationChainAddress\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}],\&quot;name\&quot;:\&quot;withdrawToSequencer\&quot;,\&quot;outputs\&quot;:[],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;}]&quot;,</span>
                                                        <span class="term-fg32">+	Bin: &quot;0x60e060405234801562000010575f80fd5b506040516200138838038062001388833981016040819052620000339162000266565b81816005620000438382620003c8565b506006620000528282620003c8565b5050505f620000666200017360201b60201c565b90508060ff168663ffffffff161115620001125760405162461bcd60e51b815260206004820152605e60248201527f41737472696142726964676561626c6545524332303a2062617365206368616960448201527f6e20617373657420707265636973696f6e206d757374206265206c657373207460648201527f68616e206f7220657175616c20746f20746f6b656e20646563696d616c730000608482015260a40160405180910390fd5b63ffffffff86166080525f620001298682620003c8565b506001620001388582620003c8565b50620001488660ff8316620004a4565b6200015590600a620005c6565b60c0525050506001600160a01b0390931660a05250620005e0915050565b601290565b80516001600160a01b03811681146200018f575f80fd5b919050565b805163ffffffff811681146200018f575f80fd5b634e487b7160e01b5f52604160045260245ffd5b5f82601f830112620001cc575f80fd5b81516001600160401b0380821115620001e957620001e9620001a8565b604051601f8301601f19908116603f01168101908282118183101715620002145762000214620001a8565b8160405283815260209250868385880101111562000230575f80fd5b5f91505b8382101562000253578582018301518183018401529082019062000234565b5f93810190920192909252949350505050565b5f805f805f8060c087890312156200027c575f80fd5b620002878762000178565b9550620002976020880162000194565b60408801519095506001600160401b0380821115620002b4575f80fd5b620002c28a838b01620001bc565b95506060890151915080821115620002d8575f80fd5b620002e68a838b01620001bc565b94506080890151915080821115620002fc575f80fd5b6200030a8a838b01620001bc565b935060a089015191508082111562000320575f80fd5b506200032f89828a01620001bc565b9150509295509295509295565b600181811c908216806200035157607f821691505b6020821081036200037057634e487b7160e01b5f52602260045260245ffd5b50919050565b601f821115620003c3575f81815260208120601f850160051c810160208610156200039e5750805b601f850160051c820191505b81811015620003bf57828155600101620003aa565b5050505b505050565b81516001600160401b03811115620003e457620003e4620001a8565b620003fc81620003f584546200033c565b8462000376565b602080601f83116001811462000432575f84156200041a5750858301515b5f19600386901b1c1916600185901b178555620003bf565b5f85815260208120601f198616915b82811015620004625788860151825594840194600190910190840162000441565b50858210156200048057878501515f19600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b5f52601160045260245ffd5b63ffffffff828116828216039080821115620004c457620004c462000490565b5092915050565b600181815b808511156200050b57815f1904821115620004ef57620004ef62000490565b80851615620004fd57918102915b93841c9390800290620004d0565b509250929050565b5f826200052357506001620005c0565b816200053157505f620005c0565b81600181146200054a5760028114620005555762000575565b6001915050620005c0565b60ff84111562000569576200056962000490565b50506001821b620005c0565b5060208310610133831016604e8410600b84101617156200059a575081810a620005c0565b620005a68383620004cb565b805f1904821115620005bc57620005bc62000490565b0290505b92915050565b5f620005d963ffffffff84168362000513565b9392505050565b60805160a05160c051610d6f620006195f395f818161046a01526105b501525f818161027b015261038c01525f6101c90152610d6f5ff3fe608060405234801561000f575f80fd5b50600436106100fb575f3560e01c80637eb6dec711610093578063d38fe9a711610063578063d38fe9a714610223578063db97dc9814610236578063dd62ed3e1461023e578063ee9a31a214610276575f80fd5b80637eb6dec7146101c457806395d89b4114610200578063a9059cbb14610208578063b6476c7e1461021b575f80fd5b8063313ce567116100ce578063313ce5671461016557806340c10f19146101745780635fe56b091461018957806370a082311461019c575f80fd5b806306fdde03146100ff578063095ea7b31461011d57806318160ddd1461014057806323b872dd14610152575b5f80fd5b6101076102b5565b6040516101149190610997565b60405180910390f35b61013061012b3660046109fd565b610345565b6040519015158152602001610114565b6004545b604051908152602001610114565b610130610160366004610a25565b61035e565b60405160128152602001610114565b6101876101823660046109fd565b610381565b005b610187610197366004610aa3565b610463565b6101446101aa366004610b17565b6001600160a01b03165f9081526002602052604090205490565b6101eb7f000000000000000000000000000000000000000000000000000000000000000081565b60405163ffffffff9091168152602001610114565b610107610506565b6101306102163660046109fd565b610515565b610107610522565b610187610231366004610b37565b6105ae565b61010761064b565b61014461024c366004610b7f565b6001600160a01b039182165f90815260036020908152604080832093909416825291909152205490565b61029d7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610114565b6060600580546102c490610bb0565b80601f01602080910402602001604051908101604052809291908181526020018280546102f090610bb0565b801561033b5780601f106103125761010080835404028352916020019161033b565b820191905f5260205f20905b81548152906001019060200180831161031e57829003601f168201915b5050505050905090565b5f33610352818585610657565b60019150505b92915050565b5f3361036b858285610669565b6103768585856106e4565b506001949350505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104125760405162461bcd60e51b815260206004820152602b60248201527f41737472696142726964676561626c6545524332303a206f6e6c79206272696460448201526a19d94818d85b881b5a5b9d60aa1b60648201526084015b60405180910390fd5b61041c8282610741565b816001600160a01b03167f0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d41213968858260405161045791815260200190565b60405180910390a25050565b845f61048f7f000000000000000000000000000000000000000000000000000000000000000083610be8565b116104ac5760405162461bcd60e51b815260040161040990610c07565b6104b63387610779565b85336001600160a01b03167f0c64e29a5254a71c7f4e52b3d2d236348c80e00a00ba2e1961962bd2827c03fb878787876040516104f69493929190610cce565b60405180910390a3505050505050565b6060600680546102c490610bb0565b5f336103528185856106e4565b6001805461052f90610bb0565b80601f016020809104026020016040519081016040528092919081815260200182805461055b90610bb0565b80156105a65780601f1061057d576101008083540402835291602001916105a6565b820191905f5260205f20905b81548152906001019060200180831161058957829003601f168201915b505050505081565b825f6105da7f000000000000000000000000000000000000000000000000000000000000000083610be8565b116105f75760405162461bcd60e51b815260040161040990610c07565b6106013385610779565b83336001600160a01b03167f0f4961cab7530804898499aa89f5ec81d1a73102e2e4a1f30f88e5ae3513ba2a858560405161063d929190610cff565b60405180910390a350505050565b5f805461052f90610bb0565b61066483838360016107ad565b505050565b6001600160a01b038381165f908152600360209081526040808320938616835292905220545f1981146106de57818110156106d057604051637dc7a0d960e11b81526001600160a01b03841660048201526024810182905260448101839052606401610409565b6106de84848484035f6107ad565b50505050565b6001600160a01b03831661070d57604051634b637e8f60e11b81525f6004820152602401610409565b6001600160a01b0382166107365760405163ec442f0560e01b81525f6004820152602401610409565b610664838383610871565b6001600160a01b03821661076a5760405163ec442f0560e01b81525f6004820152602401610409565b6107755f8383610871565b5050565b6001600160a01b0382166107a257604051634b637e8f60e11b81525f6004820152602401610409565b610775825f83610871565b6001600160a01b0384166107d65760405163e602df0560e01b81525f6004820152602401610409565b6001600160a01b0383166107ff57604051634a1406b160e11b81525f6004820152602401610409565b6001600160a01b038085165f90815260036020908152604080832093871683529290522082905580156106de57826001600160a01b0316846001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9258460405161063d91815260200190565b6001600160a01b03831661089b578060045f8282546108909190610d1a565b9091555061090b9050565b6001600160a01b0383165f90815260026020526040902054818110156108ed5760405163391434e360e21b81526001600160a01b03851660048201526024810182905260448101839052606401610409565b6001600160a01b0384165f9081526002602052604090209082900390555b6001600160a01b03821661092757600480548290039055610945565b6001600160a01b0382165f9081526002602052604090208054820190555b816001600160a01b0316836001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405161098a91815260200190565b60405180910390a3505050565b5f6020808352835180828501525f5b818110156109c2578581018301518582016040015282016109a6565b505f604082860101526040601f19601f8301168501019250505092915050565b80356001600160a01b03811681146109f8575f80fd5b919050565b5f8060408385031215610a0e575f80fd5b610a17836109e2565b946020939093013593505050565b5f805f60608486031215610a37575f80fd5b610a40846109e2565b9250610a4e602085016109e2565b9150604084013590509250925092565b5f8083601f840112610a6e575f80fd5b50813567ffffffffffffffff811115610a85575f80fd5b602083019150836020828501011115610a9c575f80fd5b9250929050565b5f805f805f60608688031215610ab7575f80fd5b85359450602086013567ffffffffffffffff80821115610ad5575f80fd5b610ae189838a01610a5e565b90965094506040880135915080821115610af9575f80fd5b50610b0688828901610a5e565b969995985093965092949392505050565b5f60208284031215610b27575f80fd5b610b30826109e2565b9392505050565b5f805f60408486031215610b49575f80fd5b83359250602084013567ffffffffffffffff811115610b66575f80fd5b610b7286828701610a5e565b9497909650939450505050565b5f8060408385031215610b90575f80fd5b610b99836109e2565b9150610ba7602084016109e2565b90509250929050565b600181811c90821680610bc457607f821691505b602082108103610be257634e487b7160e01b5f52602260045260245ffd5b50919050565b5f82610c0257634e487b7160e01b5f52601260045260245ffd5b500490565b60208082526073908201527f41737472696142726964676561626c6545524332303a20696e7375666669636960408201527f656e742076616c75652c206d7573742062652067726561746572207468616e2060608201527f3130202a2a2028544f4b454e5f444543494d414c53202d20424153455f434841608082015272494e5f41535345545f505245434953494f4e2960681b60a082015260c00190565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b604081525f610ce1604083018688610ca6565b8281036020840152610cf4818587610ca6565b979650505050505050565b602081525f610d12602083018486610ca6565b949350505050565b8082018082111561035857634e487b7160e01b5f52601160045260245ffdfea2646970667358221220839fde846bdf8b562d3e7e8b39bc0acde2c69b1f2a7bba30ec27b96ba437f6a564736f6c63430008150033&quot;,</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20ABI is the input ABI used to generate the binding from.</span>
                                                        <span class="term-fg32">+&#47;&#47; Deprecated: Use AstriaBridgeableERC20MetaData.ABI instead.</span>
                                                        <span class="term-fg32">+var AstriaBridgeableERC20ABI = AstriaBridgeableERC20MetaData.ABI</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Bin is the compiled bytecode used for deploying new contracts.</span>
                                                        <span class="term-fg32">+&#47;&#47; Deprecated: Use AstriaBridgeableERC20MetaData.Bin instead.</span>
                                                        <span class="term-fg32">+var AstriaBridgeableERC20Bin = AstriaBridgeableERC20MetaData.Bin</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; DeployAstriaBridgeableERC20 deploys a new Ethereum contract, binding an instance of AstriaBridgeableERC20 to it.</span>
                                                        <span class="term-fg32">+func DeployAstriaBridgeableERC20(auth *bind.TransactOpts, backend bind.ContractBackend, _bridge common.Address, _baseChainAssetPrecision uint32, _baseChainBridgeAddress string, _baseChainAssetDenomination string, _name string, _symbol string) (common.Address, *types.Transaction, *AstriaBridgeableERC20, error) {</span>
                                                        <span class="term-fg32">+	parsed, err := AstriaBridgeableERC20MetaData.GetAbi()</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return common.Address{}, nil, nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if parsed == nil {</span>
                                                        <span class="term-fg32">+		return common.Address{}, nil, nil, errors.New(&quot;GetABI returned nil&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	address, tx, contract, err := bind.DeployContract(auth, *parsed, common.FromHex(AstriaBridgeableERC20Bin), backend, _bridge, _baseChainAssetPrecision, _baseChainBridgeAddress, _baseChainAssetDenomination, _name, _symbol)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return common.Address{}, nil, nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return address, tx, &amp;AstriaBridgeableERC20{AstriaBridgeableERC20Caller: AstriaBridgeableERC20Caller{contract: contract}, AstriaBridgeableERC20Transactor: AstriaBridgeableERC20Transactor{contract: contract}, AstriaBridgeableERC20Filterer: AstriaBridgeableERC20Filterer{contract: contract}}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20 is an auto generated Go binding around an Ethereum contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20 struct {</span>
                                                        <span class="term-fg32">+	AstriaBridgeableERC20Caller     &#47;&#47; Read-only binding to the contract</span>
                                                        <span class="term-fg32">+	AstriaBridgeableERC20Transactor &#47;&#47; Write-only binding to the contract</span>
                                                        <span class="term-fg32">+	AstriaBridgeableERC20Filterer   &#47;&#47; Log filterer for contract events</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Caller is an auto generated read-only Go binding around an Ethereum contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Caller struct {</span>
                                                        <span class="term-fg32">+	contract *bind.BoundContract &#47;&#47; Generic contract wrapper for the low level calls</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Transactor is an auto generated write-only Go binding around an Ethereum contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Transactor struct {</span>
                                                        <span class="term-fg32">+	contract *bind.BoundContract &#47;&#47; Generic contract wrapper for the low level calls</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Filterer is an auto generated log filtering Go binding around an Ethereum contract events.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Filterer struct {</span>
                                                        <span class="term-fg32">+	contract *bind.BoundContract &#47;&#47; Generic contract wrapper for the low level calls</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Session is an auto generated Go binding around an Ethereum contract,</span>
                                                        <span class="term-fg32">+&#47;&#47; with pre-set call and transact options.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Session struct {</span>
                                                        <span class="term-fg32">+	Contract     *AstriaBridgeableERC20 &#47;&#47; Generic contract binding to set the session for</span>
                                                        <span class="term-fg32">+	CallOpts     bind.CallOpts          &#47;&#47; Call options to use throughout this session</span>
                                                        <span class="term-fg32">+	TransactOpts bind.TransactOpts      &#47;&#47; Transaction auth options to use throughout this session</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20CallerSession is an auto generated read-only Go binding around an Ethereum contract,</span>
                                                        <span class="term-fg32">+&#47;&#47; with pre-set call options.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20CallerSession struct {</span>
                                                        <span class="term-fg32">+	Contract *AstriaBridgeableERC20Caller &#47;&#47; Generic contract caller binding to set the session for</span>
                                                        <span class="term-fg32">+	CallOpts bind.CallOpts                &#47;&#47; Call options to use throughout this session</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20TransactorSession is an auto generated write-only Go binding around an Ethereum contract,</span>
                                                        <span class="term-fg32">+&#47;&#47; with pre-set transact options.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20TransactorSession struct {</span>
                                                        <span class="term-fg32">+	Contract     *AstriaBridgeableERC20Transactor &#47;&#47; Generic contract transactor binding to set the session for</span>
                                                        <span class="term-fg32">+	TransactOpts bind.TransactOpts                &#47;&#47; Transaction auth options to use throughout this session</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Raw is an auto generated low-level Go binding around an Ethereum contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Raw struct {</span>
                                                        <span class="term-fg32">+	Contract *AstriaBridgeableERC20 &#47;&#47; Generic contract binding to access the raw methods on</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20CallerRaw is an auto generated low-level read-only Go binding around an Ethereum contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20CallerRaw struct {</span>
                                                        <span class="term-fg32">+	Contract *AstriaBridgeableERC20Caller &#47;&#47; Generic read-only contract binding to access the raw methods on</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20TransactorRaw is an auto generated low-level write-only Go binding around an Ethereum contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20TransactorRaw struct {</span>
                                                        <span class="term-fg32">+	Contract *AstriaBridgeableERC20Transactor &#47;&#47; Generic write-only contract binding to access the raw methods on</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; NewAstriaBridgeableERC20 creates a new instance of AstriaBridgeableERC20, bound to a specific deployed contract.</span>
                                                        <span class="term-fg32">+func NewAstriaBridgeableERC20(address common.Address, backend bind.ContractBackend) (*AstriaBridgeableERC20, error) {</span>
                                                        <span class="term-fg32">+	contract, err := bindAstriaBridgeableERC20(address, backend, backend, backend)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20{AstriaBridgeableERC20Caller: AstriaBridgeableERC20Caller{contract: contract}, AstriaBridgeableERC20Transactor: AstriaBridgeableERC20Transactor{contract: contract}, AstriaBridgeableERC20Filterer: AstriaBridgeableERC20Filterer{contract: contract}}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; NewAstriaBridgeableERC20Caller creates a new read-only instance of AstriaBridgeableERC20, bound to a specific deployed contract.</span>
                                                        <span class="term-fg32">+func NewAstriaBridgeableERC20Caller(address common.Address, caller bind.ContractCaller) (*AstriaBridgeableERC20Caller, error) {</span>
                                                        <span class="term-fg32">+	contract, err := bindAstriaBridgeableERC20(address, caller, nil, nil)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20Caller{contract: contract}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; NewAstriaBridgeableERC20Transactor creates a new write-only instance of AstriaBridgeableERC20, bound to a specific deployed contract.</span>
                                                        <span class="term-fg32">+func NewAstriaBridgeableERC20Transactor(address common.Address, transactor bind.ContractTransactor) (*AstriaBridgeableERC20Transactor, error) {</span>
                                                        <span class="term-fg32">+	contract, err := bindAstriaBridgeableERC20(address, nil, transactor, nil)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20Transactor{contract: contract}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; NewAstriaBridgeableERC20Filterer creates a new log filterer instance of AstriaBridgeableERC20, bound to a specific deployed contract.</span>
                                                        <span class="term-fg32">+func NewAstriaBridgeableERC20Filterer(address common.Address, filterer bind.ContractFilterer) (*AstriaBridgeableERC20Filterer, error) {</span>
                                                        <span class="term-fg32">+	contract, err := bindAstriaBridgeableERC20(address, nil, nil, filterer)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20Filterer{contract: contract}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; bindAstriaBridgeableERC20 binds a generic wrapper to an already deployed contract.</span>
                                                        <span class="term-fg32">+func bindAstriaBridgeableERC20(address common.Address, caller bind.ContractCaller, transactor bind.ContractTransactor, filterer bind.ContractFilterer) (*bind.BoundContract, error) {</span>
                                                        <span class="term-fg32">+	parsed, err := AstriaBridgeableERC20MetaData.GetAbi()</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return bind.NewBoundContract(address, *parsed, caller, transactor, filterer), nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Call invokes the (constant) contract method with params as input values and</span>
                                                        <span class="term-fg32">+&#47;&#47; sets the output to result. The result type might be a single field for simple</span>
                                                        <span class="term-fg32">+&#47;&#47; returns, a slice of interfaces for anonymous returns and a struct for named</span>
                                                        <span class="term-fg32">+&#47;&#47; returns.</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Raw) Call(opts *bind.CallOpts, result *[]interface{}, method string, params ...interface{}) error {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.AstriaBridgeableERC20Caller.contract.Call(opts, result, method, params...)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Transfer initiates a plain transaction to move funds to the contract, calling</span>
                                                        <span class="term-fg32">+&#47;&#47; its default method if one is available.</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Raw) Transfer(opts *bind.TransactOpts) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.AstriaBridgeableERC20Transactor.contract.Transfer(opts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Transact invokes the (paid) contract method with params as input values.</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Raw) Transact(opts *bind.TransactOpts, method string, params ...interface{}) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.AstriaBridgeableERC20Transactor.contract.Transact(opts, method, params...)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Call invokes the (constant) contract method with params as input values and</span>
                                                        <span class="term-fg32">+&#47;&#47; sets the output to result. The result type might be a single field for simple</span>
                                                        <span class="term-fg32">+&#47;&#47; returns, a slice of interfaces for anonymous returns and a struct for named</span>
                                                        <span class="term-fg32">+&#47;&#47; returns.</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerRaw) Call(opts *bind.CallOpts, result *[]interface{}, method string, params ...interface{}) error {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.contract.Call(opts, result, method, params...)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Transfer initiates a plain transaction to move funds to the contract, calling</span>
                                                        <span class="term-fg32">+&#47;&#47; its default method if one is available.</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20TransactorRaw) Transfer(opts *bind.TransactOpts) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.contract.Transfer(opts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Transact invokes the (paid) contract method with params as input values.</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20TransactorRaw) Transact(opts *bind.TransactOpts, method string, params ...interface{}) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.contract.Transact(opts, method, params...)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINASSETDENOMINATION is a free data retrieval call binding the contract method 0xb6476c7e.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_ASSET_DENOMINATION() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) BASECHAINASSETDENOMINATION(opts *bind.CallOpts) (string, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;BASE_CHAIN_ASSET_DENOMINATION&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(string), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(string)).(*string)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINASSETDENOMINATION is a free data retrieval call binding the contract method 0xb6476c7e.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_ASSET_DENOMINATION() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) BASECHAINASSETDENOMINATION() (string, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BASECHAINASSETDENOMINATION(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINASSETDENOMINATION is a free data retrieval call binding the contract method 0xb6476c7e.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_ASSET_DENOMINATION() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) BASECHAINASSETDENOMINATION() (string, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BASECHAINASSETDENOMINATION(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINASSETPRECISION is a free data retrieval call binding the contract method 0x7eb6dec7.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_ASSET_PRECISION() view returns(uint32)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) BASECHAINASSETPRECISION(opts *bind.CallOpts) (uint32, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;BASE_CHAIN_ASSET_PRECISION&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(uint32), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(uint32)).(*uint32)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINASSETPRECISION is a free data retrieval call binding the contract method 0x7eb6dec7.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_ASSET_PRECISION() view returns(uint32)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) BASECHAINASSETPRECISION() (uint32, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BASECHAINASSETPRECISION(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINASSETPRECISION is a free data retrieval call binding the contract method 0x7eb6dec7.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_ASSET_PRECISION() view returns(uint32)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) BASECHAINASSETPRECISION() (uint32, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BASECHAINASSETPRECISION(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINBRIDGEADDRESS is a free data retrieval call binding the contract method 0xdb97dc98.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_BRIDGE_ADDRESS() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) BASECHAINBRIDGEADDRESS(opts *bind.CallOpts) (string, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;BASE_CHAIN_BRIDGE_ADDRESS&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(string), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(string)).(*string)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINBRIDGEADDRESS is a free data retrieval call binding the contract method 0xdb97dc98.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_BRIDGE_ADDRESS() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) BASECHAINBRIDGEADDRESS() (string, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BASECHAINBRIDGEADDRESS(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BASECHAINBRIDGEADDRESS is a free data retrieval call binding the contract method 0xdb97dc98.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BASE_CHAIN_BRIDGE_ADDRESS() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) BASECHAINBRIDGEADDRESS() (string, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BASECHAINBRIDGEADDRESS(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BRIDGE is a free data retrieval call binding the contract method 0xee9a31a2.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BRIDGE() view returns(address)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) BRIDGE(opts *bind.CallOpts) (common.Address, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;BRIDGE&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(common.Address), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(common.Address)).(*common.Address)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BRIDGE is a free data retrieval call binding the contract method 0xee9a31a2.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BRIDGE() view returns(address)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) BRIDGE() (common.Address, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BRIDGE(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BRIDGE is a free data retrieval call binding the contract method 0xee9a31a2.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function BRIDGE() view returns(address)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) BRIDGE() (common.Address, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BRIDGE(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Allowance is a free data retrieval call binding the contract method 0xdd62ed3e.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function allowance(address owner, address spender) view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) Allowance(opts *bind.CallOpts, owner common.Address, spender common.Address) (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;allowance&quot;, owner, spender)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(*big.Int), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(*big.Int)).(**big.Int)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Allowance is a free data retrieval call binding the contract method 0xdd62ed3e.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function allowance(address owner, address spender) view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) Allowance(owner common.Address, spender common.Address) (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Allowance(&amp;_AstriaBridgeableERC20.CallOpts, owner, spender)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Allowance is a free data retrieval call binding the contract method 0xdd62ed3e.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function allowance(address owner, address spender) view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) Allowance(owner common.Address, spender common.Address) (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Allowance(&amp;_AstriaBridgeableERC20.CallOpts, owner, spender)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BalanceOf is a free data retrieval call binding the contract method 0x70a08231.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function balanceOf(address account) view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) BalanceOf(opts *bind.CallOpts, account common.Address) (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;balanceOf&quot;, account)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(*big.Int), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(*big.Int)).(**big.Int)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BalanceOf is a free data retrieval call binding the contract method 0x70a08231.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function balanceOf(address account) view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) BalanceOf(account common.Address) (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BalanceOf(&amp;_AstriaBridgeableERC20.CallOpts, account)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; BalanceOf is a free data retrieval call binding the contract method 0x70a08231.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function balanceOf(address account) view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) BalanceOf(account common.Address) (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.BalanceOf(&amp;_AstriaBridgeableERC20.CallOpts, account)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Decimals is a free data retrieval call binding the contract method 0x313ce567.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function decimals() view returns(uint8)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) Decimals(opts *bind.CallOpts) (uint8, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;decimals&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(uint8), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(uint8)).(*uint8)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Decimals is a free data retrieval call binding the contract method 0x313ce567.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function decimals() view returns(uint8)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) Decimals() (uint8, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Decimals(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Decimals is a free data retrieval call binding the contract method 0x313ce567.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function decimals() view returns(uint8)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) Decimals() (uint8, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Decimals(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Name is a free data retrieval call binding the contract method 0x06fdde03.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function name() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) Name(opts *bind.CallOpts) (string, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;name&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(string), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(string)).(*string)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Name is a free data retrieval call binding the contract method 0x06fdde03.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function name() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) Name() (string, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Name(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Name is a free data retrieval call binding the contract method 0x06fdde03.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function name() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) Name() (string, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Name(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Symbol is a free data retrieval call binding the contract method 0x95d89b41.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function symbol() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) Symbol(opts *bind.CallOpts) (string, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;symbol&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(string), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(string)).(*string)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Symbol is a free data retrieval call binding the contract method 0x95d89b41.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function symbol() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) Symbol() (string, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Symbol(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Symbol is a free data retrieval call binding the contract method 0x95d89b41.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function symbol() view returns(string)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) Symbol() (string, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Symbol(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; TotalSupply is a free data retrieval call binding the contract method 0x18160ddd.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function totalSupply() view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Caller) TotalSupply(opts *bind.CallOpts) (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	var out []interface{}</span>
                                                        <span class="term-fg32">+	err := _AstriaBridgeableERC20.contract.Call(opts, &amp;out, &quot;totalSupply&quot;)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return *new(*big.Int), err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	out0 := *abi.ConvertType(out[0], new(*big.Int)).(**big.Int)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return out0, err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; TotalSupply is a free data retrieval call binding the contract method 0x18160ddd.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function totalSupply() view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) TotalSupply() (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.TotalSupply(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; TotalSupply is a free data retrieval call binding the contract method 0x18160ddd.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function totalSupply() view returns(uint256)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20CallerSession) TotalSupply() (*big.Int, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.TotalSupply(&amp;_AstriaBridgeableERC20.CallOpts)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Approve is a paid mutator transaction binding the contract method 0x095ea7b3.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function approve(address spender, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Transactor) Approve(opts *bind.TransactOpts, spender common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.contract.Transact(opts, &quot;approve&quot;, spender, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Approve is a paid mutator transaction binding the contract method 0x095ea7b3.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function approve(address spender, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) Approve(spender common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Approve(&amp;_AstriaBridgeableERC20.TransactOpts, spender, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Approve is a paid mutator transaction binding the contract method 0x095ea7b3.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function approve(address spender, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20TransactorSession) Approve(spender common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Approve(&amp;_AstriaBridgeableERC20.TransactOpts, spender, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Mint is a paid mutator transaction binding the contract method 0x40c10f19.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function mint(address _to, uint256 _amount) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Transactor) Mint(opts *bind.TransactOpts, _to common.Address, _amount *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.contract.Transact(opts, &quot;mint&quot;, _to, _amount)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Mint is a paid mutator transaction binding the contract method 0x40c10f19.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function mint(address _to, uint256 _amount) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) Mint(_to common.Address, _amount *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Mint(&amp;_AstriaBridgeableERC20.TransactOpts, _to, _amount)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Mint is a paid mutator transaction binding the contract method 0x40c10f19.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function mint(address _to, uint256 _amount) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20TransactorSession) Mint(_to common.Address, _amount *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Mint(&amp;_AstriaBridgeableERC20.TransactOpts, _to, _amount)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Transfer is a paid mutator transaction binding the contract method 0xa9059cbb.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function transfer(address to, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Transactor) Transfer(opts *bind.TransactOpts, to common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.contract.Transact(opts, &quot;transfer&quot;, to, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Transfer is a paid mutator transaction binding the contract method 0xa9059cbb.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function transfer(address to, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) Transfer(to common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Transfer(&amp;_AstriaBridgeableERC20.TransactOpts, to, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Transfer is a paid mutator transaction binding the contract method 0xa9059cbb.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function transfer(address to, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20TransactorSession) Transfer(to common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.Transfer(&amp;_AstriaBridgeableERC20.TransactOpts, to, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; TransferFrom is a paid mutator transaction binding the contract method 0x23b872dd.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function transferFrom(address from, address to, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Transactor) TransferFrom(opts *bind.TransactOpts, from common.Address, to common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.contract.Transact(opts, &quot;transferFrom&quot;, from, to, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; TransferFrom is a paid mutator transaction binding the contract method 0x23b872dd.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function transferFrom(address from, address to, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) TransferFrom(from common.Address, to common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.TransferFrom(&amp;_AstriaBridgeableERC20.TransactOpts, from, to, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; TransferFrom is a paid mutator transaction binding the contract method 0x23b872dd.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function transferFrom(address from, address to, uint256 value) returns(bool)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20TransactorSession) TransferFrom(from common.Address, to common.Address, value *big.Int) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.TransferFrom(&amp;_AstriaBridgeableERC20.TransactOpts, from, to, value)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WithdrawToIbcChain is a paid mutator transaction binding the contract method 0x5fe56b09.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function withdrawToIbcChain(uint256 _amount, string _destinationChainAddress, string _memo) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Transactor) WithdrawToIbcChain(opts *bind.TransactOpts, _amount *big.Int, _destinationChainAddress string, _memo string) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.contract.Transact(opts, &quot;withdrawToIbcChain&quot;, _amount, _destinationChainAddress, _memo)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WithdrawToIbcChain is a paid mutator transaction binding the contract method 0x5fe56b09.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function withdrawToIbcChain(uint256 _amount, string _destinationChainAddress, string _memo) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) WithdrawToIbcChain(_amount *big.Int, _destinationChainAddress string, _memo string) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.WithdrawToIbcChain(&amp;_AstriaBridgeableERC20.TransactOpts, _amount, _destinationChainAddress, _memo)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WithdrawToIbcChain is a paid mutator transaction binding the contract method 0x5fe56b09.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function withdrawToIbcChain(uint256 _amount, string _destinationChainAddress, string _memo) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20TransactorSession) WithdrawToIbcChain(_amount *big.Int, _destinationChainAddress string, _memo string) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.WithdrawToIbcChain(&amp;_AstriaBridgeableERC20.TransactOpts, _amount, _destinationChainAddress, _memo)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WithdrawToSequencer is a paid mutator transaction binding the contract method 0xd38fe9a7.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function withdrawToSequencer(uint256 _amount, string _destinationChainAddress) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Transactor) WithdrawToSequencer(opts *bind.TransactOpts, _amount *big.Int, _destinationChainAddress string) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.contract.Transact(opts, &quot;withdrawToSequencer&quot;, _amount, _destinationChainAddress)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WithdrawToSequencer is a paid mutator transaction binding the contract method 0xd38fe9a7.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function withdrawToSequencer(uint256 _amount, string _destinationChainAddress) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Session) WithdrawToSequencer(_amount *big.Int, _destinationChainAddress string) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.WithdrawToSequencer(&amp;_AstriaBridgeableERC20.TransactOpts, _amount, _destinationChainAddress)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WithdrawToSequencer is a paid mutator transaction binding the contract method 0xd38fe9a7.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: function withdrawToSequencer(uint256 _amount, string _destinationChainAddress) returns()</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20TransactorSession) WithdrawToSequencer(_amount *big.Int, _destinationChainAddress string) (*types.Transaction, error) {</span>
                                                        <span class="term-fg32">+	return _AstriaBridgeableERC20.Contract.WithdrawToSequencer(&amp;_AstriaBridgeableERC20.TransactOpts, _amount, _destinationChainAddress)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20ApprovalIterator is returned from FilterApproval and is used to iterate over the raw logs and unpacked data for Approval events raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20ApprovalIterator struct {</span>
                                                        <span class="term-fg32">+	Event *AstriaBridgeableERC20Approval &#47;&#47; Event containing the contract specifics and raw log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	contract *bind.BoundContract &#47;&#47; Generic contract to use for unpacking event data</span>
                                                        <span class="term-fg32">+	event    string              &#47;&#47; Event name to use for unpacking event data</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs chan types.Log        &#47;&#47; Log channel receiving the found contract events</span>
                                                        <span class="term-fg32">+	sub  ethereum.Subscription &#47;&#47; Subscription for errors, completion and termination</span>
                                                        <span class="term-fg32">+	done bool                  &#47;&#47; Whether the subscription completed delivering logs</span>
                                                        <span class="term-fg32">+	fail error                 &#47;&#47; Occurred error to stop iteration</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Next advances the iterator to the subsequent event, returning whether there</span>
                                                        <span class="term-fg32">+&#47;&#47; are any more events found. In case of a retrieval or parsing error, false is</span>
                                                        <span class="term-fg32">+&#47;&#47; returned and Error() can be queried for the exact failure.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20ApprovalIterator) Next() bool {</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator failed, stop iterating</span>
                                                        <span class="term-fg32">+	if it.fail != nil {</span>
                                                        <span class="term-fg32">+		return false</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator completed, deliver directly whatever&#39;s available</span>
                                                        <span class="term-fg32">+	if it.done {</span>
                                                        <span class="term-fg32">+		select {</span>
                                                        <span class="term-fg32">+		case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+			it.Event = new(AstriaBridgeableERC20Approval)</span>
                                                        <span class="term-fg32">+			if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+				it.fail = err</span>
                                                        <span class="term-fg32">+				return false</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			it.Event.Raw = log</span>
                                                        <span class="term-fg32">+			return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		default:</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; Iterator still in progress, wait for either a data or an error event</span>
                                                        <span class="term-fg32">+	select {</span>
                                                        <span class="term-fg32">+	case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+		it.Event = new(AstriaBridgeableERC20Approval)</span>
                                                        <span class="term-fg32">+		if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+			it.fail = err</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		it.Event.Raw = log</span>
                                                        <span class="term-fg32">+		return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	case err := &lt;-it.sub.Err():</span>
                                                        <span class="term-fg32">+		it.done = true</span>
                                                        <span class="term-fg32">+		it.fail = err</span>
                                                        <span class="term-fg32">+		return it.Next()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Error returns any retrieval or parsing error occurred during filtering.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20ApprovalIterator) Error() error {</span>
                                                        <span class="term-fg32">+	return it.fail</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Close terminates the iteration process, releasing any pending underlying</span>
                                                        <span class="term-fg32">+&#47;&#47; resources.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20ApprovalIterator) Close() error {</span>
                                                        <span class="term-fg32">+	it.sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Approval represents a Approval event raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Approval struct {</span>
                                                        <span class="term-fg32">+	Owner   common.Address</span>
                                                        <span class="term-fg32">+	Spender common.Address</span>
                                                        <span class="term-fg32">+	Value   *big.Int</span>
                                                        <span class="term-fg32">+	Raw     types.Log &#47;&#47; Blockchain specific contextual infos</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; FilterApproval is a free log retrieval operation binding the contract event 0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Approval(address indexed owner, address indexed spender, uint256 value)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) FilterApproval(opts *bind.FilterOpts, owner []common.Address, spender []common.Address) (*AstriaBridgeableERC20ApprovalIterator, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var ownerRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, ownerItem := range owner {</span>
                                                        <span class="term-fg32">+		ownerRule = append(ownerRule, ownerItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	var spenderRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, spenderItem := range spender {</span>
                                                        <span class="term-fg32">+		spenderRule = append(spenderRule, spenderItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.FilterLogs(opts, &quot;Approval&quot;, ownerRule, spenderRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20ApprovalIterator{contract: _AstriaBridgeableERC20.contract, event: &quot;Approval&quot;, logs: logs, sub: sub}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WatchApproval is a free log subscription operation binding the contract event 0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Approval(address indexed owner, address indexed spender, uint256 value)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) WatchApproval(opts *bind.WatchOpts, sink chan&lt;- *AstriaBridgeableERC20Approval, owner []common.Address, spender []common.Address) (event.Subscription, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var ownerRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, ownerItem := range owner {</span>
                                                        <span class="term-fg32">+		ownerRule = append(ownerRule, ownerItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	var spenderRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, spenderItem := range spender {</span>
                                                        <span class="term-fg32">+		spenderRule = append(spenderRule, spenderItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.WatchLogs(opts, &quot;Approval&quot;, ownerRule, spenderRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return event.NewSubscription(func(quit &lt;-chan struct{}) error {</span>
                                                        <span class="term-fg32">+		defer sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+		for {</span>
                                                        <span class="term-fg32">+			select {</span>
                                                        <span class="term-fg32">+			case log := &lt;-logs:</span>
                                                        <span class="term-fg32">+				&#47;&#47; New log arrived, parse the event and forward to the user</span>
                                                        <span class="term-fg32">+				event := new(AstriaBridgeableERC20Approval)</span>
                                                        <span class="term-fg32">+				if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;Approval&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				event.Raw = log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				select {</span>
                                                        <span class="term-fg32">+				case sink &lt;- event:</span>
                                                        <span class="term-fg32">+				case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				case &lt;-quit:</span>
                                                        <span class="term-fg32">+					return nil</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+			case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+				return err</span>
                                                        <span class="term-fg32">+			case &lt;-quit:</span>
                                                        <span class="term-fg32">+				return nil</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}), nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; ParseApproval is a log parse operation binding the contract event 0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Approval(address indexed owner, address indexed spender, uint256 value)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) ParseApproval(log types.Log) (*AstriaBridgeableERC20Approval, error) {</span>
                                                        <span class="term-fg32">+	event := new(AstriaBridgeableERC20Approval)</span>
                                                        <span class="term-fg32">+	if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;Approval&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	event.Raw = log</span>
                                                        <span class="term-fg32">+	return event, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Ics20WithdrawalIterator is returned from FilterIcs20Withdrawal and is used to iterate over the raw logs and unpacked data for Ics20Withdrawal events raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Ics20WithdrawalIterator struct {</span>
                                                        <span class="term-fg32">+	Event *AstriaBridgeableERC20Ics20Withdrawal &#47;&#47; Event containing the contract specifics and raw log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	contract *bind.BoundContract &#47;&#47; Generic contract to use for unpacking event data</span>
                                                        <span class="term-fg32">+	event    string              &#47;&#47; Event name to use for unpacking event data</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs chan types.Log        &#47;&#47; Log channel receiving the found contract events</span>
                                                        <span class="term-fg32">+	sub  ethereum.Subscription &#47;&#47; Subscription for errors, completion and termination</span>
                                                        <span class="term-fg32">+	done bool                  &#47;&#47; Whether the subscription completed delivering logs</span>
                                                        <span class="term-fg32">+	fail error                 &#47;&#47; Occurred error to stop iteration</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Next advances the iterator to the subsequent event, returning whether there</span>
                                                        <span class="term-fg32">+&#47;&#47; are any more events found. In case of a retrieval or parsing error, false is</span>
                                                        <span class="term-fg32">+&#47;&#47; returned and Error() can be queried for the exact failure.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20Ics20WithdrawalIterator) Next() bool {</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator failed, stop iterating</span>
                                                        <span class="term-fg32">+	if it.fail != nil {</span>
                                                        <span class="term-fg32">+		return false</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator completed, deliver directly whatever&#39;s available</span>
                                                        <span class="term-fg32">+	if it.done {</span>
                                                        <span class="term-fg32">+		select {</span>
                                                        <span class="term-fg32">+		case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+			it.Event = new(AstriaBridgeableERC20Ics20Withdrawal)</span>
                                                        <span class="term-fg32">+			if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+				it.fail = err</span>
                                                        <span class="term-fg32">+				return false</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			it.Event.Raw = log</span>
                                                        <span class="term-fg32">+			return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		default:</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; Iterator still in progress, wait for either a data or an error event</span>
                                                        <span class="term-fg32">+	select {</span>
                                                        <span class="term-fg32">+	case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+		it.Event = new(AstriaBridgeableERC20Ics20Withdrawal)</span>
                                                        <span class="term-fg32">+		if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+			it.fail = err</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		it.Event.Raw = log</span>
                                                        <span class="term-fg32">+		return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	case err := &lt;-it.sub.Err():</span>
                                                        <span class="term-fg32">+		it.done = true</span>
                                                        <span class="term-fg32">+		it.fail = err</span>
                                                        <span class="term-fg32">+		return it.Next()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Error returns any retrieval or parsing error occurred during filtering.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20Ics20WithdrawalIterator) Error() error {</span>
                                                        <span class="term-fg32">+	return it.fail</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Close terminates the iteration process, releasing any pending underlying</span>
                                                        <span class="term-fg32">+&#47;&#47; resources.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20Ics20WithdrawalIterator) Close() error {</span>
                                                        <span class="term-fg32">+	it.sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Ics20Withdrawal represents a Ics20Withdrawal event raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Ics20Withdrawal struct {</span>
                                                        <span class="term-fg32">+	Sender                  common.Address</span>
                                                        <span class="term-fg32">+	Amount                  *big.Int</span>
                                                        <span class="term-fg32">+	DestinationChainAddress string</span>
                                                        <span class="term-fg32">+	Memo                    string</span>
                                                        <span class="term-fg32">+	Raw                     types.Log &#47;&#47; Blockchain specific contextual infos</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; FilterIcs20Withdrawal is a free log retrieval operation binding the contract event 0x0c64e29a5254a71c7f4e52b3d2d236348c80e00a00ba2e1961962bd2827c03fb.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Ics20Withdrawal(address indexed sender, uint256 indexed amount, string destinationChainAddress, string memo)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) FilterIcs20Withdrawal(opts *bind.FilterOpts, sender []common.Address, amount []*big.Int) (*AstriaBridgeableERC20Ics20WithdrawalIterator, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var senderRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, senderItem := range sender {</span>
                                                        <span class="term-fg32">+		senderRule = append(senderRule, senderItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	var amountRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, amountItem := range amount {</span>
                                                        <span class="term-fg32">+		amountRule = append(amountRule, amountItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.FilterLogs(opts, &quot;Ics20Withdrawal&quot;, senderRule, amountRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20Ics20WithdrawalIterator{contract: _AstriaBridgeableERC20.contract, event: &quot;Ics20Withdrawal&quot;, logs: logs, sub: sub}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WatchIcs20Withdrawal is a free log subscription operation binding the contract event 0x0c64e29a5254a71c7f4e52b3d2d236348c80e00a00ba2e1961962bd2827c03fb.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Ics20Withdrawal(address indexed sender, uint256 indexed amount, string destinationChainAddress, string memo)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) WatchIcs20Withdrawal(opts *bind.WatchOpts, sink chan&lt;- *AstriaBridgeableERC20Ics20Withdrawal, sender []common.Address, amount []*big.Int) (event.Subscription, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var senderRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, senderItem := range sender {</span>
                                                        <span class="term-fg32">+		senderRule = append(senderRule, senderItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	var amountRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, amountItem := range amount {</span>
                                                        <span class="term-fg32">+		amountRule = append(amountRule, amountItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.WatchLogs(opts, &quot;Ics20Withdrawal&quot;, senderRule, amountRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return event.NewSubscription(func(quit &lt;-chan struct{}) error {</span>
                                                        <span class="term-fg32">+		defer sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+		for {</span>
                                                        <span class="term-fg32">+			select {</span>
                                                        <span class="term-fg32">+			case log := &lt;-logs:</span>
                                                        <span class="term-fg32">+				&#47;&#47; New log arrived, parse the event and forward to the user</span>
                                                        <span class="term-fg32">+				event := new(AstriaBridgeableERC20Ics20Withdrawal)</span>
                                                        <span class="term-fg32">+				if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;Ics20Withdrawal&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				event.Raw = log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				select {</span>
                                                        <span class="term-fg32">+				case sink &lt;- event:</span>
                                                        <span class="term-fg32">+				case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				case &lt;-quit:</span>
                                                        <span class="term-fg32">+					return nil</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+			case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+				return err</span>
                                                        <span class="term-fg32">+			case &lt;-quit:</span>
                                                        <span class="term-fg32">+				return nil</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}), nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; ParseIcs20Withdrawal is a log parse operation binding the contract event 0x0c64e29a5254a71c7f4e52b3d2d236348c80e00a00ba2e1961962bd2827c03fb.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Ics20Withdrawal(address indexed sender, uint256 indexed amount, string destinationChainAddress, string memo)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) ParseIcs20Withdrawal(log types.Log) (*AstriaBridgeableERC20Ics20Withdrawal, error) {</span>
                                                        <span class="term-fg32">+	event := new(AstriaBridgeableERC20Ics20Withdrawal)</span>
                                                        <span class="term-fg32">+	if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;Ics20Withdrawal&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	event.Raw = log</span>
                                                        <span class="term-fg32">+	return event, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20MintIterator is returned from FilterMint and is used to iterate over the raw logs and unpacked data for Mint events raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20MintIterator struct {</span>
                                                        <span class="term-fg32">+	Event *AstriaBridgeableERC20Mint &#47;&#47; Event containing the contract specifics and raw log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	contract *bind.BoundContract &#47;&#47; Generic contract to use for unpacking event data</span>
                                                        <span class="term-fg32">+	event    string              &#47;&#47; Event name to use for unpacking event data</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs chan types.Log        &#47;&#47; Log channel receiving the found contract events</span>
                                                        <span class="term-fg32">+	sub  ethereum.Subscription &#47;&#47; Subscription for errors, completion and termination</span>
                                                        <span class="term-fg32">+	done bool                  &#47;&#47; Whether the subscription completed delivering logs</span>
                                                        <span class="term-fg32">+	fail error                 &#47;&#47; Occurred error to stop iteration</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Next advances the iterator to the subsequent event, returning whether there</span>
                                                        <span class="term-fg32">+&#47;&#47; are any more events found. In case of a retrieval or parsing error, false is</span>
                                                        <span class="term-fg32">+&#47;&#47; returned and Error() can be queried for the exact failure.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20MintIterator) Next() bool {</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator failed, stop iterating</span>
                                                        <span class="term-fg32">+	if it.fail != nil {</span>
                                                        <span class="term-fg32">+		return false</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator completed, deliver directly whatever&#39;s available</span>
                                                        <span class="term-fg32">+	if it.done {</span>
                                                        <span class="term-fg32">+		select {</span>
                                                        <span class="term-fg32">+		case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+			it.Event = new(AstriaBridgeableERC20Mint)</span>
                                                        <span class="term-fg32">+			if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+				it.fail = err</span>
                                                        <span class="term-fg32">+				return false</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			it.Event.Raw = log</span>
                                                        <span class="term-fg32">+			return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		default:</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; Iterator still in progress, wait for either a data or an error event</span>
                                                        <span class="term-fg32">+	select {</span>
                                                        <span class="term-fg32">+	case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+		it.Event = new(AstriaBridgeableERC20Mint)</span>
                                                        <span class="term-fg32">+		if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+			it.fail = err</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		it.Event.Raw = log</span>
                                                        <span class="term-fg32">+		return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	case err := &lt;-it.sub.Err():</span>
                                                        <span class="term-fg32">+		it.done = true</span>
                                                        <span class="term-fg32">+		it.fail = err</span>
                                                        <span class="term-fg32">+		return it.Next()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Error returns any retrieval or parsing error occurred during filtering.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20MintIterator) Error() error {</span>
                                                        <span class="term-fg32">+	return it.fail</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Close terminates the iteration process, releasing any pending underlying</span>
                                                        <span class="term-fg32">+&#47;&#47; resources.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20MintIterator) Close() error {</span>
                                                        <span class="term-fg32">+	it.sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Mint represents a Mint event raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Mint struct {</span>
                                                        <span class="term-fg32">+	Account common.Address</span>
                                                        <span class="term-fg32">+	Amount  *big.Int</span>
                                                        <span class="term-fg32">+	Raw     types.Log &#47;&#47; Blockchain specific contextual infos</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; FilterMint is a free log retrieval operation binding the contract event 0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Mint(address indexed account, uint256 amount)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) FilterMint(opts *bind.FilterOpts, account []common.Address) (*AstriaBridgeableERC20MintIterator, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var accountRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, accountItem := range account {</span>
                                                        <span class="term-fg32">+		accountRule = append(accountRule, accountItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.FilterLogs(opts, &quot;Mint&quot;, accountRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20MintIterator{contract: _AstriaBridgeableERC20.contract, event: &quot;Mint&quot;, logs: logs, sub: sub}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WatchMint is a free log subscription operation binding the contract event 0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Mint(address indexed account, uint256 amount)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) WatchMint(opts *bind.WatchOpts, sink chan&lt;- *AstriaBridgeableERC20Mint, account []common.Address) (event.Subscription, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var accountRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, accountItem := range account {</span>
                                                        <span class="term-fg32">+		accountRule = append(accountRule, accountItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.WatchLogs(opts, &quot;Mint&quot;, accountRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return event.NewSubscription(func(quit &lt;-chan struct{}) error {</span>
                                                        <span class="term-fg32">+		defer sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+		for {</span>
                                                        <span class="term-fg32">+			select {</span>
                                                        <span class="term-fg32">+			case log := &lt;-logs:</span>
                                                        <span class="term-fg32">+				&#47;&#47; New log arrived, parse the event and forward to the user</span>
                                                        <span class="term-fg32">+				event := new(AstriaBridgeableERC20Mint)</span>
                                                        <span class="term-fg32">+				if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;Mint&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				event.Raw = log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				select {</span>
                                                        <span class="term-fg32">+				case sink &lt;- event:</span>
                                                        <span class="term-fg32">+				case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				case &lt;-quit:</span>
                                                        <span class="term-fg32">+					return nil</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+			case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+				return err</span>
                                                        <span class="term-fg32">+			case &lt;-quit:</span>
                                                        <span class="term-fg32">+				return nil</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}), nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; ParseMint is a log parse operation binding the contract event 0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Mint(address indexed account, uint256 amount)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) ParseMint(log types.Log) (*AstriaBridgeableERC20Mint, error) {</span>
                                                        <span class="term-fg32">+	event := new(AstriaBridgeableERC20Mint)</span>
                                                        <span class="term-fg32">+	if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;Mint&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	event.Raw = log</span>
                                                        <span class="term-fg32">+	return event, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20SequencerWithdrawalIterator is returned from FilterSequencerWithdrawal and is used to iterate over the raw logs and unpacked data for SequencerWithdrawal events raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20SequencerWithdrawalIterator struct {</span>
                                                        <span class="term-fg32">+	Event *AstriaBridgeableERC20SequencerWithdrawal &#47;&#47; Event containing the contract specifics and raw log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	contract *bind.BoundContract &#47;&#47; Generic contract to use for unpacking event data</span>
                                                        <span class="term-fg32">+	event    string              &#47;&#47; Event name to use for unpacking event data</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs chan types.Log        &#47;&#47; Log channel receiving the found contract events</span>
                                                        <span class="term-fg32">+	sub  ethereum.Subscription &#47;&#47; Subscription for errors, completion and termination</span>
                                                        <span class="term-fg32">+	done bool                  &#47;&#47; Whether the subscription completed delivering logs</span>
                                                        <span class="term-fg32">+	fail error                 &#47;&#47; Occurred error to stop iteration</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Next advances the iterator to the subsequent event, returning whether there</span>
                                                        <span class="term-fg32">+&#47;&#47; are any more events found. In case of a retrieval or parsing error, false is</span>
                                                        <span class="term-fg32">+&#47;&#47; returned and Error() can be queried for the exact failure.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20SequencerWithdrawalIterator) Next() bool {</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator failed, stop iterating</span>
                                                        <span class="term-fg32">+	if it.fail != nil {</span>
                                                        <span class="term-fg32">+		return false</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator completed, deliver directly whatever&#39;s available</span>
                                                        <span class="term-fg32">+	if it.done {</span>
                                                        <span class="term-fg32">+		select {</span>
                                                        <span class="term-fg32">+		case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+			it.Event = new(AstriaBridgeableERC20SequencerWithdrawal)</span>
                                                        <span class="term-fg32">+			if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+				it.fail = err</span>
                                                        <span class="term-fg32">+				return false</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			it.Event.Raw = log</span>
                                                        <span class="term-fg32">+			return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		default:</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; Iterator still in progress, wait for either a data or an error event</span>
                                                        <span class="term-fg32">+	select {</span>
                                                        <span class="term-fg32">+	case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+		it.Event = new(AstriaBridgeableERC20SequencerWithdrawal)</span>
                                                        <span class="term-fg32">+		if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+			it.fail = err</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		it.Event.Raw = log</span>
                                                        <span class="term-fg32">+		return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	case err := &lt;-it.sub.Err():</span>
                                                        <span class="term-fg32">+		it.done = true</span>
                                                        <span class="term-fg32">+		it.fail = err</span>
                                                        <span class="term-fg32">+		return it.Next()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Error returns any retrieval or parsing error occurred during filtering.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20SequencerWithdrawalIterator) Error() error {</span>
                                                        <span class="term-fg32">+	return it.fail</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Close terminates the iteration process, releasing any pending underlying</span>
                                                        <span class="term-fg32">+&#47;&#47; resources.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20SequencerWithdrawalIterator) Close() error {</span>
                                                        <span class="term-fg32">+	it.sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20SequencerWithdrawal represents a SequencerWithdrawal event raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20SequencerWithdrawal struct {</span>
                                                        <span class="term-fg32">+	Sender                  common.Address</span>
                                                        <span class="term-fg32">+	Amount                  *big.Int</span>
                                                        <span class="term-fg32">+	DestinationChainAddress string</span>
                                                        <span class="term-fg32">+	Raw                     types.Log &#47;&#47; Blockchain specific contextual infos</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; FilterSequencerWithdrawal is a free log retrieval operation binding the contract event 0x0f4961cab7530804898499aa89f5ec81d1a73102e2e4a1f30f88e5ae3513ba2a.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event SequencerWithdrawal(address indexed sender, uint256 indexed amount, string destinationChainAddress)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) FilterSequencerWithdrawal(opts *bind.FilterOpts, sender []common.Address, amount []*big.Int) (*AstriaBridgeableERC20SequencerWithdrawalIterator, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var senderRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, senderItem := range sender {</span>
                                                        <span class="term-fg32">+		senderRule = append(senderRule, senderItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	var amountRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, amountItem := range amount {</span>
                                                        <span class="term-fg32">+		amountRule = append(amountRule, amountItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.FilterLogs(opts, &quot;SequencerWithdrawal&quot;, senderRule, amountRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20SequencerWithdrawalIterator{contract: _AstriaBridgeableERC20.contract, event: &quot;SequencerWithdrawal&quot;, logs: logs, sub: sub}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WatchSequencerWithdrawal is a free log subscription operation binding the contract event 0x0f4961cab7530804898499aa89f5ec81d1a73102e2e4a1f30f88e5ae3513ba2a.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event SequencerWithdrawal(address indexed sender, uint256 indexed amount, string destinationChainAddress)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) WatchSequencerWithdrawal(opts *bind.WatchOpts, sink chan&lt;- *AstriaBridgeableERC20SequencerWithdrawal, sender []common.Address, amount []*big.Int) (event.Subscription, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var senderRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, senderItem := range sender {</span>
                                                        <span class="term-fg32">+		senderRule = append(senderRule, senderItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	var amountRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, amountItem := range amount {</span>
                                                        <span class="term-fg32">+		amountRule = append(amountRule, amountItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.WatchLogs(opts, &quot;SequencerWithdrawal&quot;, senderRule, amountRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return event.NewSubscription(func(quit &lt;-chan struct{}) error {</span>
                                                        <span class="term-fg32">+		defer sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+		for {</span>
                                                        <span class="term-fg32">+			select {</span>
                                                        <span class="term-fg32">+			case log := &lt;-logs:</span>
                                                        <span class="term-fg32">+				&#47;&#47; New log arrived, parse the event and forward to the user</span>
                                                        <span class="term-fg32">+				event := new(AstriaBridgeableERC20SequencerWithdrawal)</span>
                                                        <span class="term-fg32">+				if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;SequencerWithdrawal&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				event.Raw = log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				select {</span>
                                                        <span class="term-fg32">+				case sink &lt;- event:</span>
                                                        <span class="term-fg32">+				case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				case &lt;-quit:</span>
                                                        <span class="term-fg32">+					return nil</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+			case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+				return err</span>
                                                        <span class="term-fg32">+			case &lt;-quit:</span>
                                                        <span class="term-fg32">+				return nil</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}), nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; ParseSequencerWithdrawal is a log parse operation binding the contract event 0x0f4961cab7530804898499aa89f5ec81d1a73102e2e4a1f30f88e5ae3513ba2a.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event SequencerWithdrawal(address indexed sender, uint256 indexed amount, string destinationChainAddress)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) ParseSequencerWithdrawal(log types.Log) (*AstriaBridgeableERC20SequencerWithdrawal, error) {</span>
                                                        <span class="term-fg32">+	event := new(AstriaBridgeableERC20SequencerWithdrawal)</span>
                                                        <span class="term-fg32">+	if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;SequencerWithdrawal&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	event.Raw = log</span>
                                                        <span class="term-fg32">+	return event, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20TransferIterator is returned from FilterTransfer and is used to iterate over the raw logs and unpacked data for Transfer events raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20TransferIterator struct {</span>
                                                        <span class="term-fg32">+	Event *AstriaBridgeableERC20Transfer &#47;&#47; Event containing the contract specifics and raw log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	contract *bind.BoundContract &#47;&#47; Generic contract to use for unpacking event data</span>
                                                        <span class="term-fg32">+	event    string              &#47;&#47; Event name to use for unpacking event data</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs chan types.Log        &#47;&#47; Log channel receiving the found contract events</span>
                                                        <span class="term-fg32">+	sub  ethereum.Subscription &#47;&#47; Subscription for errors, completion and termination</span>
                                                        <span class="term-fg32">+	done bool                  &#47;&#47; Whether the subscription completed delivering logs</span>
                                                        <span class="term-fg32">+	fail error                 &#47;&#47; Occurred error to stop iteration</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Next advances the iterator to the subsequent event, returning whether there</span>
                                                        <span class="term-fg32">+&#47;&#47; are any more events found. In case of a retrieval or parsing error, false is</span>
                                                        <span class="term-fg32">+&#47;&#47; returned and Error() can be queried for the exact failure.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20TransferIterator) Next() bool {</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator failed, stop iterating</span>
                                                        <span class="term-fg32">+	if it.fail != nil {</span>
                                                        <span class="term-fg32">+		return false</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; If the iterator completed, deliver directly whatever&#39;s available</span>
                                                        <span class="term-fg32">+	if it.done {</span>
                                                        <span class="term-fg32">+		select {</span>
                                                        <span class="term-fg32">+		case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+			it.Event = new(AstriaBridgeableERC20Transfer)</span>
                                                        <span class="term-fg32">+			if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+				it.fail = err</span>
                                                        <span class="term-fg32">+				return false</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			it.Event.Raw = log</span>
                                                        <span class="term-fg32">+			return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		default:</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	&#47;&#47; Iterator still in progress, wait for either a data or an error event</span>
                                                        <span class="term-fg32">+	select {</span>
                                                        <span class="term-fg32">+	case log := &lt;-it.logs:</span>
                                                        <span class="term-fg32">+		it.Event = new(AstriaBridgeableERC20Transfer)</span>
                                                        <span class="term-fg32">+		if err := it.contract.UnpackLog(it.Event, it.event, log); err != nil {</span>
                                                        <span class="term-fg32">+			it.fail = err</span>
                                                        <span class="term-fg32">+			return false</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		it.Event.Raw = log</span>
                                                        <span class="term-fg32">+		return true</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	case err := &lt;-it.sub.Err():</span>
                                                        <span class="term-fg32">+		it.done = true</span>
                                                        <span class="term-fg32">+		it.fail = err</span>
                                                        <span class="term-fg32">+		return it.Next()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Error returns any retrieval or parsing error occurred during filtering.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20TransferIterator) Error() error {</span>
                                                        <span class="term-fg32">+	return it.fail</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Close terminates the iteration process, releasing any pending underlying</span>
                                                        <span class="term-fg32">+&#47;&#47; resources.</span>
                                                        <span class="term-fg32">+func (it *AstriaBridgeableERC20TransferIterator) Close() error {</span>
                                                        <span class="term-fg32">+	it.sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; AstriaBridgeableERC20Transfer represents a Transfer event raised by the AstriaBridgeableERC20 contract.</span>
                                                        <span class="term-fg32">+type AstriaBridgeableERC20Transfer struct {</span>
                                                        <span class="term-fg32">+	From  common.Address</span>
                                                        <span class="term-fg32">+	To    common.Address</span>
                                                        <span class="term-fg32">+	Value *big.Int</span>
                                                        <span class="term-fg32">+	Raw   types.Log &#47;&#47; Blockchain specific contextual infos</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; FilterTransfer is a free log retrieval operation binding the contract event 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Transfer(address indexed from, address indexed to, uint256 value)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) FilterTransfer(opts *bind.FilterOpts, from []common.Address, to []common.Address) (*AstriaBridgeableERC20TransferIterator, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var fromRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, fromItem := range from {</span>
                                                        <span class="term-fg32">+		fromRule = append(fromRule, fromItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	var toRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, toItem := range to {</span>
                                                        <span class="term-fg32">+		toRule = append(toRule, toItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.FilterLogs(opts, &quot;Transfer&quot;, fromRule, toRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;AstriaBridgeableERC20TransferIterator{contract: _AstriaBridgeableERC20.contract, event: &quot;Transfer&quot;, logs: logs, sub: sub}, nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; WatchTransfer is a free log subscription operation binding the contract event 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Transfer(address indexed from, address indexed to, uint256 value)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) WatchTransfer(opts *bind.WatchOpts, sink chan&lt;- *AstriaBridgeableERC20Transfer, from []common.Address, to []common.Address) (event.Subscription, error) {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	var fromRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, fromItem := range from {</span>
                                                        <span class="term-fg32">+		fromRule = append(fromRule, fromItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	var toRule []interface{}</span>
                                                        <span class="term-fg32">+	for _, toItem := range to {</span>
                                                        <span class="term-fg32">+		toRule = append(toRule, toItem)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	logs, sub, err := _AstriaBridgeableERC20.contract.WatchLogs(opts, &quot;Transfer&quot;, fromRule, toRule)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return event.NewSubscription(func(quit &lt;-chan struct{}) error {</span>
                                                        <span class="term-fg32">+		defer sub.Unsubscribe()</span>
                                                        <span class="term-fg32">+		for {</span>
                                                        <span class="term-fg32">+			select {</span>
                                                        <span class="term-fg32">+			case log := &lt;-logs:</span>
                                                        <span class="term-fg32">+				&#47;&#47; New log arrived, parse the event and forward to the user</span>
                                                        <span class="term-fg32">+				event := new(AstriaBridgeableERC20Transfer)</span>
                                                        <span class="term-fg32">+				if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;Transfer&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				event.Raw = log</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+				select {</span>
                                                        <span class="term-fg32">+				case sink &lt;- event:</span>
                                                        <span class="term-fg32">+				case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+					return err</span>
                                                        <span class="term-fg32">+				case &lt;-quit:</span>
                                                        <span class="term-fg32">+					return nil</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+			case err := &lt;-sub.Err():</span>
                                                        <span class="term-fg32">+				return err</span>
                                                        <span class="term-fg32">+			case &lt;-quit:</span>
                                                        <span class="term-fg32">+				return nil</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}), nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; ParseTransfer is a log parse operation binding the contract event 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef.</span>
                                                        <span class="term-fg32">+&#47;&#47;</span>
                                                        <span class="term-fg32">+&#47;&#47; Solidity: event Transfer(address indexed from, address indexed to, uint256 value)</span>
                                                        <span class="term-fg32">+func (_AstriaBridgeableERC20 *AstriaBridgeableERC20Filterer) ParseTransfer(log types.Log) (*AstriaBridgeableERC20Transfer, error) {</span>
                                                        <span class="term-fg32">+	event := new(AstriaBridgeableERC20Transfer)</span>
                                                        <span class="term-fg32">+	if err := _AstriaBridgeableERC20.contract.UnpackLog(event, &quot;Transfer&quot;, log); err != nil {</span>
                                                        <span class="term-fg32">+		return nil, err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	event.Raw = log</span>
                                                        <span class="term-fg32">+	return event, nil</span>
                                                        <span class="term-fg32">+}</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-b59f466a840b99227129cbaf" role="button"
                                                           aria-expanded="false" aria-controls="id-b59f466a840b99227129cbaf">
                                                            <code>contracts/generate-bindings.sh</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/contracts/generate-bindings.sh" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+12</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-b59f466a840b99227129cbaf"><span class="term-fg1">diff --git go-ethereum&#47;contracts&#47;generate-bindings.sh astria-geth&#47;contracts&#47;generate-bindings.sh</span>
                                                        <span class="term-fg1">new file mode 100755</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..3e4577e519ddd6bf54221cc8fff5601205087010</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;contracts&#47;generate-bindings.sh</span>
                                                        <span class="term-fg36">@@ -0,0 +1,12 @@</span>
                                                        <span class="term-fg32">+solc --optimize --optimize-runs=200 \</span>
                                                        <span class="term-fg32">+    --metadata --metadata-literal \</span>
                                                        <span class="term-fg32">+    --base-path &quot;astria-bridge-contracts&quot; \</span>
                                                        <span class="term-fg32">+    --abi &quot;astria-bridge-contracts&#47;src&#47;AstriaBridgeableERC20.sol&quot; \</span>
                                                        <span class="term-fg32">+    -o abi&#47; --overwrite</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+solc --optimize --optimize-runs=200 \</span>
                                                        <span class="term-fg32">+    --base-path &quot;astria-bridge-contracts&quot; \</span>
                                                        <span class="term-fg32">+    --bin &quot;astria-bridge-contracts&#47;src&#47;AstriaBridgeableERC20.sol&quot; \</span>
                                                        <span class="term-fg32">+    -o bin&#47; --overwrite</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+abigen --abi abi&#47;AstriaBridgeableERC20.abi --bin bin&#47;AstriaBridgeableERC20.bin --pkg contracts --type AstriaBridgeableERC20 --out astria_bridgeable_erc20.go</span></div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-215a824fd2a8ce8b3e012fe7"role="button" aria-expanded="false" aria-controls="id-215a824fd2a8ce8b3e012fe7">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>EIP-1559 modifications</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+45</span></div>
                                                <div class="text-start"><span class="text-danger">-27</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-215a824fd2a8ce8b3e012fe7">
                                            <div><p>EIP-1559 modifications to allow configuration of the base fee and the maximum fee cap.</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-d75753a19e657908c489308f" role="button"
                                                           aria-expanded="false" aria-controls="id-d75753a19e657908c489308f">
                                                            <code>cmd/evm/internal/t8ntool/transaction.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/evm/internal/t8ntool/transaction.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/evm/internal/t8ntool/transaction.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+1</span></div>
                                                            <div class="text-start"><span class="text-danger">-1</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-d75753a19e657908c489308f"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;evm&#47;internal&#47;t8ntool&#47;transaction.go astria-geth&#47;cmd&#47;evm&#47;internal&#47;t8ntool&#47;transaction.go</span>
                                                        <span class="term-fg1">index 7f66ba4d85d69122049536e9a3d32934543d8231..a9d3ab4cd2f4284f5210f0ac95adceec26c06e98 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;cmd&#47;evm&#47;internal&#47;t8ntool&#47;transaction.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;cmd&#47;evm&#47;internal&#47;t8ntool&#47;transaction.go</span>
                                                        <span class="term-fg36">@@ -134,7 +134,7 @@</span> 			r.Address = sender
                                                        }
                                                        &#47;&#47; Check intrinsic gas
                                                        if gas, err := core.IntrinsicGas(tx.Data(), tx.AccessList(), tx.To() == nil,
                                                        <span class="term-fg31">-			chainConfig.IsHomestead(new(big.Int)), chainConfig.IsIstanbul(new(big.Int)), chainConfig.IsShanghai(new(big.Int), 0)); err != nil {</span>
                                                        <span class="term-fg32">+			chainConfig.IsHomestead(new(big.Int)), chainConfig.IsIstanbul(new(big.Int)), chainConfig.IsShanghai(new(big.Int), 0), false); err != nil {</span>
                                                        r.Error = err
                                                        results = append(results, r)
                                                        continue</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-2565ee9c795256d11e9213c5" role="button"
                                                           aria-expanded="false" aria-controls="id-2565ee9c795256d11e9213c5">
                                                            <code>consensus/misc/eip1559/eip1559.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/consensus/misc/eip1559/eip1559.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/consensus/misc/eip1559/eip1559.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+10</span></div>
                                                            <div class="text-start"><span class="text-danger">-5</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-2565ee9c795256d11e9213c5"><span class="term-fg1">diff --git go-ethereum&#47;consensus&#47;misc&#47;eip1559&#47;eip1559.go astria-geth&#47;consensus&#47;misc&#47;eip1559&#47;eip1559.go</span>
                                                        <span class="term-fg1">index 84b82c4c492ec1351da2129b51b99fc50d3c6b28..8c50c52b00574ee7fa76d00ce4fcaae67aa03245 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;consensus&#47;misc&#47;eip1559&#47;eip1559.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;consensus&#47;misc&#47;eip1559&#47;eip1559.go</span>
                                                        <span class="term-fg36">@@ -35,7 +35,7 @@</span> func VerifyEIP1559Header(config *params.ChainConfig, parent, header *types.Header) error {
                                                        &#47;&#47; Verify that the gas limit remains within allowed bounds
                                                        parentGasLimit := parent.GasLimit
                                                        if !config.IsLondon(parent.Number) {
                                                        <span class="term-fg31">-		parentGasLimit = parent.GasLimit * config.ElasticityMultiplier()</span>
                                                        <span class="term-fg32">+		parentGasLimit = parent.GasLimit * config.ElasticityMultiplier(parent.Number.Uint64())</span>
                                                        }
                                                        if err := misc.VerifyGaslimit(parentGasLimit, header.GasLimit); err != nil {
                                                        return err
                                                        <span class="term-fg36">@@ -60,7 +60,7 @@</span> 	if !config.IsLondon(parent.Number) {
                                                        return new(big.Int).SetUint64(params.InitialBaseFee)
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg31">-	parentGasTarget := parent.GasLimit &#47; config.ElasticityMultiplier()</span>
                                                        <span class="term-fg32">+	parentGasTarget := parent.GasLimit &#47; config.ElasticityMultiplier(parent.Number.Uint64()+1)</span>
                                                        &#47;&#47; If the parent gasUsed is the same as the target, the baseFee remains unchanged.
                                                        if parent.GasUsed == parentGasTarget {
                                                        return new(big.Int).Set(parent.BaseFee)
                                                        <span class="term-fg36">@@ -77,7 +77,7 @@</span> 		&#47;&#47; max(1, parentBaseFee * gasUsedDelta &#47; parentGasTarget &#47; baseFeeChangeDenominator)
                                                        num.SetUint64(parent.GasUsed - parentGasTarget)
                                                        num.Mul(num, parent.BaseFee)
                                                        num.Div(num, denom.SetUint64(parentGasTarget))
                                                        <span class="term-fg31">-		num.Div(num, denom.SetUint64(config.BaseFeeChangeDenominator()))</span>
                                                        <span class="term-fg32">+		num.Div(num, denom.SetUint64(config.BaseFeeChangeDenominator(parent.Number.Uint64()+1)))</span>
                                                        baseFeeDelta := math.BigMax(num, common.Big1)
                                                        &nbsp;
                                                        return num.Add(parent.BaseFee, baseFeeDelta)
                                                        <span class="term-fg36">@@ -87,9 +87,14 @@</span> 		&#47;&#47; max(0, parentBaseFee * gasUsedDelta &#47; parentGasTarget &#47; baseFeeChangeDenominator)
                                                        num.SetUint64(parentGasTarget - parent.GasUsed)
                                                        num.Mul(num, parent.BaseFee)
                                                        num.Div(num, denom.SetUint64(parentGasTarget))
                                                        <span class="term-fg31">-		num.Div(num, denom.SetUint64(config.BaseFeeChangeDenominator()))</span>
                                                        <span class="term-fg32">+		num.Div(num, denom.SetUint64(config.BaseFeeChangeDenominator(parent.Number.Uint64()+1)))</span>
                                                        baseFee := num.Sub(parent.BaseFee, num)
                                                        &nbsp;
                                                        <span class="term-fg31">-		return math.BigMax(baseFee, common.Big0)</span>
                                                        <span class="term-fg32">+		lowerBound := common.Big0</span>
                                                        <span class="term-fg32">+		if config.AstriaEIP1559Params != nil {</span>
                                                        <span class="term-fg32">+			lowerBound = config.AstriaEIP1559Params.MinBaseFeeAt(parent.Number.Uint64() + 1)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		return math.BigMax(baseFee, lowerBound)</span>
                                                        }
                                                        }</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-b6d730cb6e6f980c50d97e59" role="button"
                                                           aria-expanded="false" aria-controls="id-b6d730cb6e6f980c50d97e59">
                                                            <code>core/bench_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/bench_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/bench_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+1</span></div>
                                                            <div class="text-start"><span class="text-danger">-1</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-b6d730cb6e6f980c50d97e59"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;bench_test.go astria-geth&#47;core&#47;bench_test.go</span>
                                                        <span class="term-fg1">index 97713868a5473b49cc7b8d7a5fb5937d69e7d4b7..7cc94e809cd23269fe38c3e87e136257cdc5a7b7 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;bench_test.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;bench_test.go</span>
                                                        <span class="term-fg36">@@ -83,7 +83,7 @@</span> func genValueTx(nbytes int) func(int, *BlockGen) {
                                                        return func(i int, gen *BlockGen) {
                                                        toaddr := common.Address{}
                                                        data := make([]byte, nbytes)
                                                        <span class="term-fg31">-		gas, _ := IntrinsicGas(data, nil, false, false, false, false)</span>
                                                        <span class="term-fg32">+		gas, _ := IntrinsicGas(data, nil, false, false, false, false, false)</span>
                                                        signer := gen.Signer()
                                                        gasPrice := big.NewInt(0)
                                                        if gen.header.BaseFee != nil {</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-e67ffd9bff449fbc4d551708" role="button"
                                                           aria-expanded="false" aria-controls="id-e67ffd9bff449fbc4d551708">
                                                            <code>core/blockchain_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/blockchain_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/blockchain_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+26</span></div>
                                                            <div class="text-start"><span class="text-danger">-14</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-e67ffd9bff449fbc4d551708"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;blockchain_test.go astria-geth&#47;core&#47;blockchain_test.go</span>
                                                        <span class="term-fg1">index e4bc3e09a657d1dfd3770f9d15d276539d19a61d..dd3bbaafa3c2e53460ee1ebf4247f5cc7d6c1b8d 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;blockchain_test.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;blockchain_test.go</span>
                                                        <span class="term-fg36">@@ -3558,19 +3558,23 @@</span>
                                                        state, _ := chain.State()
                                                        &nbsp;
                                                        &#47;&#47; 3: Ensure that miner received only the tx&#39;s tip.
                                                        <span class="term-fg31">-	actual := state.GetBalance(block.Coinbase()).ToBig()</span>
                                                        <span class="term-fg32">+	actual := state.GetBalance(block.Coinbase())</span>
                                                        <span class="term-fg32">+	totalBaseFee := new(big.Int).SetUint64(block.BaseFee().Uint64() * block.GasUsed())</span>
                                                        <span class="term-fg32">+</span>
                                                        expected := new(big.Int).Add(
                                                        new(big.Int).SetUint64(block.GasUsed()*block.Transactions()[0].GasTipCap().Uint64()),
                                                        ethash.ConstantinopleBlockReward.ToBig(),
                                                        )
                                                        <span class="term-fg31">-	if actual.Cmp(expected) != 0 {</span>
                                                        <span class="term-fg32">+	expected = expected.Add(expected, totalBaseFee)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if actual.Cmp(uint256.MustFromBig(expected)) != 0 {</span>
                                                        t.Fatalf(&quot;miner balance incorrect: expected %d, got %d&quot;, expected, actual)
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; 4: Ensure the tx sender paid for the gasUsed * (tip + block baseFee).
                                                        <span class="term-fg31">-	actual = new(big.Int).Sub(funds, state.GetBalance(addr1).ToBig())</span>
                                                        <span class="term-fg32">+	actual = new(uint256.Int).Sub(uint256.MustFromBig(funds), state.GetBalance(addr1))</span>
                                                        expected = new(big.Int).SetUint64(block.GasUsed() * (block.Transactions()[0].GasTipCap().Uint64() + block.BaseFee().Uint64()))
                                                        <span class="term-fg31">-	if actual.Cmp(expected) != 0 {</span>
                                                        <span class="term-fg32">+	if actual.Cmp(uint256.MustFromBig(expected)) != 0 {</span>
                                                        t.Fatalf(&quot;sender balance incorrect: expected %d, got %d&quot;, expected, actual)
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg36">@@ -3597,20 +3601,24 @@</span> 	block = chain.GetBlockByNumber(2)
                                                        state, _ = chain.State()
                                                        effectiveTip := block.Transactions()[0].GasTipCap().Uint64() - block.BaseFee().Uint64()
                                                        &nbsp;
                                                        <span class="term-fg31">-	&#47;&#47; 6+5: Ensure that miner received only the tx&#39;s effective tip.</span>
                                                        <span class="term-fg31">-	actual = state.GetBalance(block.Coinbase()).ToBig()</span>
                                                        <span class="term-fg32">+	&#47;&#47; 6+5: Ensure that miner received only the tx&#39;s effective tip and the base fee.</span>
                                                        <span class="term-fg32">+	&#47;&#47; astria-evm doesn&#39;t burn the base fee, but it is given to the miner.</span>
                                                        <span class="term-fg32">+	actual = state.GetBalance(block.Coinbase())</span>
                                                        <span class="term-fg32">+	totalBaseFee = new(big.Int).SetUint64(block.BaseFee().Uint64() * block.GasUsed())</span>
                                                        <span class="term-fg32">+</span>
                                                        expected = new(big.Int).Add(
                                                        new(big.Int).SetUint64(block.GasUsed()*effectiveTip),
                                                        ethash.ConstantinopleBlockReward.ToBig(),
                                                        )
                                                        <span class="term-fg31">-	if actual.Cmp(expected) != 0 {</span>
                                                        <span class="term-fg32">+	expected = expected.Add(expected, totalBaseFee)</span>
                                                        <span class="term-fg32">+	if actual.Cmp(uint256.MustFromBig(expected)) != 0 {</span>
                                                        t.Fatalf(&quot;miner balance incorrect: expected %d, got %d&quot;, expected, actual)
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; 4: Ensure the tx sender paid for the gasUsed * (effectiveTip + block baseFee).
                                                        <span class="term-fg31">-	actual = new(big.Int).Sub(funds, state.GetBalance(addr2).ToBig())</span>
                                                        <span class="term-fg32">+	actual = new(uint256.Int).Sub(uint256.MustFromBig(funds), state.GetBalance(addr2))</span>
                                                        expected = new(big.Int).SetUint64(block.GasUsed() * (effectiveTip + block.BaseFee().Uint64()))
                                                        <span class="term-fg31">-	if actual.Cmp(expected) != 0 {</span>
                                                        <span class="term-fg32">+	if actual.Cmp(uint256.MustFromBig(expected)) != 0 {</span>
                                                        t.Fatalf(&quot;sender balance incorrect: expected %d, got %d&quot;, expected, actual)
                                                        }
                                                        }
                                                        <span class="term-fg36">@@ -4207,17 +4215,21 @@</span> 	}
                                                        &nbsp;
                                                        state, _ := chain.State()
                                                        &nbsp;
                                                        <span class="term-fg31">-	&#47;&#47; 3: Ensure that miner received only the tx&#39;s tip.</span>
                                                        <span class="term-fg31">-	actual := state.GetBalance(block.Coinbase()).ToBig()</span>
                                                        <span class="term-fg32">+	&#47;&#47; 3: Ensure that miner receives tx&#39;s tip and the base fee.</span>
                                                        <span class="term-fg32">+	&#47;&#47; in the astria-evm, the base fee is not burned but transferred to the miner.</span>
                                                        <span class="term-fg32">+	actual := state.GetBalance(block.Coinbase())</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	totalBaseFee := new(big.Int).SetUint64(block.GasUsed() * block.BaseFee().Uint64())</span>
                                                        expected := new(big.Int).SetUint64(block.GasUsed() * block.Transactions()[0].GasTipCap().Uint64())
                                                        <span class="term-fg31">-	if actual.Cmp(expected) != 0 {</span>
                                                        <span class="term-fg32">+	expected = expected.Add(expected, totalBaseFee)</span>
                                                        <span class="term-fg32">+	if actual.Cmp(uint256.MustFromBig(expected)) != 0 {</span>
                                                        t.Fatalf(&quot;miner balance incorrect: expected %d, got %d&quot;, expected, actual)
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; 4: Ensure the tx sender paid for the gasUsed * (tip + block baseFee).
                                                        <span class="term-fg31">-	actual = new(big.Int).Sub(funds, state.GetBalance(addr1).ToBig())</span>
                                                        <span class="term-fg32">+	actual = new(uint256.Int).Sub(uint256.MustFromBig(funds), state.GetBalance(addr1))</span>
                                                        expected = new(big.Int).SetUint64(block.GasUsed() * (block.Transactions()[0].GasTipCap().Uint64() + block.BaseFee().Uint64()))
                                                        <span class="term-fg31">-	if actual.Cmp(expected) != 0 {</span>
                                                        <span class="term-fg32">+	if actual.Cmp(uint256.MustFromBig(expected)) != 0 {</span>
                                                        t.Fatalf(&quot;sender balance incorrect: expected %d, got %d&quot;, expected, actual)
                                                        }
                                                        }</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-469d88fafccae6c719fbcc8d" role="button"
                                                           aria-expanded="false" aria-controls="id-469d88fafccae6c719fbcc8d">
                                                            <code>core/chain_makers.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/chain_makers.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/chain_makers.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+4</span></div>
                                                            <div class="text-start"><span class="text-danger">-3</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-469d88fafccae6c719fbcc8d"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;chain_makers.go astria-geth&#47;core&#47;chain_makers.go</span>
                                                        <span class="term-fg1">index 13d7cb86c043ccc64127cff3f91cfe30de9da673..68f7bc529858f6172e30d915b62cbb0997871cca 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;chain_makers.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;chain_makers.go</span>
                                                        <span class="term-fg36">@@ -233,7 +233,7 @@</span> 	h.GasLimit = parent.GasLimit
                                                        if b.cm.config.IsLondon(h.Number) {
                                                        h.BaseFee = eip1559.CalcBaseFee(b.cm.config, parent)
                                                        if !b.cm.config.IsLondon(parent.Number) {
                                                        <span class="term-fg31">-			parentGasLimit := parent.GasLimit * b.cm.config.ElasticityMultiplier()</span>
                                                        <span class="term-fg32">+			parentGasLimit := parent.GasLimit * b.cm.config.ElasticityMultiplier(parent.Number.Uint64())</span>
                                                        h.GasLimit = CalcGasLimit(parentGasLimit, parentGasLimit)
                                                        }
                                                        }
                                                        <span class="term-fg36">@@ -316,7 +316,6 @@</span>
                                                        genblock := func(i int, parent *types.Block, triedb *triedb.Database, statedb *state.StateDB) (*types.Block, types.Receipts) {
                                                        b := &amp;BlockGen{i: i, cm: cm, parent: parent, statedb: statedb, engine: engine}
                                                        b.header = cm.makeHeader(parent, statedb, b.engine)
                                                        <span class="term-fg31">-</span>
                                                        &#47;&#47; Set the difficulty for clique block. The chain maker doesn&#39;t have access
                                                        &#47;&#47; to a chain, so the difficulty will be left unset (nil). Set it here to the
                                                        &#47;&#47; correct value.
                                                        <span class="term-fg36">@@ -341,6 +340,7 @@</span> 		}
                                                        if config.DAOForkSupport &amp;&amp; config.DAOForkBlock != nil &amp;&amp; config.DAOForkBlock.Cmp(b.header.Number) == 0 {
                                                        misc.ApplyDAOHardFork(statedb)
                                                        }
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Execute any user modifications to the block
                                                        if gen != nil {
                                                        gen(i, b)
                                                        <span class="term-fg36">@@ -540,7 +540,7 @@</span>
                                                        if cm.config.IsLondon(header.Number) {
                                                        header.BaseFee = eip1559.CalcBaseFee(cm.config, parent.Header())
                                                        if !cm.config.IsLondon(parent.Number()) {
                                                        <span class="term-fg31">-			parentGasLimit := parent.GasLimit() * cm.config.ElasticityMultiplier()</span>
                                                        <span class="term-fg32">+			parentGasLimit := parent.GasLimit() * cm.config.ElasticityMultiplier(parent.Number().Uint64())</span>
                                                        header.GasLimit = CalcGasLimit(parentGasLimit, parentGasLimit)
                                                        }
                                                        }
                                                        <span class="term-fg36">@@ -558,6 +558,7 @@</span> 		header.ExcessBlobGas = &amp;excessBlobGas
                                                        header.BlobGasUsed = new(uint64)
                                                        header.ParentBeaconRoot = new(common.Hash)
                                                        }
                                                        <span class="term-fg32">+</span>
                                                        return header
                                                        }
                                                    </div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-ff56c30b4b519e5673d85aaa" role="button"
                                                           aria-expanded="false" aria-controls="id-ff56c30b4b519e5673d85aaa">
                                                            <code>core/state_processor_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/state_processor_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/state_processor_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+2</span></div>
                                                            <div class="text-start"><span class="text-danger">-2</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-ff56c30b4b519e5673d85aaa"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;state_processor_test.go astria-geth&#47;core&#47;state_processor_test.go</span>
                                                        <span class="term-fg1">index e98d27eb92d27610dedd25b42121ab987d603c9c..a3ae639aa285f354bc93c348e828b770e7c69a13 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;core&#47;state_processor_test.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;core&#47;state_processor_test.go</span>
                                                        <span class="term-fg36">@@ -426,12 +426,12 @@</span> }
                                                        &nbsp;
                                                        var (
                                                        code                            = common.FromHex(`6060604052600a8060106000396000f360606040526008565b00`)
                                                        <span class="term-fg31">-	intrinsicContractCreationGas, _ = IntrinsicGas(code, nil, true, true, true, true)</span>
                                                        <span class="term-fg32">+	intrinsicContractCreationGas, _ = IntrinsicGas(code, nil, true, true, true, true, false)</span>
                                                        &#47;&#47; A contract creation that calls EXTCODECOPY in the constructor. Used to ensure that the witness
                                                        &#47;&#47; will not contain that copied data.
                                                        &#47;&#47; Source: https:&#47;&#47;gist.github.com&#47;gballet&#47;a23db1e1cb4ed105616b5920feb75985
                                                        codeWithExtCodeCopy                = common.FromHex(`0x60806040526040516100109061017b565b604051809103906000f08015801561002c573d6000803e3d6000fd5b506000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555034801561007857600080fd5b5060008067ffffffffffffffff8111156100955761009461024a565b5b6040519080825280601f01601f1916602001820160405280156100c75781602001600182028036833780820191505090505b50905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506020600083833c81610101906101e3565b60405161010d90610187565b61011791906101a3565b604051809103906000f080158015610133573d6000803e3d6000fd5b50600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505061029b565b60d58061046783390190565b6102068061053c83390190565b61019d816101d9565b82525050565b60006020820190506101b86000830184610194565b92915050565b6000819050602082019050919050565b600081519050919050565b6000819050919050565b60006101ee826101ce565b826101f8846101be565b905061020381610279565b925060208210156102435761023e7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8360200360080261028e565b831692505b5050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600061028582516101d9565b80915050919050565b600082821b905092915050565b6101bd806102aa6000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063f566852414610030575b600080fd5b61003861004e565b6040516100459190610146565b60405180910390f35b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166381ca91d36040518163ffffffff1660e01b815260040160206040518083038186803b1580156100b857600080fd5b505afa1580156100cc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100f0919061010a565b905090565b60008151905061010481610170565b92915050565b6000602082840312156101205761011f61016b565b5b600061012e848285016100f5565b91505092915050565b61014081610161565b82525050565b600060208201905061015b6000830184610137565b92915050565b6000819050919050565b600080fd5b61017981610161565b811461018457600080fd5b5056fea2646970667358221220a6a0e11af79f176f9c421b7b12f441356b25f6489b83d38cc828a701720b41f164736f6c63430008070033608060405234801561001057600080fd5b5060b68061001f6000396000f3fe6080604052348015600f57600080fd5b506004361060285760003560e01c8063ab5ed15014602d575b600080fd5b60336047565b604051603e9190605d565b60405180910390f35b60006001905090565b6057816076565b82525050565b6000602082019050607060008301846050565b92915050565b600081905091905056fea26469706673582212203a14eb0d5cd07c277d3e24912f110ddda3e553245a99afc4eeefb2fbae5327aa64736f6c63430008070033608060405234801561001057600080fd5b5060405161020638038061020683398181016040528101906100329190610063565b60018160001c6100429190610090565b60008190555050610145565b60008151905061005d8161012e565b92915050565b60006020828403121561007957610078610129565b5b60006100878482850161004e565b91505092915050565b600061009b826100f0565b91506100a6836100f0565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156100db576100da6100fa565b5b828201905092915050565b6000819050919050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600080fd5b610137816100e6565b811461014257600080fd5b50565b60b3806101536000396000f3fe6080604052348015600f57600080fd5b506004361060285760003560e01c806381ca91d314602d575b600080fd5b60336047565b604051603e9190605a565b60405180910390f35b60005481565b6054816073565b82525050565b6000602082019050606d6000830184604d565b92915050565b600081905091905056fea26469706673582212209bff7098a2f526de1ad499866f27d6d0d6f17b74a413036d6063ca6a0998ca4264736f6c63430008070033`)
                                                        <span class="term-fg31">-	intrinsicCodeWithExtCodeCopyGas, _ = IntrinsicGas(codeWithExtCodeCopy, nil, true, true, true, true)</span>
                                                        <span class="term-fg32">+	intrinsicCodeWithExtCodeCopyGas, _ = IntrinsicGas(codeWithExtCodeCopy, nil, true, true, true, true, false)</span>
                                                        )
                                                        &nbsp;
                                                        func TestProcessVerkle(t *testing.T) {</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-2f5437f3fd62dc008863a5b6" role="button"
                                                           aria-expanded="false" aria-controls="id-2f5437f3fd62dc008863a5b6">
                                                            <code>tests/transaction_test_util.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/tests/transaction_test_util.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/tests/transaction_test_util.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+1</span></div>
                                                            <div class="text-start"><span class="text-danger">-1</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-2f5437f3fd62dc008863a5b6"><span class="term-fg1">diff --git go-ethereum&#47;tests&#47;transaction_test_util.go astria-geth&#47;tests&#47;transaction_test_util.go</span>
                                                        <span class="term-fg1">index 391aa57584cfa5708234d2ff5fe4f8d7875afe34..d9ffa3702812f027b8eeaeed03e847cfce90dbc0 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;tests&#47;transaction_test_util.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;tests&#47;transaction_test_util.go</span>
                                                        <span class="term-fg36">@@ -55,7 +55,7 @@</span> 		if err != nil {
                                                        return nil, nil, err
                                                        }
                                                        &#47;&#47; Intrinsic gas
                                                        <span class="term-fg31">-		requiredGas, err := core.IntrinsicGas(tx.Data(), tx.AccessList(), tx.To() == nil, isHomestead, isIstanbul, false)</span>
                                                        <span class="term-fg32">+		requiredGas, err := core.IntrinsicGas(tx.Data(), tx.AccessList(), tx.To() == nil, isHomestead, isIstanbul, false, false)</span>
                                                        if err != nil {
                                                        return nil, nil, err
                                                        }</div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-692967efa3760be90b5190fc"role="button" aria-expanded="false" aria-controls="id-692967efa3760be90b5190fc">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>Block-building modifications</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+387</span></div>
                                                <div class="text-start"><span class="text-danger">-216</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-692967efa3760be90b5190fc">
                                            <div><p>The block-building code implements changes to support shared sequencer transactions ordering.
                                                Transactions are now being fetched from the <code>TxPool</code> based on the shared sequencer.</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-11212d126c266cd301127aba" role="button"
                                                           aria-expanded="false" aria-controls="id-11212d126c266cd301127aba">
                                                            <code>miner/payload_building.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/miner/payload_building.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/miner/payload_building.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+11</span></div>
                                                            <div class="text-start"><span class="text-danger">-49</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-11212d126c266cd301127aba"><span class="term-fg1">diff --git go-ethereum&#47;miner&#47;payload_building.go astria-geth&#47;miner&#47;payload_building.go</span>
                                                        <span class="term-fg1">index d027cd1e1f3a82feb3af39de84451d991dd8071f..351de85a8d13bcccf4ea15d1d5cb7694b8c14f5d 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;miner&#47;payload_building.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;miner&#47;payload_building.go</span>
                                                        <span class="term-fg36">@@ -180,7 +180,7 @@</span> func (miner *Miner) buildPayload(args *BuildPayloadArgs) (*Payload, error) {
                                                        &#47;&#47; Build the initial version with no transaction included. It should be fast
                                                        &#47;&#47; enough to run. The empty payload can at least make sure there is something
                                                        &#47;&#47; to deliver for not missing slot.
                                                        <span class="term-fg31">-	emptyParams := &amp;generateParams{</span>
                                                        <span class="term-fg32">+	fullParams := &amp;generateParams{</span>
                                                        timestamp:   args.Timestamp,
                                                        forceTime:   true,
                                                        parentHash:  args.Parent,
                                                        <span class="term-fg36">@@ -188,59 +188,21 @@</span> 		coinbase:    args.FeeRecipient,
                                                        random:      args.Random,
                                                        withdrawals: args.Withdrawals,
                                                        beaconRoot:  args.BeaconRoot,
                                                        <span class="term-fg31">-		noTxs:       true,</span>
                                                        <span class="term-fg32">+		noTxs:       false,</span>
                                                        }
                                                        <span class="term-fg31">-	empty := miner.generateWork(emptyParams)</span>
                                                        <span class="term-fg31">-	if empty.err != nil {</span>
                                                        <span class="term-fg31">-		return nil, empty.err</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	start := time.Now()</span>
                                                        <span class="term-fg32">+	full := miner.generateWork(fullParams)</span>
                                                        <span class="term-fg32">+	if full.err != nil {</span>
                                                        <span class="term-fg32">+		return nil, full.err</span>
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; Construct a payload object for return.
                                                        <span class="term-fg31">-	payload := newPayload(empty.block, args.Id())</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg31">-	&#47;&#47; Spin up a routine for updating the payload in background. This strategy</span>
                                                        <span class="term-fg31">-	&#47;&#47; can maximum the revenue for including transactions with highest fee.</span>
                                                        <span class="term-fg31">-	go func() {</span>
                                                        <span class="term-fg31">-		&#47;&#47; Setup the timer for re-building the payload. The initial clock is kept</span>
                                                        <span class="term-fg31">-		&#47;&#47; for triggering process immediately.</span>
                                                        <span class="term-fg31">-		timer := time.NewTimer(0)</span>
                                                        <span class="term-fg31">-		defer timer.Stop()</span>
                                                        <span class="term-fg32">+	payload := newPayload(full.block, args.Id())</span>
                                                        &nbsp;
                                                        <span class="term-fg31">-		&#47;&#47; Setup the timer for terminating the process if SECONDS_PER_SLOT (12s in</span>
                                                        <span class="term-fg31">-		&#47;&#47; the Mainnet configuration) have passed since the point in time identified</span>
                                                        <span class="term-fg31">-		&#47;&#47; by the timestamp parameter.</span>
                                                        <span class="term-fg31">-		endTimer := time.NewTimer(time.Second * 12)</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg31">-		fullParams := &amp;generateParams{</span>
                                                        <span class="term-fg31">-			timestamp:   args.Timestamp,</span>
                                                        <span class="term-fg31">-			forceTime:   true,</span>
                                                        <span class="term-fg31">-			parentHash:  args.Parent,</span>
                                                        <span class="term-fg31">-			coinbase:    args.FeeRecipient,</span>
                                                        <span class="term-fg31">-			random:      args.Random,</span>
                                                        <span class="term-fg31">-			withdrawals: args.Withdrawals,</span>
                                                        <span class="term-fg31">-			beaconRoot:  args.BeaconRoot,</span>
                                                        <span class="term-fg31">-			noTxs:       false,</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg32">+	&#47;&#47; Add the updated block to the payload</span>
                                                        <span class="term-fg32">+	payload.update(full, time.Since(start))</span>
                                                        <span class="term-fg32">+	log.Info(&quot;Stopping work on payload&quot;, &quot;id&quot;, payload.id, &quot;reason&quot;, &quot;delivery&quot;)</span>
                                                        &nbsp;
                                                        <span class="term-fg31">-		for {</span>
                                                        <span class="term-fg31">-			select {</span>
                                                        <span class="term-fg31">-			case &lt;-timer.C:</span>
                                                        <span class="term-fg31">-				start := time.Now()</span>
                                                        <span class="term-fg31">-				r := miner.generateWork(fullParams)</span>
                                                        <span class="term-fg31">-				if r.err == nil {</span>
                                                        <span class="term-fg31">-					payload.update(r, time.Since(start))</span>
                                                        <span class="term-fg31">-				} else {</span>
                                                        <span class="term-fg31">-					log.Info(&quot;Error while generating work&quot;, &quot;id&quot;, payload.id, &quot;err&quot;, r.err)</span>
                                                        <span class="term-fg31">-				}</span>
                                                        <span class="term-fg31">-				timer.Reset(miner.config.Recommit)</span>
                                                        <span class="term-fg31">-			case &lt;-payload.stop:</span>
                                                        <span class="term-fg31">-				log.Info(&quot;Stopping work on payload&quot;, &quot;id&quot;, payload.id, &quot;reason&quot;, &quot;delivery&quot;)</span>
                                                        <span class="term-fg31">-				return</span>
                                                        <span class="term-fg31">-			case &lt;-endTimer.C:</span>
                                                        <span class="term-fg31">-				log.Info(&quot;Stopping work on payload&quot;, &quot;id&quot;, payload.id, &quot;reason&quot;, &quot;timeout&quot;)</span>
                                                        <span class="term-fg31">-				return</span>
                                                        <span class="term-fg31">-			}</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg31">-	}()</span>
                                                        return payload, nil
                                                        }</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-66db26854d69008e47ea5cd1" role="button"
                                                           aria-expanded="false" aria-controls="id-66db26854d69008e47ea5cd1">
                                                            <code>miner/payload_building_test.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/miner/payload_building_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/miner/payload_building_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+314</span></div>
                                                            <div class="text-start"><span class="text-danger">-18</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-66db26854d69008e47ea5cd1"><span class="term-fg1">diff --git go-ethereum&#47;miner&#47;payload_building_test.go astria-geth&#47;miner&#47;payload_building_test.go</span>
                                                        <span class="term-fg1">index 1728b9e5bd5934c0fcf05c4e25d1f073843db6f0..230d6adcaae3625b685ab625e60689f75b6facc9 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;miner&#47;payload_building_test.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;miner&#47;payload_building_test.go</span>
                                                        <span class="term-fg36">@@ -17,11 +17,6 @@</span>
                                                        package miner
                                                        &nbsp;
                                                        import (
                                                        <span class="term-fg31">-	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg31">-	&quot;reflect&quot;</span>
                                                        <span class="term-fg31">-	&quot;testing&quot;</span>
                                                        <span class="term-fg31">-	&quot;time&quot;</span>
                                                        <span class="term-fg31">-</span>
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;beacon&#47;engine&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;
                                                        <span class="term-fg36">@@ -37,6 +32,10 @@</span> 	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;vm&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;ethdb&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;
                                                        <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                                        <span class="term-fg32">+	&quot;reflect&quot;</span>
                                                        <span class="term-fg32">+	&quot;testing&quot;</span>
                                                        <span class="term-fg32">+	&quot;time&quot;</span>
                                                        )
                                                        &nbsp;
                                                        var (
                                                        <span class="term-fg36">@@ -108,7 +107,7 @@</span>
                                                        func newTestWorkerBackend(t *testing.T, chainConfig *params.ChainConfig, engine consensus.Engine, db ethdb.Database, n int) *testWorkerBackend {
                                                        var gspec = &amp;core.Genesis{
                                                        Config: chainConfig,
                                                        <span class="term-fg31">-		Alloc:  types.GenesisAlloc{testBankAddress: {Balance: testBankFunds}},</span>
                                                        <span class="term-fg32">+		Alloc:  core.GenesisAlloc{testBankAddress: {Balance: testBankFunds}},</span>
                                                        }
                                                        switch e := engine.(type) {
                                                        case *clique.Clique:
                                                        <span class="term-fg36">@@ -141,12 +140,11 @@</span> func (b *testWorkerBackend) TxPool() *txpool.TxPool       { return b.txPool }
                                                        &nbsp;
                                                        func newTestWorker(t *testing.T, chainConfig *params.ChainConfig, engine consensus.Engine, db ethdb.Database, blocks int) (*Miner, *testWorkerBackend) {
                                                        backend := newTestWorkerBackend(t, chainConfig, engine, db, blocks)
                                                        <span class="term-fg31">-	backend.txPool.Add(pendingTxs, true, false)</span>
                                                        w := New(backend, testConfig, engine)
                                                        return w, backend
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg31">-func TestBuildPayload(t *testing.T) {</span>
                                                        <span class="term-fg32">+func TestBuildPayloadNotEnoughGas(t *testing.T) {</span>
                                                        var (
                                                        db        = rawdb.NewMemoryDatabase()
                                                        recipient = common.HexToAddress(&quot;0xdeadbeef&quot;)
                                                        <span class="term-fg36">@@ -154,16 +152,193 @@</span> 	)
                                                        w, b := newTestWorker(t, params.TestChainConfig, ethash.NewFaker(), db, 0)
                                                        &nbsp;
                                                        timestamp := uint64(time.Now().Unix())
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	txGasPrice := big.NewInt(10 * params.InitialBaseFee)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	gasLimit := b.chain.GasLimit()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	contains := func(transactions types.Transactions, tx *types.Transaction) bool {</span>
                                                        <span class="term-fg32">+		for _, t := range transactions {</span>
                                                        <span class="term-fg32">+			if t.Hash() == tx.Hash() {</span>
                                                        <span class="term-fg32">+				return true</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		return false</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	txsToAdd := types.Transactions{}</span>
                                                        <span class="term-fg32">+	nonceCounter := uint64(0)</span>
                                                        <span class="term-fg32">+	&#47;&#47; keep adding txs until the gas pool goes below 21000 and then add 5 more txs. these 5 txs have to be</span>
                                                        <span class="term-fg32">+	&#47;&#47; excluded from the block</span>
                                                        <span class="term-fg32">+	for {</span>
                                                        <span class="term-fg32">+		tx := types.NewTransaction(b.txPool.Nonce(testBankAddress)+nonceCounter, testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil)</span>
                                                        <span class="term-fg32">+		txsToAdd = append(txsToAdd, tx)</span>
                                                        <span class="term-fg32">+		gasLimit -= params.TxGas</span>
                                                        <span class="term-fg32">+		nonceCounter += 1</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+		if gasLimit &lt; 21000 {</span>
                                                        <span class="term-fg32">+			&#47;&#47; add 5 more such txs which have to be excluded from the block</span>
                                                        <span class="term-fg32">+			for i := 0; i &lt; 5; i++ {</span>
                                                        <span class="term-fg32">+				tx := types.NewTransaction(b.txPool.Nonce(testBankAddress)+nonceCounter, testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil)</span>
                                                        <span class="term-fg32">+				txsToAdd = append(txsToAdd, tx)</span>
                                                        <span class="term-fg32">+				nonceCounter += 1</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			break</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	signedTxs := types.Transactions{}</span>
                                                        <span class="term-fg32">+	for _, tx := range txsToAdd {</span>
                                                        <span class="term-fg32">+		signedTx, err := types.SignTx(tx, types.HomesteadSigner{}, testBankKey)</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			t.Fatalf(&quot;Failed to sign tx %v&quot;, err)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		signedTxs = append(signedTxs, signedTx)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; set the astria ordered txsToBuildPayload</span>
                                                        <span class="term-fg32">+	b.TxPool().SetAstriaOrdered(signedTxs)</span>
                                                        <span class="term-fg32">+	astriaTxs := b.TxPool().AstriaOrdered()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if astriaTxs.Len() != len(txsToAdd) {</span>
                                                        <span class="term-fg32">+		t.Fatalf(&quot;Unexpected number of astria ordered transactions: %d&quot;, astriaTxs.Len())</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	txs := types.TxDifference(*astriaTxs, signedTxs)</span>
                                                        <span class="term-fg32">+	if txs.Len() != 0 {</span>
                                                        <span class="term-fg32">+		t.Fatalf(&quot;Unexpected transactions in astria ordered transactions: %v&quot;, txs)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        args := &amp;BuildPayloadArgs{
                                                        Parent:       b.chain.CurrentBlock().Hash(),
                                                        Timestamp:    timestamp,
                                                        Random:       common.Hash{},
                                                        FeeRecipient: recipient,
                                                        }
                                                        <span class="term-fg32">+</span>
                                                        payload, err := w.buildPayload(args)
                                                        if err != nil {
                                                        t.Fatalf(&quot;Failed to build payload %v&quot;, err)
                                                        }
                                                        <span class="term-fg32">+	full := payload.ResolveFull()</span>
                                                        <span class="term-fg32">+	astriaExcludedFromBlock := b.TxPool().AstriaExcludedFromBlock()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; ensure that the transactions not included in the block are included in astriaExcludedFromBlock</span>
                                                        <span class="term-fg32">+	excludedTxsCount := len(txsToAdd) - len(full.ExecutionPayload.Transactions)</span>
                                                        <span class="term-fg32">+	if astriaExcludedFromBlock.Len() != excludedTxsCount {</span>
                                                        <span class="term-fg32">+		t.Fatalf(&quot;Unexpected number of transactions in astria excluded from block: %d&quot;, astriaExcludedFromBlock.Len())</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; ensure that only the excluded txs are in the list</span>
                                                        <span class="term-fg32">+	if astriaExcludedFromBlock.Len() &gt; 0 {</span>
                                                        <span class="term-fg32">+		for _, binaryTx := range full.ExecutionPayload.Transactions {</span>
                                                        <span class="term-fg32">+			tx := new(types.Transaction)</span>
                                                        <span class="term-fg32">+			err = tx.UnmarshalBinary(binaryTx)</span>
                                                        <span class="term-fg32">+			if err != nil {</span>
                                                        <span class="term-fg32">+				t.Fatalf(&quot;Failed to unmarshal binary transaction %v&quot;, err)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			if contains(*astriaExcludedFromBlock, tx) {</span>
                                                        <span class="term-fg32">+				t.Fatalf(&quot;Transaction %v should not be in the astria excluded from block list&quot;, tx)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestBuildPayloadTimeout(t *testing.T) {</span>
                                                        <span class="term-fg32">+	var (</span>
                                                        <span class="term-fg32">+		db        = rawdb.NewMemoryDatabase()</span>
                                                        <span class="term-fg32">+		recipient = common.HexToAddress(&quot;0xdeadbeef&quot;)</span>
                                                        <span class="term-fg32">+	)</span>
                                                        <span class="term-fg32">+	w, b := newTestWorker(t, params.TestChainConfig, ethash.NewFaker(), db, 0)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	timestamp := uint64(time.Now().Unix())</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	contains := func(transactions types.Transactions, tx *types.Transaction) bool {</span>
                                                        <span class="term-fg32">+		for _, t := range transactions {</span>
                                                        <span class="term-fg32">+			if t.Hash() == tx.Hash() {</span>
                                                        <span class="term-fg32">+				return true</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		return false</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	txGasPrice := big.NewInt(10 * params.InitialBaseFee)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	txsToAdd := types.Transactions{</span>
                                                        <span class="term-fg32">+		types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+		types.NewTransaction(b.txPool.Nonce(testBankAddress)+1, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+		types.NewTransaction(b.txPool.Nonce(testBankAddress)+2, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+		types.NewTransaction(b.txPool.Nonce(testBankAddress)+3, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+		types.NewTransaction(b.txPool.Nonce(testBankAddress)+4, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	signedTxs := types.Transactions{}</span>
                                                        <span class="term-fg32">+	for _, tx := range txsToAdd {</span>
                                                        <span class="term-fg32">+		signedTx, err := types.SignTx(tx, types.HomesteadSigner{}, testBankKey)</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			t.Fatalf(&quot;Failed to sign tx %v&quot;, err)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		signedTxs = append(signedTxs, signedTx)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; set the astria ordered txsToBuildPayload</span>
                                                        <span class="term-fg32">+	b.TxPool().SetAstriaOrdered(signedTxs)</span>
                                                        <span class="term-fg32">+	astriaTxs := b.TxPool().AstriaOrdered()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if astriaTxs.Len() != len(txsToAdd) {</span>
                                                        <span class="term-fg32">+		t.Fatalf(&quot;Unexpected number of astria ordered transactions: %d&quot;, astriaTxs.Len())</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	txs := types.TxDifference(*astriaTxs, signedTxs)</span>
                                                        <span class="term-fg32">+	if txs.Len() != 0 {</span>
                                                        <span class="term-fg32">+		t.Fatalf(&quot;Unexpected transactions in astria ordered transactions: %v&quot;, txs)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; a very small recommit to reliably timeout the payload building</span>
                                                        <span class="term-fg32">+	w.config.Recommit = time.Nanosecond</span>
                                                        <span class="term-fg32">+	args := &amp;BuildPayloadArgs{</span>
                                                        <span class="term-fg32">+		Parent:       b.chain.CurrentBlock().Hash(),</span>
                                                        <span class="term-fg32">+		Timestamp:    timestamp,</span>
                                                        <span class="term-fg32">+		Random:       common.Hash{},</span>
                                                        <span class="term-fg32">+		FeeRecipient: recipient,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	payload, err := w.buildPayload(args)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		t.Fatalf(&quot;Failed to build payload %v&quot;, err)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	full := payload.ResolveFull()</span>
                                                        <span class="term-fg32">+	astriaExcludedFromBlock := b.TxPool().AstriaExcludedFromBlock()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; ensure that the transactions not included in the block are included in astriaExcludedFromBlock</span>
                                                        <span class="term-fg32">+	excludedTxsCount := len(txsToAdd) - len(full.ExecutionPayload.Transactions)</span>
                                                        <span class="term-fg32">+	if astriaExcludedFromBlock.Len() != excludedTxsCount {</span>
                                                        <span class="term-fg32">+		t.Fatalf(&quot;Unexpected number of transactions in astria excluded from block: %d&quot;, astriaExcludedFromBlock.Len())</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; ensure that only the excluded txs are in the list</span>
                                                        <span class="term-fg32">+	if astriaExcludedFromBlock.Len() &gt; 0 {</span>
                                                        <span class="term-fg32">+		for _, binaryTx := range full.ExecutionPayload.Transactions {</span>
                                                        <span class="term-fg32">+			tx := new(types.Transaction)</span>
                                                        <span class="term-fg32">+			err = tx.UnmarshalBinary(binaryTx)</span>
                                                        <span class="term-fg32">+			if err != nil {</span>
                                                        <span class="term-fg32">+				t.Fatalf(&quot;Failed to unmarshal binary transaction %v&quot;, err)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			if contains(*astriaExcludedFromBlock, tx) {</span>
                                                        <span class="term-fg32">+				t.Fatalf(&quot;Transaction %v should not be in the astria excluded from block list&quot;, tx)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func TestBuildPayload(t *testing.T) {</span>
                                                        <span class="term-fg32">+	var (</span>
                                                        <span class="term-fg32">+		db        = rawdb.NewMemoryDatabase()</span>
                                                        <span class="term-fg32">+		recipient = common.HexToAddress(&quot;0xdeadbeef&quot;)</span>
                                                        <span class="term-fg32">+	)</span>
                                                        <span class="term-fg32">+	w, b := newTestWorker(t, params.TestChainConfig, ethash.NewFaker(), db, 0)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	timestamp := uint64(time.Now().Unix())</span>
                                                        <span class="term-fg32">+</span>
                                                        verify := func(outer *engine.ExecutionPayloadEnvelope, txs int) {
                                                        payload := outer.ExecutionPayload
                                                        if payload.ParentHash != b.chain.CurrentBlock().Hash() {
                                                        <span class="term-fg36">@@ -182,18 +357,139 @@</span> 		if len(payload.Transactions) != txs {
                                                        t.Fatal(&quot;Unexpected transaction set&quot;)
                                                        }
                                                        }
                                                        <span class="term-fg31">-	empty := payload.ResolveEmpty()</span>
                                                        <span class="term-fg31">-	verify(empty, 0)</span>
                                                        &nbsp;
                                                        <span class="term-fg31">-	full := payload.ResolveFull()</span>
                                                        <span class="term-fg31">-	verify(full, len(pendingTxs))</span>
                                                        <span class="term-fg32">+	txGasPrice := big.NewInt(10 * params.InitialBaseFee)</span>
                                                        &nbsp;
                                                        <span class="term-fg31">-	&#47;&#47; Ensure resolve can be called multiple times and the</span>
                                                        <span class="term-fg31">-	&#47;&#47; result should be unchanged</span>
                                                        <span class="term-fg31">-	dataOne := payload.Resolve()</span>
                                                        <span class="term-fg31">-	dataTwo := payload.Resolve()</span>
                                                        <span class="term-fg31">-	if !reflect.DeepEqual(dataOne, dataTwo) {</span>
                                                        <span class="term-fg31">-		t.Fatal(&quot;Unexpected payload data&quot;)</span>
                                                        <span class="term-fg32">+	tests := []struct {</span>
                                                        <span class="term-fg32">+		name                 string</span>
                                                        <span class="term-fg32">+		txsToBuildPayload    types.Transactions</span>
                                                        <span class="term-fg32">+		expectedTxsInPayload types.Transactions</span>
                                                        <span class="term-fg32">+		txsExcludedFromBlock types.Transactions</span>
                                                        <span class="term-fg32">+	}{</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			name:                 &quot;empty&quot;,</span>
                                                        <span class="term-fg32">+			txsToBuildPayload:    types.Transactions{},</span>
                                                        <span class="term-fg32">+			expectedTxsInPayload: types.Transactions{},</span>
                                                        <span class="term-fg32">+			txsExcludedFromBlock: types.Transactions{},</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			name: &quot;transactions with gas enough to fit into a single block&quot;,</span>
                                                        <span class="term-fg32">+			txsToBuildPayload: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress)+1, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedTxsInPayload: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress)+1, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			txsExcludedFromBlock: types.Transactions{},</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			name: &quot;transactions with gas which doesn&#39;t fit in a single block&quot;,</span>
                                                        <span class="term-fg32">+			txsToBuildPayload: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), b.BlockChain().GasLimit()-10000, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress)+1, testUserAddress, big.NewInt(1000), b.BlockChain().GasLimit()-10000, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedTxsInPayload: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), b.BlockChain().GasLimit()-10000, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			txsExcludedFromBlock: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress)+1, testUserAddress, big.NewInt(1000), b.BlockChain().GasLimit()-10000, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			name: &quot;transactions with nonce too high&quot;,</span>
                                                        <span class="term-fg32">+			txsToBuildPayload: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress)+4, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedTxsInPayload: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			txsExcludedFromBlock: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress)+4, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+		{</span>
                                                        <span class="term-fg32">+			name: &quot;transactions with nonce too low&quot;,</span>
                                                        <span class="term-fg32">+			txsToBuildPayload: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress)-1, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			expectedTxsInPayload: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress), testUserAddress, big.NewInt(1000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+			txsExcludedFromBlock: types.Transactions{</span>
                                                        <span class="term-fg32">+				types.NewTransaction(b.txPool.Nonce(testBankAddress)-1, testUserAddress, big.NewInt(2000), params.TxGas, txGasPrice, nil),</span>
                                                        <span class="term-fg32">+			},</span>
                                                        <span class="term-fg32">+		},</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	for _, tt := range tests {</span>
                                                        <span class="term-fg32">+		t.Run(tt.name, func(t *testing.T) {</span>
                                                        <span class="term-fg32">+			signedTxs := types.Transactions{}</span>
                                                        <span class="term-fg32">+			signedInvalidTxs := types.Transactions{}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			for _, tx := range tt.txsToBuildPayload {</span>
                                                        <span class="term-fg32">+				signedTx, err := types.SignTx(tx, types.HomesteadSigner{}, testBankKey)</span>
                                                        <span class="term-fg32">+				if err != nil {</span>
                                                        <span class="term-fg32">+					t.Fatalf(&quot;Failed to sign tx %v&quot;, err)</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				signedTxs = append(signedTxs, signedTx)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			for _, tx := range tt.txsExcludedFromBlock {</span>
                                                        <span class="term-fg32">+				signedTx, err := types.SignTx(tx, types.HomesteadSigner{}, testBankKey)</span>
                                                        <span class="term-fg32">+				if err != nil {</span>
                                                        <span class="term-fg32">+					t.Fatalf(&quot;Failed to sign tx %v&quot;, err)</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+				signedInvalidTxs = append(signedInvalidTxs, signedTx)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			&#47;&#47; set the astria ordered txsToBuildPayload</span>
                                                        <span class="term-fg32">+			b.TxPool().SetAstriaOrdered(signedTxs)</span>
                                                        <span class="term-fg32">+			astriaTxs := b.TxPool().AstriaOrdered()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			if astriaTxs.Len() != len(tt.txsToBuildPayload) {</span>
                                                        <span class="term-fg32">+				t.Fatalf(&quot;Unexpected number of astria ordered transactions: %d&quot;, astriaTxs.Len())</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			txs := types.TxDifference(*astriaTxs, signedTxs)</span>
                                                        <span class="term-fg32">+			if txs.Len() != 0 {</span>
                                                        <span class="term-fg32">+				t.Fatalf(&quot;Unexpected transactions in astria ordered transactions: %v&quot;, txs)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			args := &amp;BuildPayloadArgs{</span>
                                                        <span class="term-fg32">+				Parent:       b.chain.CurrentBlock().Hash(),</span>
                                                        <span class="term-fg32">+				Timestamp:    timestamp,</span>
                                                        <span class="term-fg32">+				Random:       common.Hash{},</span>
                                                        <span class="term-fg32">+				FeeRecipient: recipient,</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			payload, err := w.buildPayload(args)</span>
                                                        <span class="term-fg32">+			if err != nil {</span>
                                                        <span class="term-fg32">+				t.Fatalf(&quot;Failed to build payload %v&quot;, err)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+			full := payload.ResolveFull()</span>
                                                        <span class="term-fg32">+			verify(full, len(tt.expectedTxsInPayload))</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			&#47;&#47; Ensure resolve can be called multiple times and the</span>
                                                        <span class="term-fg32">+			&#47;&#47; result should be unchanged</span>
                                                        <span class="term-fg32">+			dataOne := payload.Resolve()</span>
                                                        <span class="term-fg32">+			dataTwo := payload.Resolve()</span>
                                                        <span class="term-fg32">+			if !reflect.DeepEqual(dataOne, dataTwo) {</span>
                                                        <span class="term-fg32">+				t.Fatal(&quot;Unexpected payload data&quot;)</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+			&#47;&#47; Ensure invalid transactions are stored</span>
                                                        <span class="term-fg32">+			if len(tt.txsExcludedFromBlock) &gt; 0 {</span>
                                                        <span class="term-fg32">+				invalidTxs := b.TxPool().AstriaExcludedFromBlock()</span>
                                                        <span class="term-fg32">+				txDifference := types.TxDifference(*invalidTxs, signedInvalidTxs)</span>
                                                        <span class="term-fg32">+				if txDifference.Len() != 0 {</span>
                                                        <span class="term-fg32">+					t.Fatalf(&quot;Unexpected transactions in transactions excluded from block list: %v&quot;, txDifference)</span>
                                                        <span class="term-fg32">+				}</span>
                                                        <span class="term-fg32">+			}</span>
                                                        <span class="term-fg32">+		})</span>
                                                        }
                                                        }
                                                    </div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-e319f6a168ca6ce7c4ec60b5" role="button"
                                                           aria-expanded="false" aria-controls="id-e319f6a168ca6ce7c4ec60b5">
                                                            <code>miner/worker.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/miner/worker.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/miner/worker.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+62</span></div>
                                                            <div class="text-start"><span class="text-danger">-149</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-e319f6a168ca6ce7c4ec60b5"><span class="term-fg1">diff --git go-ethereum&#47;miner&#47;worker.go astria-geth&#47;miner&#47;worker.go</span>
                                                        <span class="term-fg1">index 5dc3e2056b81b4bf3f58e7c70578d3d3e8729d44..7b36a2e87512eb91ef5f911d4c23e0bc91805886 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;miner&#47;worker.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;miner&#47;worker.go</span>
                                                        <span class="term-fg36">@@ -28,12 +28,10 @@</span> 	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;consensus&#47;misc&#47;eip1559&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;consensus&#47;misc&#47;eip4844&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;state&quot;
                                                        <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;txpool&quot;</span>
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;vm&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;log&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;
                                                        <span class="term-fg31">-	&quot;github.com&#47;holiman&#47;uint256&quot;</span>
                                                        )
                                                        &nbsp;
                                                        var (
                                                        <span class="term-fg36">@@ -75,50 +73,18 @@</span> 	stateDB  *state.StateDB         &#47;&#47; StateDB after executing the transactions
                                                        receipts []*types.Receipt       &#47;&#47; Receipts collected during construction
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg31">-&#47;&#47; generateParams wraps various settings for generating sealing task.</span>
                                                        <span class="term-fg32">+&#47;&#47; generateParams wraps various of settings for generating sealing task.</span>
                                                        type generateParams struct {
                                                        <span class="term-fg31">-	timestamp   uint64            &#47;&#47; The timestamp for sealing task</span>
                                                        <span class="term-fg32">+	timestamp   uint64            &#47;&#47; The timstamp for sealing task</span>
                                                        forceTime   bool              &#47;&#47; Flag whether the given timestamp is immutable or not
                                                        parentHash  common.Hash       &#47;&#47; Parent block hash, empty means the latest chain head
                                                        coinbase    common.Address    &#47;&#47; The fee recipient address for including transaction
                                                        random      common.Hash       &#47;&#47; The randomness generated by beacon chain, empty before the merge
                                                        <span class="term-fg31">-	withdrawals types.Withdrawals &#47;&#47; List of withdrawals to include in block (shanghai field)</span>
                                                        <span class="term-fg32">+	withdrawals types.Withdrawals &#47;&#47; List of withdrawals to include in block.</span>
                                                        beaconRoot  *common.Hash      &#47;&#47; The beacon root (cancun field).
                                                        noTxs       bool              &#47;&#47; Flag whether an empty block without any transaction is expected
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg31">-&#47;&#47; generateWork generates a sealing block based on the given parameters.</span>
                                                        <span class="term-fg31">-func (miner *Miner) generateWork(params *generateParams) *newPayloadResult {</span>
                                                        <span class="term-fg31">-	work, err := miner.prepareWork(params)</span>
                                                        <span class="term-fg31">-	if err != nil {</span>
                                                        <span class="term-fg31">-		return &amp;newPayloadResult{err: err}</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-	if !params.noTxs {</span>
                                                        <span class="term-fg31">-		interrupt := new(atomic.Int32)</span>
                                                        <span class="term-fg31">-		timer := time.AfterFunc(miner.config.Recommit, func() {</span>
                                                        <span class="term-fg31">-			interrupt.Store(commitInterruptTimeout)</span>
                                                        <span class="term-fg31">-		})</span>
                                                        <span class="term-fg31">-		defer timer.Stop()</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg31">-		err := miner.fillTransactions(interrupt, work)</span>
                                                        <span class="term-fg31">-		if errors.Is(err, errBlockInterruptedByTimeout) {</span>
                                                        <span class="term-fg31">-			log.Warn(&quot;Block building is interrupted&quot;, &quot;allowance&quot;, common.PrettyDuration(miner.config.Recommit))</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-	body := types.Body{Transactions: work.txs, Withdrawals: params.withdrawals}</span>
                                                        <span class="term-fg31">-	block, err := miner.engine.FinalizeAndAssemble(miner.chain, work.header, work.state, &amp;body, work.receipts)</span>
                                                        <span class="term-fg31">-	if err != nil {</span>
                                                        <span class="term-fg31">-		return &amp;newPayloadResult{err: err}</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-	return &amp;newPayloadResult{</span>
                                                        <span class="term-fg31">-		block:    block,</span>
                                                        <span class="term-fg31">-		fees:     totalFees(block, work.receipts),</span>
                                                        <span class="term-fg31">-		sidecars: work.sidecars,</span>
                                                        <span class="term-fg31">-		stateDB:  work.state,</span>
                                                        <span class="term-fg31">-		receipts: work.receipts,</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-}</span>
                                                        <span class="term-fg31">-</span>
                                                        &#47;&#47; prepareWork constructs the sealing task according to the given parameters,
                                                        &#47;&#47; either based on the last chain head or specified parent. In this function
                                                        &#47;&#47; the pending transactions are not filled yet, only the empty task returned.
                                                        <span class="term-fg36">@@ -164,7 +130,7 @@</span> 	&#47;&#47; Set baseFee and GasLimit if we are on an EIP-1559 chain
                                                        if miner.chainConfig.IsLondon(header.Number) {
                                                        header.BaseFee = eip1559.CalcBaseFee(miner.chainConfig, parent)
                                                        if !miner.chainConfig.IsLondon(parent.Number) {
                                                        <span class="term-fg31">-			parentGasLimit := parent.GasLimit * miner.chainConfig.ElasticityMultiplier()</span>
                                                        <span class="term-fg32">+			parentGasLimit := parent.GasLimit * miner.chainConfig.ElasticityMultiplier(parent.Number.Uint64())</span>
                                                        header.GasLimit = core.CalcGasLimit(parentGasLimit, miner.config.GasCeil)
                                                        }
                                                        }
                                                        <span class="term-fg36">@@ -273,80 +239,43 @@</span> 	}
                                                        return receipt, err
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg31">-func (miner *Miner) commitTransactions(env *environment, plainTxs, blobTxs *transactionsByPriceAndNonce, interrupt *atomic.Int32) error {</span>
                                                        <span class="term-fg32">+&#47;&#47; This is a copy of commitTransactions, but updated to take a list of txs instead of using heap</span>
                                                        <span class="term-fg32">+func (miner *Miner) commitAstriaTransactions(env *environment, txs *types.Transactions, interrupt *atomic.Int32) error {</span>
                                                        gasLimit := env.header.GasLimit
                                                        if env.gasPool == nil {
                                                        env.gasPool = new(core.GasPool).AddGas(gasLimit)
                                                        }
                                                        <span class="term-fg31">-	for {</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	for i, tx := range *txs {</span>
                                                        &#47;&#47; Check interruption signal and abort building if it&#39;s fired.
                                                        if interrupt != nil {
                                                        if signal := interrupt.Load(); signal != commitInterruptNone {
                                                        <span class="term-fg32">+				&#47;&#47; remove the subsequent txs from the mempool if block building has been interrupted</span>
                                                        <span class="term-fg32">+				for _, txToRemove := range (*txs)[i:] {</span>
                                                        <span class="term-fg32">+					miner.txpool.AddToAstriaExcludedFromBlock(txToRemove)</span>
                                                        <span class="term-fg32">+				}</span>
                                                        return signalToErr(signal)
                                                        }
                                                        }
                                                        &#47;&#47; If we don&#39;t have enough gas for any further transactions then we&#39;re done.
                                                        if env.gasPool.Gas() &lt; params.TxGas {
                                                        log.Trace(&quot;Not enough gas for further transactions&quot;, &quot;have&quot;, env.gasPool, &quot;want&quot;, params.TxGas)
                                                        <span class="term-fg31">-			break</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg31">-		&#47;&#47; If we don&#39;t have enough blob space for any further blob transactions,</span>
                                                        <span class="term-fg31">-		&#47;&#47; skip that list altogether</span>
                                                        <span class="term-fg31">-		if !blobTxs.Empty() &amp;&amp; env.blobs*params.BlobTxBlobGasPerBlob &gt;= params.MaxBlobGasPerBlock {</span>
                                                        <span class="term-fg31">-			log.Trace(&quot;Not enough blob space for further blob transactions&quot;)</span>
                                                        <span class="term-fg31">-			blobTxs.Clear()</span>
                                                        <span class="term-fg31">-			&#47;&#47; Fall though to pick up any plain txs</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg31">-		&#47;&#47; Retrieve the next transaction and abort if all done.</span>
                                                        <span class="term-fg31">-		var (</span>
                                                        <span class="term-fg31">-			ltx *txpool.LazyTransaction</span>
                                                        <span class="term-fg31">-			txs *transactionsByPriceAndNonce</span>
                                                        <span class="term-fg31">-		)</span>
                                                        <span class="term-fg31">-		pltx, ptip := plainTxs.Peek()</span>
                                                        <span class="term-fg31">-		bltx, btip := blobTxs.Peek()</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg31">-		switch {</span>
                                                        <span class="term-fg31">-		case pltx == nil:</span>
                                                        <span class="term-fg31">-			txs, ltx = blobTxs, bltx</span>
                                                        <span class="term-fg31">-		case bltx == nil:</span>
                                                        <span class="term-fg31">-			txs, ltx = plainTxs, pltx</span>
                                                        <span class="term-fg31">-		default:</span>
                                                        <span class="term-fg31">-			if ptip.Lt(btip) {</span>
                                                        <span class="term-fg31">-				txs, ltx = blobTxs, bltx</span>
                                                        <span class="term-fg31">-			} else {</span>
                                                        <span class="term-fg31">-				txs, ltx = plainTxs, pltx</span>
                                                        <span class="term-fg32">+			&#47;&#47; remove txs from the mempool if they are too big for this block</span>
                                                        <span class="term-fg32">+			for _, txToRemove := range (*txs)[i:] {</span>
                                                        <span class="term-fg32">+				miner.txpool.AddToAstriaExcludedFromBlock(txToRemove)</span>
                                                        }
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg31">-		if ltx == nil {</span>
                                                        break
                                                        }
                                                        <span class="term-fg31">-		&#47;&#47; If we don&#39;t have enough space for the next transaction, skip the account.</span>
                                                        <span class="term-fg31">-		if env.gasPool.Gas() &lt; ltx.Gas {</span>
                                                        <span class="term-fg31">-			log.Trace(&quot;Not enough gas left for transaction&quot;, &quot;hash&quot;, ltx.Hash, &quot;left&quot;, env.gasPool.Gas(), &quot;needed&quot;, ltx.Gas)</span>
                                                        <span class="term-fg31">-			txs.Pop()</span>
                                                        <span class="term-fg31">-			continue</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg31">-		if left := uint64(params.MaxBlobGasPerBlock - env.blobs*params.BlobTxBlobGasPerBlob); left &lt; ltx.BlobGas {</span>
                                                        <span class="term-fg31">-			log.Trace(&quot;Not enough blob gas left for transaction&quot;, &quot;hash&quot;, ltx.Hash, &quot;left&quot;, left, &quot;needed&quot;, ltx.BlobGas)</span>
                                                        <span class="term-fg31">-			txs.Pop()</span>
                                                        <span class="term-fg31">-			continue</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg31">-		&#47;&#47; Transaction seems to fit, pull it up from the pool</span>
                                                        <span class="term-fg31">-		tx := ltx.Resolve()</span>
                                                        <span class="term-fg31">-		if tx == nil {</span>
                                                        <span class="term-fg31">-			log.Trace(&quot;Ignoring evicted transaction&quot;, &quot;hash&quot;, ltx.Hash)</span>
                                                        <span class="term-fg31">-			txs.Pop()</span>
                                                        <span class="term-fg31">-			continue</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Error may be ignored here. The error has already been checked
                                                        <span class="term-fg31">-		&#47;&#47; during transaction acceptance in the transaction pool.</span>
                                                        <span class="term-fg32">+		&#47;&#47; during transaction acceptance is the transaction pool.</span>
                                                        from, _ := types.Sender(env.signer, tx)
                                                        &nbsp;
                                                        &#47;&#47; Check whether the tx is replay protected. If we&#39;re not in the EIP155 hf
                                                        &#47;&#47; phase, start ignoring the sender until we do.
                                                        if tx.Protected() &amp;&amp; !miner.chainConfig.IsEIP155(env.header.Number) {
                                                        <span class="term-fg31">-			log.Trace(&quot;Ignoring replay protected transaction&quot;, &quot;hash&quot;, ltx.Hash, &quot;eip155&quot;, miner.chainConfig.EIP155Block)</span>
                                                        <span class="term-fg31">-			txs.Pop()</span>
                                                        <span class="term-fg32">+			log.Trace(&quot;Ignoring reply protected transaction&quot;, &quot;hash&quot;, tx.Hash(), &quot;eip155&quot;, miner.chainConfig.EIP155Block)</span>
                                                        <span class="term-fg32">+			miner.txpool.AddToAstriaExcludedFromBlock(tx)</span>
                                                        continue
                                                        }
                                                        &#47;&#47; Start executing the transaction
                                                        <span class="term-fg36">@@ -356,79 +285,63 @@</span> 		err := miner.commitTransaction(env, tx)
                                                        switch {
                                                        case errors.Is(err, core.ErrNonceTooLow):
                                                        &#47;&#47; New head notification data race between the transaction pool and miner, shift
                                                        <span class="term-fg31">-			log.Trace(&quot;Skipping transaction with low nonce&quot;, &quot;hash&quot;, ltx.Hash, &quot;sender&quot;, from, &quot;nonce&quot;, tx.Nonce())</span>
                                                        <span class="term-fg31">-			txs.Shift()</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg31">-		case errors.Is(err, nil):</span>
                                                        <span class="term-fg31">-			&#47;&#47; Everything ok, collect the logs and shift in the next transaction from the same account</span>
                                                        <span class="term-fg31">-			txs.Shift()</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg32">+			log.Trace(&quot;Skipping transaction with low nonce&quot;, &quot;sender&quot;, from, &quot;nonce&quot;, tx.Nonce())</span>
                                                        default:
                                                        <span class="term-fg31">-			&#47;&#47; Transaction is regarded as invalid, drop all consecutive transactions from</span>
                                                        <span class="term-fg31">-			&#47;&#47; the same sender because of `nonce-too-high` clause.</span>
                                                        <span class="term-fg31">-			log.Debug(&quot;Transaction failed, account skipped&quot;, &quot;hash&quot;, ltx.Hash, &quot;err&quot;, err)</span>
                                                        <span class="term-fg31">-			txs.Pop()</span>
                                                        <span class="term-fg32">+			&#47;&#47; Strange error, discard the transaction and get the next in line (note, the</span>
                                                        <span class="term-fg32">+			&#47;&#47; nonce-too-high clause will prevent us from executing in vain).</span>
                                                        <span class="term-fg32">+			log.Debug(&quot;Transaction failed, account skipped&quot;, &quot;hash&quot;, tx.Hash(), &quot;err&quot;, err)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			log.Trace(&quot;Marking transaction as invalid&quot;, &quot;hash&quot;, tx.Hash(), &quot;err&quot;, err)</span>
                                                        <span class="term-fg32">+			miner.txpool.AddToAstriaExcludedFromBlock(tx)</span>
                                                        }
                                                        }
                                                        <span class="term-fg32">+</span>
                                                        return nil
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg31">-&#47;&#47; fillTransactions retrieves the pending transactions from the txpool and fills them</span>
                                                        <span class="term-fg31">-&#47;&#47; into the given sealing block. The transaction selection and ordering strategy can</span>
                                                        <span class="term-fg31">-&#47;&#47; be customized with the plugin in the future.</span>
                                                        <span class="term-fg31">-func (miner *Miner) fillTransactions(interrupt *atomic.Int32, env *environment) error {</span>
                                                        <span class="term-fg31">-	miner.confMu.RLock()</span>
                                                        <span class="term-fg31">-	tip := miner.config.GasPrice</span>
                                                        <span class="term-fg31">-	miner.confMu.RUnlock()</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg31">-	&#47;&#47; Retrieve the pending transactions pre-filtered by the 1559&#47;4844 dynamic fees</span>
                                                        <span class="term-fg31">-	filter := txpool.PendingFilter{</span>
                                                        <span class="term-fg31">-		MinTip: uint256.MustFromBig(tip),</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-	if env.header.BaseFee != nil {</span>
                                                        <span class="term-fg31">-		filter.BaseFee = uint256.MustFromBig(env.header.BaseFee)</span>
                                                        <span class="term-fg31">-	}</span>
                                                        <span class="term-fg31">-	if env.header.ExcessBlobGas != nil {</span>
                                                        <span class="term-fg31">-		filter.BlobFee = uint256.MustFromBig(eip4844.CalcBlobFee(*env.header.ExcessBlobGas))</span>
                                                        <span class="term-fg32">+func (miner *Miner) fillAstriaTransactions(interrupt *atomic.Int32, env *environment) error {</span>
                                                        <span class="term-fg32">+	&#47;&#47; Use pre ordered array of txs</span>
                                                        <span class="term-fg32">+	astriaTxs := miner.txpool.AstriaOrdered()</span>
                                                        <span class="term-fg32">+	if len(*astriaTxs) &gt; 0 {</span>
                                                        <span class="term-fg32">+		if err := miner.commitAstriaTransactions(env, astriaTxs, interrupt); err != nil {</span>
                                                        <span class="term-fg32">+			return err</span>
                                                        <span class="term-fg32">+		}</span>
                                                        }
                                                        <span class="term-fg31">-	filter.OnlyPlainTxs, filter.OnlyBlobTxs = true, false</span>
                                                        <span class="term-fg31">-	pendingPlainTxs := miner.txpool.Pending(filter)</span>
                                                        &nbsp;
                                                        <span class="term-fg31">-	filter.OnlyPlainTxs, filter.OnlyBlobTxs = false, true</span>
                                                        <span class="term-fg31">-	pendingBlobTxs := miner.txpool.Pending(filter)</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        &nbsp;
                                                        <span class="term-fg31">-	&#47;&#47; Split the pending transactions into locals and remotes.</span>
                                                        <span class="term-fg31">-	localPlainTxs, remotePlainTxs := make(map[common.Address][]*txpool.LazyTransaction), pendingPlainTxs</span>
                                                        <span class="term-fg31">-	localBlobTxs, remoteBlobTxs := make(map[common.Address][]*txpool.LazyTransaction), pendingBlobTxs</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg31">-	for _, account := range miner.txpool.Locals() {</span>
                                                        <span class="term-fg31">-		if txs := remotePlainTxs[account]; len(txs) &gt; 0 {</span>
                                                        <span class="term-fg31">-			delete(remotePlainTxs, account)</span>
                                                        <span class="term-fg31">-			localPlainTxs[account] = txs</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg31">-		if txs := remoteBlobTxs[account]; len(txs) &gt; 0 {</span>
                                                        <span class="term-fg31">-			delete(remoteBlobTxs, account)</span>
                                                        <span class="term-fg31">-			localBlobTxs[account] = txs</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg32">+&#47;&#47; generateWork generates a sealing block based on the given parameters.</span>
                                                        <span class="term-fg32">+func (miner *Miner) generateWork(params *generateParams) *newPayloadResult {</span>
                                                        <span class="term-fg32">+	work, err := miner.prepareWork(params)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return &amp;newPayloadResult{err: err}</span>
                                                        }
                                                        <span class="term-fg31">-	&#47;&#47; Fill the block with all available pending transactions.</span>
                                                        <span class="term-fg31">-	if len(localPlainTxs) &gt; 0 || len(localBlobTxs) &gt; 0 {</span>
                                                        <span class="term-fg31">-		plainTxs := newTransactionsByPriceAndNonce(env.signer, localPlainTxs, env.header.BaseFee)</span>
                                                        <span class="term-fg31">-		blobTxs := newTransactionsByPriceAndNonce(env.signer, localBlobTxs, env.header.BaseFee)</span>
                                                        <span class="term-fg32">+	if !params.noTxs {</span>
                                                        <span class="term-fg32">+		interrupt := new(atomic.Int32)</span>
                                                        <span class="term-fg32">+		timer := time.AfterFunc(miner.config.Recommit, func() {</span>
                                                        <span class="term-fg32">+			interrupt.Store(commitInterruptTimeout)</span>
                                                        <span class="term-fg32">+		})</span>
                                                        <span class="term-fg32">+		defer timer.Stop()</span>
                                                        &nbsp;
                                                        <span class="term-fg31">-		if err := miner.commitTransactions(env, plainTxs, blobTxs, interrupt); err != nil {</span>
                                                        <span class="term-fg31">-			return err</span>
                                                        <span class="term-fg32">+		err := miner.fillAstriaTransactions(interrupt, work)</span>
                                                        <span class="term-fg32">+		if errors.Is(err, errBlockInterruptedByTimeout) {</span>
                                                        <span class="term-fg32">+			log.Warn(&quot;Block building is interrupted&quot;, &quot;allowance&quot;, common.PrettyDuration(miner.config.Recommit))</span>
                                                        }
                                                        }
                                                        <span class="term-fg31">-	if len(remotePlainTxs) &gt; 0 || len(remoteBlobTxs) &gt; 0 {</span>
                                                        <span class="term-fg31">-		plainTxs := newTransactionsByPriceAndNonce(env.signer, remotePlainTxs, env.header.BaseFee)</span>
                                                        <span class="term-fg31">-		blobTxs := newTransactionsByPriceAndNonce(env.signer, remoteBlobTxs, env.header.BaseFee)</span>
                                                        <span class="term-fg31">-</span>
                                                        <span class="term-fg31">-		if err := miner.commitTransactions(env, plainTxs, blobTxs, interrupt); err != nil {</span>
                                                        <span class="term-fg31">-			return err</span>
                                                        <span class="term-fg31">-		}</span>
                                                        <span class="term-fg32">+	body := types.Body{Transactions: work.txs, Withdrawals: params.withdrawals}</span>
                                                        <span class="term-fg32">+	block, err := miner.engine.FinalizeAndAssemble(miner.chain, work.header, work.state, &amp;body, work.receipts)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return &amp;newPayloadResult{err: err}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return &amp;newPayloadResult{</span>
                                                        <span class="term-fg32">+		block:    block,</span>
                                                        <span class="term-fg32">+		fees:     totalFees(block, work.receipts),</span>
                                                        <span class="term-fg32">+		sidecars: work.sidecars,</span>
                                                        <span class="term-fg32">+		stateDB:  work.state,</span>
                                                        <span class="term-fg32">+		receipts: work.receipts,</span>
                                                        }
                                                        <span class="term-fg31">-	return nil</span>
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; totalFees computes total consumed miner fees in Wei. Block transactions and receipts have to have the same order.</div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-0860fb73abeee021e3731d27"role="button" aria-expanded="false" aria-controls="id-0860fb73abeee021e3731d27">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>TX Submission</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+12</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-0860fb73abeee021e3731d27">
                                            <div><p>We don&rsquo;t accept blob transactions or deposit transactions from the user.</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-c4258cdb097f9df84b068b60" role="button"
                                                           aria-expanded="false" aria-controls="id-c4258cdb097f9df84b068b60">
                                                            <code>internal/ethapi/api.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/internal/ethapi/api.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/internal/ethapi/api.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+12</span></div>
                                                            <div class="text-start"><span class="text-danger">-1</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-c4258cdb097f9df84b068b60"><span class="term-fg1">diff --git go-ethereum&#47;internal&#47;ethapi&#47;api.go astria-geth&#47;internal&#47;ethapi&#47;api.go</span>
                                                        <span class="term-fg1">index d308cead627f8873d5a009dbd51c7116c837fc67..ffa20fb626d752a9692c66cb1d9e57381e7f9edf 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;internal&#47;ethapi&#47;api.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;internal&#47;ethapi&#47;api.go</span>
                                                        <span class="term-fg36">@@ -57,7 +57,8 @@</span> &#47;&#47; estimateGasErrorRatio is the amount of overestimation eth_estimateGas is
                                                        &#47;&#47; allowed to produce in order to speed up calculations.
                                                        const estimateGasErrorRatio = 0.015
                                                        &nbsp;
                                                        <span class="term-fg31">-var errBlobTxNotSupported = errors.New(&quot;signing blob transactions not supported&quot;)</span>
                                                        <span class="term-fg32">+var errBlobTxNotSupported = errors.New(&quot;blob transactions not supported&quot;)</span>
                                                        <span class="term-fg32">+var errDepositTxNotSupported = errors.New(&quot;deposit transactions not supported&quot;)</span>
                                                        &nbsp;
                                                        &#47;&#47; EthereumAPI provides an API to access Ethereum related information.
                                                        type EthereumAPI struct {
                                                        <span class="term-fg36">@@ -1757,6 +1758,13 @@</span> }
                                                        &nbsp;
                                                        &#47;&#47; SubmitTransaction is a helper function that submits tx to txPool and logs a message.
                                                        func SubmitTransaction(ctx context.Context, b Backend, tx *types.Transaction) (common.Hash, error) {
                                                        <span class="term-fg32">+	if tx.Type() == types.BlobTxType {</span>
                                                        <span class="term-fg32">+		return common.Hash{}, errBlobTxNotSupported</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	if tx.Type() == types.DepositTxType {</span>
                                                        <span class="term-fg32">+		return common.Hash{}, errDepositTxNotSupported</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; If the transaction fee cap is already specified, ensure the
                                                        &#47;&#47; fee of the given transaction is _reasonable_.
                                                        if err := checkTxFee(tx.GasPrice(), tx.Gas(), b.RPCTxFeeCap()); err != nil {
                                                        <span class="term-fg36">@@ -1766,9 +1774,12 @@</span> 	if !b.UnprotectedAllowed() &amp;&amp; !tx.Protected() {
                                                        &#47;&#47; Ensure only eip155 signed transactions are submitted if EIP155Required is set.
                                                        return common.Hash{}, errors.New(&quot;only replay-protected (EIP-155) transactions allowed over RPC&quot;)
                                                        }
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; save transaction in geth mempool as well, so things like forge can look it up</span>
                                                        if err := b.SendTx(ctx, tx); err != nil {
                                                        return common.Hash{}, err
                                                        }
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Print a log with full tx details for manual investigations and interventions
                                                        head := b.CurrentBlock()
                                                        signer := types.MakeSigner(b.ChainConfig(), head.Number, head.Time)</div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>


                        <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-8377a893263deb294312bac0"role="button" aria-expanded="false" aria-controls="id-8377a893263deb294312bac0">

                            <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h2>Node modifications</h2></div>


                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                <div class="row line-stat">


                                </div>
                            </div>
                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-success">+202</span></div>
                                    <div class="text-start"><span class="text-danger">-1</span></div>


                                </div>
                            </div>
                        </div>

                            <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-8377a893263deb294312bac0">
                                <div><p>Changes to the node configuration and services.</p>
                                </div>
                                <div>


                                </div>
                                <div>

                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-11251fc9708d851dcfead918"role="button" aria-expanded="false" aria-controls="id-11251fc9708d851dcfead918">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>Node config</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+146</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-11251fc9708d851dcfead918">
                                            <div><p>Node configuration changes to support grpc server.</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-0c77f635a2c3f6ef8700f8e5" role="button"
                                                           aria-expanded="false" aria-controls="id-0c77f635a2c3f6ef8700f8e5">
                                                            <code>node/config.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/node/config.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/node/config.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+23</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-0c77f635a2c3f6ef8700f8e5"><span class="term-fg1">diff --git go-ethereum&#47;node&#47;config.go astria-geth&#47;node&#47;config.go</span>
                                                        <span class="term-fg1">index 949db887e4e4bf4d841c0db62d31844e2671c58d..d1e29baa074e4866084e2429e900221410f703fa 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;node&#47;config.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;node&#47;config.go</span>
                                                        <span class="term-fg36">@@ -190,6 +190,12 @@</span> 	&#47;&#47; made against the server with a malicious host domain.
                                                        &#47;&#47; Requests using ip address directly are not affected
                                                        GraphQLVirtualHosts []string `toml:&quot;,omitempty&quot;`
                                                        &nbsp;
                                                        <span class="term-fg32">+	&#47;&#47; GRPCHost is the host interface on which to start the gRPC server. If this</span>
                                                        <span class="term-fg32">+	&#47;&#47; field is empty, no gRPC API endpoint will be started.</span>
                                                        <span class="term-fg32">+	GRPCHost string `toml:&quot;,omitempty&quot;`</span>
                                                        <span class="term-fg32">+	&#47;&#47; GRPCPort is the TCP port number on which to start the gRPC server.</span>
                                                        <span class="term-fg32">+	GRPCPort int `toml:&quot;,omitempty&quot;`</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Logger is a custom logger to use with the p2p.Server.
                                                        Logger log.Logger `toml:&quot;,omitempty&quot;`
                                                        &nbsp;
                                                        <span class="term-fg36">@@ -267,10 +273,27 @@</span> 	}
                                                        return net.JoinHostPort(c.HTTPHost, fmt.Sprintf(&quot;%d&quot;, c.HTTPPort))
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg32">+&#47;&#47; GRPCEndpoint resolves a gRPC endpoint based on the configured host interface</span>
                                                        <span class="term-fg32">+&#47;&#47; and port parameters.</span>
                                                        <span class="term-fg32">+func (c *Config) GRPCEndpoint() string {</span>
                                                        <span class="term-fg32">+	if c.GRPCHost == &quot;&quot; {</span>
                                                        <span class="term-fg32">+		return &quot;&quot;</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	return fmt.Sprintf(&quot;%s:%d&quot;, c.GRPCHost, c.GRPCPort)</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; DefaultHTTPEndpoint returns the HTTP endpoint used by default.
                                                        func DefaultHTTPEndpoint() string {
                                                        config := &amp;Config{HTTPHost: DefaultHTTPHost, HTTPPort: DefaultHTTPPort, AuthPort: DefaultAuthPort}
                                                        return config.HTTPEndpoint()
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; DefaultGRPCEndpoint returns the gRPC endpoint used by default.</span>
                                                        <span class="term-fg32">+&#47;&#47; NOTE - implemented this to be consistent with DefaultHTTPEndpoint, but</span>
                                                        <span class="term-fg32">+&#47;&#47; neither are ever used</span>
                                                        <span class="term-fg32">+func DefaultGRPCEndpoint() string {</span>
                                                        <span class="term-fg32">+	config := &amp;Config{GRPCHost: DefaultGRPCHost, GRPCPort: DefaultGRPCPort}</span>
                                                        <span class="term-fg32">+	return config.GRPCEndpoint()</span>
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; WSEndpoint resolves a websocket endpoint based on the configured host interface</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-3c39d679ab5f721ba164d998" role="button"
                                                           aria-expanded="false" aria-controls="id-3c39d679ab5f721ba164d998">
                                                            <code>node/defaults.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/node/defaults.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/node/defaults.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+6</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-3c39d679ab5f721ba164d998"><span class="term-fg1">diff --git go-ethereum&#47;node&#47;defaults.go astria-geth&#47;node&#47;defaults.go</span>
                                                        <span class="term-fg1">index 307d9e186a251b7963b5fbb4266249fbfbcc6fa4..326ed2373a6e2f733173f30a6f2f60cc732caf36 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;node&#47;defaults.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;node&#47;defaults.go</span>
                                                        <span class="term-fg36">@@ -34,6 +34,9 @@</span> 	DefaultWSHost   = &quot;localhost&quot; &#47;&#47; Default host interface for the websocket RPC server
                                                        DefaultWSPort   = 8546        &#47;&#47; Default TCP port for the websocket RPC server
                                                        DefaultAuthHost = &quot;localhost&quot; &#47;&#47; Default host interface for the authenticated apis
                                                        DefaultAuthPort = 8551        &#47;&#47; Default port for the authenticated apis
                                                        <span class="term-fg32">+	&#47;&#47; grpc</span>
                                                        <span class="term-fg32">+	DefaultGRPCHost = &quot;[::1]&quot; &#47;&#47; Default host interface for the gRPC server</span>
                                                        <span class="term-fg32">+	DefaultGRPCPort = 50051   &#47;&#47; Default port for the gRPC server</span>
                                                        )
                                                        &nbsp;
                                                        const (
                                                        <span class="term-fg36">@@ -73,6 +76,9 @@</span> 		MaxPeers:   50,
                                                        NAT:        nat.Any(),
                                                        },
                                                        DBEngine: &quot;&quot;, &#47;&#47; Use whatever exists, will default to Pebble if non-existent and supported
                                                        <span class="term-fg32">+	&#47;&#47; grpc</span>
                                                        <span class="term-fg32">+	GRPCHost: DefaultGRPCHost,</span>
                                                        <span class="term-fg32">+	GRPCPort: DefaultGRPCPort,</span>
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; DefaultDataDir is the default data directory to use for the databases and other</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-2646ca92fdb9573dcbb20d2c" role="button"
                                                           aria-expanded="false" aria-controls="id-2646ca92fdb9573dcbb20d2c">
                                                            <code>node/grpcstack.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <span class="text-muted">(new)</span>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/node/grpcstack.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+69</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-2646ca92fdb9573dcbb20d2c"><span class="term-fg1">diff --git go-ethereum&#47;node&#47;grpcstack.go astria-geth&#47;node&#47;grpcstack.go</span>
                                                        <span class="term-fg1">new file mode 100644</span>
                                                        <span class="term-fg1">index 0000000000000000000000000000000000000000..86ebc8b5f52e810387937573fa985aace99702e5</span>
                                                        <span class="term-fg1">--- &#47;dev&#47;null</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;node&#47;grpcstack.go</span>
                                                        <span class="term-fg36">@@ -0,0 +1,69 @@</span>
                                                        <span class="term-fg32">+package node</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+import (</span>
                                                        <span class="term-fg32">+	&quot;net&quot;</span>
                                                        <span class="term-fg32">+	&quot;sync&quot;</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	astriaGrpc &quot;buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;grpc&#47;go&#47;astria&#47;execution&#47;v1&#47;executionv1grpc&quot;</span>
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;log&quot;</span>
                                                        <span class="term-fg32">+	&quot;google.golang.org&#47;grpc&quot;</span>
                                                        <span class="term-fg32">+)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; GRPCServerHandler is the gRPC server handler.</span>
                                                        <span class="term-fg32">+&#47;&#47; It gives us a way to attach the gRPC server to the node so it can be stopped on shutdown.</span>
                                                        <span class="term-fg32">+type GRPCServerHandler struct {</span>
                                                        <span class="term-fg32">+	mu sync.Mutex</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	endpoint                   string</span>
                                                        <span class="term-fg32">+	server                     *grpc.Server</span>
                                                        <span class="term-fg32">+	executionServiceServerV1a2 *astriaGrpc.ExecutionServiceServer</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; NewServer creates a new gRPC server.</span>
                                                        <span class="term-fg32">+&#47;&#47; It registers the execution service server.</span>
                                                        <span class="term-fg32">+&#47;&#47; It registers the gRPC server with the node so it can be stopped on shutdown.</span>
                                                        <span class="term-fg32">+func NewGRPCServerHandler(node *Node, execServ astriaGrpc.ExecutionServiceServer, cfg *Config) error {</span>
                                                        <span class="term-fg32">+	server := grpc.NewServer()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	log.Info(&quot;gRPC server enabled&quot;, &quot;endpoint&quot;, cfg.GRPCEndpoint())</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	serverHandler := &amp;GRPCServerHandler{</span>
                                                        <span class="term-fg32">+		endpoint:                   cfg.GRPCEndpoint(),</span>
                                                        <span class="term-fg32">+		server:                     server,</span>
                                                        <span class="term-fg32">+		executionServiceServerV1a2: &amp;execServ,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	astriaGrpc.RegisterExecutionServiceServer(server, execServ)</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	node.RegisterGRPCServer(serverHandler)</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Start starts the gRPC server if it is enabled.</span>
                                                        <span class="term-fg32">+func (handler *GRPCServerHandler) Start() error {</span>
                                                        <span class="term-fg32">+	handler.mu.Lock()</span>
                                                        <span class="term-fg32">+	defer handler.mu.Unlock()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if handler.endpoint == &quot;&quot; {</span>
                                                        <span class="term-fg32">+		return nil</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Start the gRPC server</span>
                                                        <span class="term-fg32">+	lis, err := net.Listen(&quot;tcp&quot;, handler.endpoint)</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		return err</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	go handler.server.Serve(lis)</span>
                                                        <span class="term-fg32">+	log.Info(&quot;gRPC server started&quot;, &quot;endpoint&quot;, handler.endpoint)</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; Stop stops the gRPC server.</span>
                                                        <span class="term-fg32">+func (handler *GRPCServerHandler) Stop() error {</span>
                                                        <span class="term-fg32">+	handler.mu.Lock()</span>
                                                        <span class="term-fg32">+	defer handler.mu.Unlock()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	handler.server.GracefulStop()</span>
                                                        <span class="term-fg32">+	log.Info(&quot;gRPC server stopped&quot;, &quot;endpoint&quot;, handler.endpoint)</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span></div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-5e8865213ffd9b3b9364d428" role="button"
                                                           aria-expanded="false" aria-controls="id-5e8865213ffd9b3b9364d428">
                                                            <code>node/node.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/node/node.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/node/node.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+48</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-5e8865213ffd9b3b9364d428"><span class="term-fg1">diff --git go-ethereum&#47;node&#47;node.go astria-geth&#47;node&#47;node.go</span>
                                                        <span class="term-fg1">index 633f88f058a19418ecd1be9adeec4c6a225910f1..896763033deb28c788c3827dcf8dc2045556dd4e 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;node&#47;node.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;node&#47;node.go</span>
                                                        <span class="term-fg36">@@ -66,6 +66,9 @@</span> 	wsAuth        *httpServer &#47;&#47;
                                                        ipc           *ipcServer  &#47;&#47; Stores information about the ipc http server
                                                        inprocHandler *rpc.Server &#47;&#47; In-process RPC request handler to process the API requests
                                                        &nbsp;
                                                        <span class="term-fg32">+	&#47;&#47; grpc</span>
                                                        <span class="term-fg32">+	grpcServerHandler *GRPCServerHandler &#47;&#47; Stores information about the grpc server</span>
                                                        <span class="term-fg32">+</span>
                                                        databases map[*closeTrackingDB]struct{} &#47;&#47; All open databases
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg36">@@ -274,9 +277,16 @@</span> 	}
                                                        &#47;&#47; start RPC endpoints
                                                        err := n.startRPC()
                                                        if err != nil {
                                                        <span class="term-fg32">+		n.log.Error(&quot;failed to start RPC endpoints&quot;, &quot;err&quot;, err)</span>
                                                        n.stopRPC()
                                                        n.server.Stop()
                                                        }
                                                        <span class="term-fg32">+	&#47;&#47; start GRPC endpoints</span>
                                                        <span class="term-fg32">+	err = n.startGRPC()</span>
                                                        <span class="term-fg32">+	if err != nil {</span>
                                                        <span class="term-fg32">+		n.log.Error(&quot;failed to start gRPC endpoints&quot;, &quot;err&quot;, err)</span>
                                                        <span class="term-fg32">+		n.stopGRPC()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        return err
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg36">@@ -284,6 +294,9 @@</span> &#47;&#47; stopServices terminates running services, RPC and p2p networking.
                                                        &#47;&#47; It is the inverse of Start.
                                                        func (n *Node) stopServices(running []Lifecycle) error {
                                                        n.stopRPC()
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Stop GRPC server</span>
                                                        <span class="term-fg32">+	n.stopGRPC()</span>
                                                        &nbsp;
                                                        &#47;&#47; Stop running lifecycles in reverse order.
                                                        failure := &amp;StopError{Services: make(map[reflect.Type]error)}
                                                        <span class="term-fg36">@@ -535,6 +548,23 @@</span> 	n.ipc.stop()
                                                        n.stopInProc()
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg32">+func (n *Node) startGRPC() error {</span>
                                                        <span class="term-fg32">+	if n.grpcServerHandler != nil {</span>
                                                        <span class="term-fg32">+		&#47;&#47; start the server</span>
                                                        <span class="term-fg32">+		if err := n.grpcServerHandler.Start(); err != nil {</span>
                                                        <span class="term-fg32">+			return err</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	return nil</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+func (n *Node) stopGRPC() {</span>
                                                        <span class="term-fg32">+	if n.grpcServerHandler != nil {</span>
                                                        <span class="term-fg32">+		n.grpcServerHandler.Stop()</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; startInProc registers all RPC APIs on the inproc server.
                                                        func (n *Node) startInProc(apis []rpc.API) error {
                                                        for _, api := range apis {
                                                        <span class="term-fg36">@@ -602,6 +632,19 @@</span> 	}
                                                        return unauthenticated, n.rpcAPIs
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg32">+&#47;&#47; RegisterGRPCServer registers a gRPC server on the node.</span>
                                                        <span class="term-fg32">+&#47;&#47; This allows us to control grpc server startup and shutdown from the node.</span>
                                                        <span class="term-fg32">+func (n *Node) RegisterGRPCServer(handler *GRPCServerHandler) {</span>
                                                        <span class="term-fg32">+	n.lock.Lock()</span>
                                                        <span class="term-fg32">+	defer n.lock.Unlock()</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	if n.state != initializingState {</span>
                                                        <span class="term-fg32">+		panic(&quot;can&#39;t register gRPC server on running&#47;stopped node&quot;)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	n.grpcServerHandler = handler</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; RegisterHandler mounts a handler on the given path on the canonical HTTP server.
                                                        &#47;&#47;
                                                        &#47;&#47; The name of the handler is shown in a log message when the HTTP server starts
                                                        <span class="term-fg36">@@ -679,6 +722,11 @@</span> &#47;&#47; HTTPEndpoint returns the URL of the HTTP server. Note that this URL does not
                                                        &#47;&#47; contain the JSON-RPC path prefix set by HTTPPathPrefix.
                                                        func (n *Node) HTTPEndpoint() string {
                                                        return &quot;http:&#47;&#47;&quot; + n.http.listenAddr()
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; GRPCENDPOINT returns the URL of the GRPC server.</span>
                                                        <span class="term-fg32">+func (n *Node) GRPCEndpoint() string {</span>
                                                        <span class="term-fg32">+	return &quot;http:&#47;&#47;&quot; + n.grpcServerHandler.endpoint</span>
                                                        }
                                                        &nbsp;
                                                        &#47;&#47; WSEndpoint returns the current JSON-RPC over WebSocket endpoint.</div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-9acfffa2d8cde251efa8c5c4"role="button" aria-expanded="false" aria-controls="id-9acfffa2d8cde251efa8c5c4">

                                        <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h3>CLI</h3></div>


                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                            <div class="row line-stat">


                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+56</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>


                                            </div>
                                        </div>
                                    </div>

                                        <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-9acfffa2d8cde251efa8c5c4">
                                            <div><p>CLI changes to support grpc server.</p>
                                            </div>
                                            <div>

                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-400f4708f413f62b4df0c6bd" role="button"
                                                           aria-expanded="false" aria-controls="id-400f4708f413f62b4df0c6bd">
                                                            <code>cmd/geth/config.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/geth/config.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/geth/config.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+12</span></div>
                                                            <div class="text-start"><span class="text-danger">-1</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-400f4708f413f62b4df0c6bd"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;geth&#47;config.go astria-geth&#47;cmd&#47;geth&#47;config.go</span>
                                                        <span class="term-fg1">index 522e5e22f2a9f8675f8fdb6393391f203128fa60..fa122f8cc5a86b64f7cb0cf06c3e6f95f0d20d6b 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;cmd&#47;geth&#47;config.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;cmd&#47;geth&#47;config.go</span>
                                                        <span class="term-fg36">@@ -20,6 +20,7 @@</span> import (
                                                        &quot;bufio&quot;
                                                        &quot;errors&quot;
                                                        &quot;fmt&quot;
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;catalyst&quot;</span>
                                                        &quot;os&quot;
                                                        &quot;reflect&quot;
                                                        &quot;runtime&quot;
                                                        <span class="term-fg36">@@ -35,8 +36,8 @@</span> 	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;beacon&#47;blsync&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;cmd&#47;utils&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&#47;hexutil&quot;
                                                        <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;catalyst&quot;</span>
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;
                                                        <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;grpc&#47;execution&quot;</span>
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;internal&#47;flags&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;internal&#47;version&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;log&quot;
                                                        <span class="term-fg36">@@ -202,6 +203,16 @@</span> 	&#47;&#47; Configure GraphQL if requested.
                                                        if ctx.IsSet(utils.GraphQLEnabledFlag.Name) {
                                                        utils.RegisterGraphQLService(stack, backend, filterSystem, &amp;cfg.Node)
                                                        }
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+	&#47;&#47; Configure gRPC if requested.</span>
                                                        <span class="term-fg32">+	if ctx.IsSet(utils.GRPCEnabledFlag.Name) {</span>
                                                        <span class="term-fg32">+		serviceV1, err := execution.NewExecutionServiceServerV1(eth)</span>
                                                        <span class="term-fg32">+		if err != nil {</span>
                                                        <span class="term-fg32">+			utils.Fatalf(&quot;failed to create execution service: %v&quot;, err)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		utils.RegisterGRPCExecutionService(stack, serviceV1, &amp;cfg.Node)</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; Add the Ethereum Stats daemon if requested.
                                                        if cfg.Ethstats.URL != &quot;&quot; {
                                                        utils.RegisterEthStatsService(stack, backend, cfg.Ethstats.URL)</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-f5d0f8bf20d19116574972a7" role="button"
                                                           aria-expanded="false" aria-controls="id-f5d0f8bf20d19116574972a7">
                                                            <code>cmd/geth/main.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/geth/main.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/geth/main.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+3</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-f5d0f8bf20d19116574972a7"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;geth&#47;main.go astria-geth&#47;cmd&#47;geth&#47;main.go</span>
                                                        <span class="term-fg1">index b7885608bc1740da14cc091b3016597871c94dcb..1626551903d1460a59610421f8d8765e09a8a7b4 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;cmd&#47;geth&#47;main.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;cmd&#47;geth&#47;main.go</span>
                                                        <span class="term-fg36">@@ -188,6 +188,9 @@</span> 		utils.RPCGlobalTxFeeCapFlag,
                                                        utils.AllowUnprotectedTxs,
                                                        utils.BatchRequestLimit,
                                                        utils.BatchResponseMaxSize,
                                                        <span class="term-fg32">+		utils.GRPCEnabledFlag,</span>
                                                        <span class="term-fg32">+		utils.GRPCHostFlag,</span>
                                                        <span class="term-fg32">+		utils.GRPCPortFlag,</span>
                                                        }
                                                        &nbsp;
                                                        metricsFlags = []cli.Flag{</div>
                                                </div>


                                                <div class="border-bottom"><div class="row">
                                                    <div class="col-12 col-md-4 text-start pe-2">

                                                        <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-a49e500658a7d2b6a3fc06fb" role="button"
                                                           aria-expanded="false" aria-controls="id-a49e500658a7d2b6a3fc06fb">
                                                            <code>cmd/utils/flags.go</code>
                                                        </a>

                                                    </div>

                                                    <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                                        <div class="row">
                                                            <div class="col-6">

                                                                <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/utils/flags.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                            </div>

                                                            <div class="col-6">

                                                                <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/utils/flags.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-4 ms-auto ps-2">

                                                        <div class="row line-stat">

                                                            <div class="text-end"><span class="text-success">+41</span></div>
                                                            <div class="text-start"><span class="text-danger">-0</span></div>

                                                        </div>

                                                    </div>
                                                </div>
                                                    <div class="collapse patch-content term-container" id="id-a49e500658a7d2b6a3fc06fb"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;utils&#47;flags.go astria-geth&#47;cmd&#47;utils&#47;flags.go</span>
                                                        <span class="term-fg1">index ecf6acc186068cc230461ca2b68b438ca523430b..ebe359561193d611b3c3767ba4a90e6ffb35306b 100644</span>
                                                        <span class="term-fg1">--- go-ethereum&#47;cmd&#47;utils&#47;flags.go</span>
                                                        <span class="term-fg1">+++ astria-geth&#47;cmd&#47;utils&#47;flags.go</span>
                                                        <span class="term-fg36">@@ -35,6 +35,7 @@</span> 	&quot;strconv&quot;
                                                        &quot;strings&quot;
                                                        &quot;time&quot;
                                                        &nbsp;
                                                        <span class="term-fg32">+	astriaGrpc &quot;buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;grpc&#47;go&#47;astria&#47;execution&#47;v1&#47;executionv1grpc&quot;</span>
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&quot;
                                                        &quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;keystore&quot;
                                                        bparams &quot;github.com&#47;ethereum&#47;go-ethereum&#47;beacon&#47;params&quot;
                                                        <span class="term-fg36">@@ -749,6 +750,24 @@</span> 		Name:     &quot;rpc.enabledeprecatedpersonal&quot;,
                                                        Usage:    &quot;Enables the (deprecated) personal namespace&quot;,
                                                        Category: flags.APICategory,
                                                        }
                                                        <span class="term-fg32">+	&#47;&#47; grpc</span>
                                                        <span class="term-fg32">+	GRPCEnabledFlag = &amp;cli.BoolFlag{</span>
                                                        <span class="term-fg32">+		Name:     &quot;grpc&quot;,</span>
                                                        <span class="term-fg32">+		Usage:    &quot;Enable the gRPC server&quot;,</span>
                                                        <span class="term-fg32">+		Category: flags.APICategory,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	GRPCHostFlag = &amp;cli.StringFlag{</span>
                                                        <span class="term-fg32">+		Name:     &quot;grpc.addr&quot;,</span>
                                                        <span class="term-fg32">+		Usage:    &quot;gRPC server listening interface&quot;,</span>
                                                        <span class="term-fg32">+		Value:    node.DefaultGRPCHost,</span>
                                                        <span class="term-fg32">+		Category: flags.APICategory,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+	GRPCPortFlag = &amp;cli.IntFlag{</span>
                                                        <span class="term-fg32">+		Name:     &quot;grpc.port&quot;,</span>
                                                        <span class="term-fg32">+		Usage:    &quot;gRPC server listening port&quot;,</span>
                                                        <span class="term-fg32">+		Value:    node.DefaultGRPCPort,</span>
                                                        <span class="term-fg32">+		Category: flags.APICategory,</span>
                                                        <span class="term-fg32">+	}</span>
                                                        &nbsp;
                                                        &#47;&#47; Network Settings
                                                        MaxPeersFlag = &amp;cli.IntFlag{
                                                        <span class="term-fg36">@@ -1187,6 +1206,19 @@</span> 		cfg.BatchResponseMaxSize = ctx.Int(BatchResponseMaxSize.Name)
                                                        }
                                                        }
                                                        &nbsp;
                                                        <span class="term-fg32">+&#47;&#47; setGRPC creates the gRPC RPC listener interface string from the set command</span>
                                                        <span class="term-fg32">+&#47;&#47; line flags, returning empty if the gRPC endpoint is disabled.</span>
                                                        <span class="term-fg32">+func setGRPC(ctx *cli.Context, cfg *node.Config) {</span>
                                                        <span class="term-fg32">+	if ctx.Bool(GRPCEnabledFlag.Name) {</span>
                                                        <span class="term-fg32">+		if ctx.IsSet(GRPCHostFlag.Name) {</span>
                                                        <span class="term-fg32">+			cfg.GRPCHost = ctx.String(GRPCHostFlag.Name)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+		if ctx.IsSet(GRPCPortFlag.Name) {</span>
                                                        <span class="term-fg32">+			cfg.GRPCPort = ctx.Int(GRPCPortFlag.Name)</span>
                                                        <span class="term-fg32">+		}</span>
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        &#47;&#47; setGraphQL creates the GraphQL listener interface string from the set
                                                        &#47;&#47; command line flags, returning empty if the GraphQL endpoint is disabled.
                                                        func setGraphQL(ctx *cli.Context, cfg *node.Config) {
                                                        <span class="term-fg36">@@ -1399,6 +1431,7 @@</span> func SetNodeConfig(ctx *cli.Context, cfg *node.Config) {
                                                        SetP2PConfig(ctx, &amp;cfg.P2P)
                                                        setIPC(ctx, cfg)
                                                        setHTTP(ctx, cfg)
                                                        <span class="term-fg32">+	setGRPC(ctx, cfg)</span>
                                                        setGraphQL(ctx, cfg)
                                                        setWS(ctx, cfg)
                                                        setNodeUserIdent(ctx, cfg)
                                                        <span class="term-fg36">@@ -1951,6 +1984,14 @@</span> func RegisterGraphQLService(stack *node.Node, backend ethapi.Backend, filterSystem *filters.FilterSystem, cfg *node.Config) {
                                                        err := graphql.New(stack, backend, filterSystem, cfg.GraphQLCors, cfg.GraphQLVirtualHosts)
                                                        if err != nil {
                                                        Fatalf(&quot;Failed to register the GraphQL service: %v&quot;, err)
                                                        <span class="term-fg32">+	}</span>
                                                        <span class="term-fg32">+}</span>
                                                        <span class="term-fg32">+</span>
                                                        <span class="term-fg32">+&#47;&#47; RegisterGRPCExecutionService adds the gRPC API to the node.</span>
                                                        <span class="term-fg32">+&#47;&#47; It was done this way so that our grpc execution server can access the ethapi.Backend</span>
                                                        <span class="term-fg32">+func RegisterGRPCExecutionService(stack *node.Node, execServ astriaGrpc.ExecutionServiceServer, cfg *node.Config) {</span>
                                                        <span class="term-fg32">+	if err := node.NewGRPCServerHandler(stack, execServ, cfg); err != nil {</span>
                                                        <span class="term-fg32">+		Fatalf(&quot;Failed to register the gRPC service: %v&quot;, err)</span>
                                                        }
                                                        }
                                                    </div>
                                                </div>



                                            </div>
                                            <div>

                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>


                        <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-7ee7bdd44b789aac725c1a77"role="button" aria-expanded="false" aria-controls="id-7ee7bdd44b789aac725c1a77">

                            <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h2>Chain Configuration</h2></div>


                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                <div class="row line-stat">


                                </div>
                            </div>
                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-success">+470</span></div>
                                    <div class="text-start"><span class="text-danger">-29</span></div>


                                </div>
                            </div>
                        </div>

                            <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-7ee7bdd44b789aac725c1a77">
                                <div><p>Configuration changes, and storage for integrating the shared sequencer</p>
                                </div>
                                <div>

                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-9a68444d2cfbaa68c5bad166" role="button"
                                               aria-expanded="false" aria-controls="id-9a68444d2cfbaa68c5bad166">
                                                <code>core/blockchain.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/blockchain.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/blockchain.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+19</span></div>
                                                <div class="text-start"><span class="text-danger">-3</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-9a68444d2cfbaa68c5bad166"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;blockchain.go astria-geth&#47;core&#47;blockchain.go</span>
                                            <span class="term-fg1">index 56e00e85b6157df662fc1d82a2d749445ecb0015..ca79738d6b63afd30013d7dce517c6b27b635a75 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;core&#47;blockchain.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;core&#47;blockchain.go</span>
                                            <span class="term-fg36">@@ -238,6 +238,8 @@</span> 	currentSnapBlock  atomic.Pointer[types.Header] &#47;&#47; Current head of snap-sync
                                            currentFinalBlock atomic.Pointer[types.Header] &#47;&#47; Latest (consensus) finalized block
                                            currentSafeBlock  atomic.Pointer[types.Header] &#47;&#47; Latest (consensus) safe block
                                            &nbsp;
                                            <span class="term-fg32">+	currentBaseCelestiaHeight atomic.Uint64 &#47;&#47; Latest finalized block height on Celestia</span>
                                            <span class="term-fg32">+</span>
                                            bodyCache     *lru.Cache[common.Hash, *types.Body]
                                            bodyRLPCache  *lru.Cache[common.Hash, rlp.RawValue]
                                            receiptsCache *lru.Cache[common.Hash, []*types.Receipt]
                                            <span class="term-fg36">@@ -319,10 +321,11 @@</span> 	if bc.genesisBlock == nil {
                                            return nil, ErrNoGenesis
                                            }
                                            &nbsp;
                                            <span class="term-fg31">-	bc.currentBlock.Store(nil)</span>
                                            bc.currentSnapBlock.Store(nil)
                                            <span class="term-fg31">-	bc.currentFinalBlock.Store(nil)</span>
                                            <span class="term-fg31">-	bc.currentSafeBlock.Store(nil)</span>
                                            <span class="term-fg32">+	bc.currentBlock.Store(bc.genesisBlock.Header())</span>
                                            <span class="term-fg32">+	bc.currentFinalBlock.Store(bc.genesisBlock.Header())</span>
                                            <span class="term-fg32">+	bc.currentSafeBlock.Store(bc.genesisBlock.Header())</span>
                                            <span class="term-fg32">+	bc.currentBaseCelestiaHeight.Store(bc.Config().AstriaCelestiaInitialHeight)</span>
                                            &nbsp;
                                            &#47;&#47; Update chain info data metrics
                                            chainInfoGauge.Update(metrics.GaugeInfoValue{&quot;chain_id&quot;: bc.chainConfig.ChainID.String()})
                                            <span class="term-fg36">@@ -532,6 +535,11 @@</span> 			bc.currentSafeBlock.Store(block.Header())
                                            headSafeBlockGauge.Update(int64(block.NumberU64()))
                                            }
                                            }
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	if height := rawdb.ReadBaseCelestiaHeight(bc.db); height != 0 {</span>
                                            <span class="term-fg32">+		bc.currentBaseCelestiaHeight.Store(height)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            &#47;&#47; Issue a status log for the user
                                            var (
                                            currentSnapBlock  = bc.CurrentSnapBlock()
                                            <span class="term-fg36">@@ -540,6 +548,7 @@</span>
                                            headerTd = bc.GetTd(headHeader.Hash(), headHeader.Number.Uint64())
                                            blockTd  = bc.GetTd(headBlock.Hash(), headBlock.NumberU64())
                                            )
                                            <span class="term-fg32">+	log.Info(&quot;Loaded celestia base height&quot;, &quot;height&quot;, bc.currentBaseCelestiaHeight.Load())</span>
                                            if headHeader.Hash() != headBlock.Hash() {
                                            log.Info(&quot;Loaded most recent local header&quot;, &quot;number&quot;, headHeader.Number, &quot;hash&quot;, headHeader.Hash(), &quot;td&quot;, headerTd, &quot;age&quot;, common.PrettyAge(time.Unix(int64(headHeader.Time), 0)))
                                            }
                                            <span class="term-fg36">@@ -611,6 +620,13 @@</span> 	} else {
                                            rawdb.WriteFinalizedBlockHash(bc.db, common.Hash{})
                                            headFinalizedBlockGauge.Update(0)
                                            }
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+&#47;&#47; SetCelestiaFinalized sets the finalized block and the lowest Celestia height to find next finalized at.</span>
                                            <span class="term-fg32">+func (bc *BlockChain) SetCelestiaFinalized(header *types.Header, celHeight uint64) {</span>
                                            <span class="term-fg32">+	rawdb.WriteBaseCelestiaHeight(bc.db, celHeight)</span>
                                            <span class="term-fg32">+	bc.currentBaseCelestiaHeight.Store(celHeight)</span>
                                            <span class="term-fg32">+	bc.SetFinalized(header)</span>
                                            }
                                            &nbsp;
                                            &#47;&#47; SetSafe sets the safe block.</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-bc9310d66c5fdcb47cba0579" role="button"
                                               aria-expanded="false" aria-controls="id-bc9310d66c5fdcb47cba0579">
                                                <code>core/blockchain_reader.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/blockchain_reader.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/blockchain_reader.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+6</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-bc9310d66c5fdcb47cba0579"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;blockchain_reader.go astria-geth&#47;core&#47;blockchain_reader.go</span>
                                            <span class="term-fg1">index 8a85800dd877d563dceeb30ec9c7f76ee7e7f6a4..b543e646c818474485601adaca99fe29b2062c93 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;core&#47;blockchain_reader.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;core&#47;blockchain_reader.go</span>
                                            <span class="term-fg36">@@ -63,6 +63,12 @@</span> func (bc *BlockChain) CurrentSafeBlock() *types.Header {
                                            return bc.currentSafeBlock.Load()
                                            }
                                            &nbsp;
                                            <span class="term-fg32">+&#47;&#47; CurrentBaseCelestiaHeight retrieves the current base celestia height of the</span>
                                            <span class="term-fg32">+&#47;&#47; canonical chain. The height is retrieved from the blockchain&#39;s internal cache.</span>
                                            <span class="term-fg32">+func (bc *BlockChain) CurrentBaseCelestiaHeight() uint64 {</span>
                                            <span class="term-fg32">+	return bc.currentBaseCelestiaHeight.Load()</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            &#47;&#47; HasHeader checks if a block header is present in the database or not, caching
                                            &#47;&#47; it if present.
                                            func (bc *BlockChain) HasHeader(hash common.Hash, number uint64) bool {</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-eef52dc00ba1cb612ef6ccd7" role="button"
                                               aria-expanded="false" aria-controls="id-eef52dc00ba1cb612ef6ccd7">
                                                <code>core/genesis.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/genesis.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/genesis.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+7</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-eef52dc00ba1cb612ef6ccd7"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;genesis.go astria-geth&#47;core&#47;genesis.go</span>
                                            <span class="term-fg1">index 42836e026993b70580060fccccd24682ee9b4307..1ac4ce1fc15734f83eee9e85ee8b4929493b6f8b 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;core&#47;genesis.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;core&#47;genesis.go</span>
                                            <span class="term-fg36">@@ -426,12 +426,18 @@</span> 	root, err := hashAlloc(&amp;g.Alloc, g.IsVerkle())
                                            if err != nil {
                                            panic(err)
                                            }
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	extraData := g.ExtraData</span>
                                            <span class="term-fg32">+	if g.Config.AstriaOverrideGenesisExtraData {</span>
                                            <span class="term-fg32">+		extraData = g.Config.AstriaExtraData()</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            head := &amp;types.Header{
                                            Number:     new(big.Int).SetUint64(g.Number),
                                            Nonce:      types.EncodeNonce(g.Nonce),
                                            Time:       g.Timestamp,
                                            ParentHash: g.ParentHash,
                                            <span class="term-fg31">-		Extra:      g.ExtraData,</span>
                                            <span class="term-fg32">+		Extra:      extraData,</span>
                                            GasLimit:   g.GasLimit,
                                            GasUsed:    g.GasUsed,
                                            BaseFee:    g.BaseFee,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-8bc9b0e9bc4c4083549db6c0" role="button"
                                               aria-expanded="false" aria-controls="id-8bc9b0e9bc4c4083549db6c0">
                                                <code>core/rawdb/accessors_chain.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/rawdb/accessors_chain.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/rawdb/accessors_chain.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+18</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-8bc9b0e9bc4c4083549db6c0"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;rawdb&#47;accessors_chain.go astria-geth&#47;core&#47;rawdb&#47;accessors_chain.go</span>
                                            <span class="term-fg1">index 025be7ade7f42629b90cffd54a0d5296e4917dc3..3ffbfc273c32d4e4ca3ba4c9eb651399a67199de 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;core&#47;rawdb&#47;accessors_chain.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;core&#47;rawdb&#47;accessors_chain.go</span>
                                            <span class="term-fg36">@@ -233,6 +233,24 @@</span> 		log.Crit(&quot;Failed to store last finalized block&#39;s hash&quot;, &quot;err&quot;, err)
                                            }
                                            }
                                            &nbsp;
                                            <span class="term-fg32">+&#47;&#47; ReadFinalizedCelestiaBlockHeight retrieves the height of the finalized block.</span>
                                            <span class="term-fg32">+func ReadBaseCelestiaHeight(db ethdb.KeyValueReader) uint64 {</span>
                                            <span class="term-fg32">+	data, _ := db.Get(headBaseCelestiaHeightKey)</span>
                                            <span class="term-fg32">+	if len(data) != 8 {</span>
                                            <span class="term-fg32">+		return 0</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	number := binary.BigEndian.Uint64(data)</span>
                                            <span class="term-fg32">+	return number</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+&#47;&#47; WriteFinalizedCelestiaBlockHeight stores the height of the finalized block.</span>
                                            <span class="term-fg32">+func WriteBaseCelestiaHeight(db ethdb.KeyValueWriter, height uint64) {</span>
                                            <span class="term-fg32">+	byteHeight := encodeBlockNumber(height)</span>
                                            <span class="term-fg32">+	if err := db.Put(headBaseCelestiaHeightKey, byteHeight); err != nil {</span>
                                            <span class="term-fg32">+		log.Crit(&quot;Failed to store base celestia height&quot;, &quot;err&quot;, err)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            &#47;&#47; ReadLastPivotNumber retrieves the number of the last pivot block. If the node
                                            &#47;&#47; full synced, the last pivot will always be nil.
                                            func ReadLastPivotNumber(db ethdb.KeyValueReader) *uint64 {</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-2059547d17007ffa8552d7af" role="button"
                                               aria-expanded="false" aria-controls="id-2059547d17007ffa8552d7af">
                                                <code>core/rawdb/database.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/rawdb/database.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/rawdb/database.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-2059547d17007ffa8552d7af"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;rawdb&#47;database.go astria-geth&#47;core&#47;rawdb&#47;database.go</span>
                                            <span class="term-fg1">index 3436958de735f07b76b9e4e78cbe68fbaaa72381..25b0cc866333931c8580cf8c57fe7ea178bd5a64 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;core&#47;rawdb&#47;database.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;core&#47;rawdb&#47;database.go</span>
                                            <span class="term-fg36">@@ -558,6 +558,7 @@</span> 				lastPivotKey, fastTrieProgressKey, snapshotDisabledKey, SnapshotRootKey, snapshotJournalKey,
                                            snapshotGeneratorKey, snapshotRecoveryKey, txIndexTailKey, fastTxLookupLimitKey,
                                            uncleanShutdownKey, badBlockKey, transitionStatusKey, skeletonSyncStatusKey,
                                            persistentStateIDKey, trieJournalKey, snapshotSyncStatusKey, snapSyncStatusFlagKey,
                                            <span class="term-fg32">+				headBaseCelestiaHeightKey,</span>
                                            } {
                                            if bytes.Equal(key, meta) {
                                            metadata.Add(size)</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-fd0b8de1e8bcf968618b93a5" role="button"
                                               aria-expanded="false" aria-controls="id-fd0b8de1e8bcf968618b93a5">
                                                <code>core/rawdb/schema.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/rawdb/schema.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/rawdb/schema.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+3</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-fd0b8de1e8bcf968618b93a5"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;rawdb&#47;schema.go astria-geth&#47;core&#47;rawdb&#47;schema.go</span>
                                            <span class="term-fg1">index dbf010be0ca8058f78b5dc76cc345b884c0060e6..692e6d4b902327877674271380fe2576736a535a 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;core&#47;rawdb&#47;schema.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;core&#47;rawdb&#47;schema.go</span>
                                            <span class="term-fg36">@@ -43,6 +43,9 @@</span>
                                            &#47;&#47; headFinalizedBlockKey tracks the latest known finalized block hash.
                                            headFinalizedBlockKey = []byte(&quot;LastFinalized&quot;)
                                            &nbsp;
                                            <span class="term-fg32">+	&#47;&#47; headBaseCelestiaHeightKey tracks the lowest celestia height from which to attempt derivation.</span>
                                            <span class="term-fg32">+	headBaseCelestiaHeightKey = []byte(&quot;LastBaseCelestiaHeight&quot;)</span>
                                            <span class="term-fg32">+</span>
                                            &#47;&#47; persistentStateIDKey tracks the id of latest stored state(for path-based only).
                                            persistentStateIDKey = []byte(&quot;LastStateID&quot;)
                                        </div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-0adb59df8d6b8cfbcd89a558" role="button"
                                               aria-expanded="false" aria-controls="id-0adb59df8d6b8cfbcd89a558">
                                                <code>eth/backend.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/eth/backend.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/eth/backend.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1</span></div>
                                                <div class="text-start"><span class="text-danger">-21</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-0adb59df8d6b8cfbcd89a558"><span class="term-fg1">diff --git go-ethereum&#47;eth&#47;backend.go astria-geth&#47;eth&#47;backend.go</span>
                                            <span class="term-fg1">index e616b5f2f195202745e7c442534aa0faafdb1227..bea001c68ac94228d28f4f8836bca8e1fe9b2761 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;eth&#47;backend.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;eth&#47;backend.go</span>
                                            <span class="term-fg36">@@ -22,12 +22,10 @@</span> 	&quot;encoding&#47;json&quot;
                                            &quot;errors&quot;
                                            &quot;fmt&quot;
                                            &quot;math&#47;big&quot;
                                            <span class="term-fg31">-	&quot;runtime&quot;</span>
                                            &quot;sync&quot;
                                            &nbsp;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&quot;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&#47;hexutil&quot;</span>
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;consensus&quot;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&quot;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;bloombits&quot;
                                            <span class="term-fg36">@@ -55,7 +53,6 @@</span> 	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;p2p&quot;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;p2p&#47;dnsdisc&quot;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;p2p&#47;enode&quot;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;rlp&quot;</span>
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;rpc&quot;
                                            )
                                            &nbsp;
                                            <span class="term-fg36">@@ -261,7 +258,7 @@</span> 		return nil, err
                                            }
                                            &nbsp;
                                            eth.miner = miner.New(eth, config.Miner, eth.engine)
                                            <span class="term-fg31">-	eth.miner.SetExtra(makeExtraData(config.Miner.ExtraData))</span>
                                            <span class="term-fg32">+	eth.miner.SetExtra(chainConfig.AstriaExtraData())</span>
                                            &nbsp;
                                            eth.APIBackend = &amp;EthAPIBackend{stack.Config().ExtRPCEnabled(), stack.Config().AllowUnprotectedTxs, eth, nil}
                                            if eth.APIBackend.allowUnprotectedTxs {
                                            <span class="term-fg36">@@ -296,23 +293,6 @@</span> 	&#47;&#47; Successful startup; push a marker and check previous unclean shutdowns.
                                            eth.shutdownTracker.MarkStartup()
                                            &nbsp;
                                            return eth, nil
                                            <span class="term-fg31">-}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-func makeExtraData(extra []byte) []byte {</span>
                                            <span class="term-fg31">-	if len(extra) == 0 {</span>
                                            <span class="term-fg31">-		&#47;&#47; create default extradata</span>
                                            <span class="term-fg31">-		extra, _ = rlp.EncodeToBytes([]interface{}{</span>
                                            <span class="term-fg31">-			uint(params.VersionMajor&lt;&lt;16 | params.VersionMinor&lt;&lt;8 | params.VersionPatch),</span>
                                            <span class="term-fg31">-			&quot;geth&quot;,</span>
                                            <span class="term-fg31">-			runtime.Version(),</span>
                                            <span class="term-fg31">-			runtime.GOOS,</span>
                                            <span class="term-fg31">-		})</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	if uint64(len(extra)) &gt; params.MaximumExtraDataSize {</span>
                                            <span class="term-fg31">-		log.Warn(&quot;Miner extra data exceed limit&quot;, &quot;extra&quot;, hexutil.Bytes(extra), &quot;limit&quot;, params.MaximumExtraDataSize)</span>
                                            <span class="term-fg31">-		extra = nil</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	return extra</span>
                                            }
                                            &nbsp;
                                            &#47;&#47; APIs return the collection of RPC services the ethereum package offers.</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-29621fc555846a6d30a662fd" role="button"
                                               aria-expanded="false" aria-controls="id-29621fc555846a6d30a662fd">
                                                <code>params/astria_config_test.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <span class="text-muted">(new)</span>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/params/astria_config_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+245</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-29621fc555846a6d30a662fd"><span class="term-fg1">diff --git go-ethereum&#47;params&#47;astria_config_test.go astria-geth&#47;params&#47;astria_config_test.go</span>
                                            <span class="term-fg1">new file mode 100644</span>
                                            <span class="term-fg1">index 0000000000000000000000000000000000000000..a91b41b14217e7000d3e1d11640e2213c3c92a8d</span>
                                            <span class="term-fg1">--- &#47;dev&#47;null</span>
                                            <span class="term-fg1">+++ astria-geth&#47;params&#47;astria_config_test.go</span>
                                            <span class="term-fg36">@@ -0,0 +1,245 @@</span>
                                            <span class="term-fg32">+package params</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+import (</span>
                                            <span class="term-fg32">+	&quot;encoding&#47;json&quot;</span>
                                            <span class="term-fg32">+	&quot;fmt&quot;</span>
                                            <span class="term-fg32">+	&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	&quot;reflect&quot;</span>
                                            <span class="term-fg32">+	&quot;testing&quot;</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	&quot;github.com&#47;btcsuite&#47;btcd&#47;btcutil&#47;bech32&quot;</span>
                                            <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+)</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func TestAstriaEIP1559Params(t *testing.T) {</span>
                                            <span class="term-fg32">+	jsonBuf := []byte(`{</span>
                                            <span class="term-fg32">+		&quot;1&quot;:{ &quot;minBaseFee&quot;: 45000000000, &quot;elasticityMultiplier&quot;: 4, &quot;baseFeeChangeDenominator&quot;: 100 },</span>
                                            <span class="term-fg32">+		&quot;101&quot;:{ &quot;minBaseFee&quot;: 120000000, &quot;elasticityMultiplier&quot;: 11, &quot;baseFeeChangeDenominator&quot;: 250 },</span>
                                            <span class="term-fg32">+		&quot;15&quot;:{ &quot;minBaseFee&quot;: 15000000000, &quot;elasticityMultiplier&quot;: 5, &quot;baseFeeChangeDenominator&quot;: 50 }</span>
                                            <span class="term-fg32">+	}`)</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	var eip1559Params AstriaEIP1559Params</span>
                                            <span class="term-fg32">+	err := json.Unmarshal(jsonBuf, &amp;eip1559Params)</span>
                                            <span class="term-fg32">+	if err != nil {</span>
                                            <span class="term-fg32">+		t.Errorf(&quot;unexpected err %v&quot;, err)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	expected := AstriaEIP1559Params{</span>
                                            <span class="term-fg32">+		heights: map[uint64]AstriaEIP1559Param{</span>
                                            <span class="term-fg32">+			1:   {MinBaseFee: 45000000000, ElasticityMultiplier: 4, BaseFeeChangeDenominator: 100},</span>
                                            <span class="term-fg32">+			101: {MinBaseFee: 120000000, ElasticityMultiplier: 11, BaseFeeChangeDenominator: 250},</span>
                                            <span class="term-fg32">+			15:  {MinBaseFee: 15000000000, ElasticityMultiplier: 5, BaseFeeChangeDenominator: 50},</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		orderedHeights: []uint64{101, 15, 1},</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	if !reflect.DeepEqual(eip1559Params, expected) {</span>
                                            <span class="term-fg32">+		t.Errorf(&quot;expected %v, got %v&quot;, expected, eip1559Params)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	minBaseTests := map[uint64]*big.Int{</span>
                                            <span class="term-fg32">+		0:      common.Big0,</span>
                                            <span class="term-fg32">+		1:      big.NewInt(45000000000),</span>
                                            <span class="term-fg32">+		2:      big.NewInt(45000000000),</span>
                                            <span class="term-fg32">+		14:     big.NewInt(45000000000),</span>
                                            <span class="term-fg32">+		15:     big.NewInt(15000000000),</span>
                                            <span class="term-fg32">+		16:     big.NewInt(15000000000),</span>
                                            <span class="term-fg32">+		50:     big.NewInt(15000000000),</span>
                                            <span class="term-fg32">+		100:    big.NewInt(15000000000),</span>
                                            <span class="term-fg32">+		101:    big.NewInt(120000000),</span>
                                            <span class="term-fg32">+		102:    big.NewInt(120000000),</span>
                                            <span class="term-fg32">+		123456: big.NewInt(120000000),</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	for height, expected := range minBaseTests {</span>
                                            <span class="term-fg32">+		if got := eip1559Params.MinBaseFeeAt(height); got.Cmp(expected) != 0 {</span>
                                            <span class="term-fg32">+			t.Errorf(&quot;MinBaseFeeAt(%d): expected %v, got %v&quot;, height, expected, got)</span>
                                            <span class="term-fg32">+		}</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	elasticityMultiplierTests := map[uint64]uint64{</span>
                                            <span class="term-fg32">+		0:      DefaultElasticityMultiplier,</span>
                                            <span class="term-fg32">+		1:      4,</span>
                                            <span class="term-fg32">+		2:      4,</span>
                                            <span class="term-fg32">+		14:     4,</span>
                                            <span class="term-fg32">+		15:     5,</span>
                                            <span class="term-fg32">+		16:     5,</span>
                                            <span class="term-fg32">+		50:     5,</span>
                                            <span class="term-fg32">+		100:    5,</span>
                                            <span class="term-fg32">+		101:    11,</span>
                                            <span class="term-fg32">+		102:    11,</span>
                                            <span class="term-fg32">+		123456: 11,</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	for height, expected := range elasticityMultiplierTests {</span>
                                            <span class="term-fg32">+		if got := eip1559Params.ElasticityMultiplierAt(height); got != expected {</span>
                                            <span class="term-fg32">+			t.Errorf(&quot;ElasticityMultiplierAt(%d): expected %v, got %v&quot;, height, expected, got)</span>
                                            <span class="term-fg32">+		}</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	baseFeeChangeDenominatorTests := map[uint64]uint64{</span>
                                            <span class="term-fg32">+		0:      DefaultBaseFeeChangeDenominator,</span>
                                            <span class="term-fg32">+		1:      100,</span>
                                            <span class="term-fg32">+		2:      100,</span>
                                            <span class="term-fg32">+		14:     100,</span>
                                            <span class="term-fg32">+		15:     50,</span>
                                            <span class="term-fg32">+		16:     50,</span>
                                            <span class="term-fg32">+		50:     50,</span>
                                            <span class="term-fg32">+		100:    50,</span>
                                            <span class="term-fg32">+		101:    250,</span>
                                            <span class="term-fg32">+		102:    250,</span>
                                            <span class="term-fg32">+		123456: 250,</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	for height, expected := range baseFeeChangeDenominatorTests {</span>
                                            <span class="term-fg32">+		if got := eip1559Params.BaseFeeChangeDenominatorAt(height); got != expected {</span>
                                            <span class="term-fg32">+			t.Errorf(&quot;BaseFeeChangeDenominatorAt(%d): expected %v, got %v&quot;, height, expected, got)</span>
                                            <span class="term-fg32">+		}</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func TestAstriaBridgeConfigValidation(t *testing.T) {</span>
                                            <span class="term-fg32">+	bridgeAddressKey, err := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+	if err != nil {</span>
                                            <span class="term-fg32">+		panic(err)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	bridgeAddress := crypto.PubkeyToAddress(bridgeAddressKey.PublicKey)</span>
                                            <span class="term-fg32">+	toEncode, _ := bech32.ConvertBits(bridgeAddress.Bytes(), 8, 5, false)</span>
                                            <span class="term-fg32">+	bridgeAddressBech32, _ := bech32.EncodeM(&quot;astria&quot;, toEncode)</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	erc20AssetKey, err := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+	if err != nil {</span>
                                            <span class="term-fg32">+		panic(err)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	erc20Asset := crypto.PubkeyToAddress(erc20AssetKey.PublicKey)</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	tests := []struct {</span>
                                            <span class="term-fg32">+		description string</span>
                                            <span class="term-fg32">+		config      AstriaBridgeAddressConfig</span>
                                            <span class="term-fg32">+		wantErr     error</span>
                                            <span class="term-fg32">+	}{</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;invalid bridge address, non bech32m&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  &quot;rand address&quot;,</span>
                                            <span class="term-fg32">+				StartHeight:    2,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;nria&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 18,</span>
                                            <span class="term-fg32">+				Erc20Asset:     nil,</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: fmt.Errorf(&quot;bridge address must be a bech32 encoded string&quot;),</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;invalid bridge address, invalid prefix&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  &quot;badprefix1u54zke43yc2tpaecvjqj4uy7d3mdmkrj4vch35&quot;,</span>
                                            <span class="term-fg32">+				StartHeight:    2,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;nria&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 18,</span>
                                            <span class="term-fg32">+				Erc20Asset:     nil,</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: fmt.Errorf(&quot;bridge address must have prefix astria&quot;),</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;invalid bridge address&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  &quot;astria1u54zke43yc2tpaecvjqj4uy7d3mdmkqjjq96x&quot;,</span>
                                            <span class="term-fg32">+				StartHeight:    2,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;nria&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 18,</span>
                                            <span class="term-fg32">+				Erc20Asset:     nil,</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: fmt.Errorf(&quot;bridge address must have resolve to 20 byte address, got 19&quot;),</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;invalid start height&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  bridgeAddressBech32,</span>
                                            <span class="term-fg32">+				StartHeight:    0,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;nria&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 18,</span>
                                            <span class="term-fg32">+				Erc20Asset:     nil,</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: fmt.Errorf(&quot;start height must be greater than 0&quot;),</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;invalid asset denom&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  bridgeAddressBech32,</span>
                                            <span class="term-fg32">+				StartHeight:    2,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 18,</span>
                                            <span class="term-fg32">+				Erc20Asset:     nil,</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: fmt.Errorf(&quot;asset denom must be set&quot;),</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;invalid asset precision&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  bridgeAddressBech32,</span>
                                            <span class="term-fg32">+				StartHeight:    2,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;nria&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 22,</span>
                                            <span class="term-fg32">+				Erc20Asset:     nil,</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: fmt.Errorf(&quot;asset precision of native asset must be less than or equal to 18&quot;),</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;invalid contract precision&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  bridgeAddressBech32,</span>
                                            <span class="term-fg32">+				StartHeight:    2,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;nria&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 22,</span>
                                            <span class="term-fg32">+				Erc20Asset: &amp;AstriaErc20AssetConfig{</span>
                                            <span class="term-fg32">+					ContractAddress:   erc20Asset,</span>
                                            <span class="term-fg32">+					ContractPrecision: 18,</span>
                                            <span class="term-fg32">+				},</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: fmt.Errorf(&quot;asset precision must be less than or equal to contract precision&quot;),</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;erc20 assets supported&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  bridgeAddressBech32,</span>
                                            <span class="term-fg32">+				StartHeight:    2,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;nria&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 18,</span>
                                            <span class="term-fg32">+				Erc20Asset: &amp;AstriaErc20AssetConfig{</span>
                                            <span class="term-fg32">+					ContractAddress:   erc20Asset,</span>
                                            <span class="term-fg32">+					ContractPrecision: 18,</span>
                                            <span class="term-fg32">+				},</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: nil,</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+		{</span>
                                            <span class="term-fg32">+			description: &quot;valid config&quot;,</span>
                                            <span class="term-fg32">+			config: AstriaBridgeAddressConfig{</span>
                                            <span class="term-fg32">+				BridgeAddress:  bridgeAddressBech32,</span>
                                            <span class="term-fg32">+				StartHeight:    2,</span>
                                            <span class="term-fg32">+				AssetDenom:     &quot;nria&quot;,</span>
                                            <span class="term-fg32">+				AssetPrecision: 18,</span>
                                            <span class="term-fg32">+				Erc20Asset:     nil,</span>
                                            <span class="term-fg32">+			},</span>
                                            <span class="term-fg32">+			wantErr: nil,</span>
                                            <span class="term-fg32">+		},</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	for _, test := range tests {</span>
                                            <span class="term-fg32">+		t.Run(test.description, func(t *testing.T) {</span>
                                            <span class="term-fg32">+			err := test.config.Validate(&quot;astria&quot;)</span>
                                            <span class="term-fg32">+			if test.wantErr != nil &amp;&amp; err == nil {</span>
                                            <span class="term-fg32">+				t.Errorf(&quot;expected error, got nil&quot;)</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			if test.wantErr == nil &amp;&amp; err != nil {</span>
                                            <span class="term-fg32">+				t.Errorf(&quot;unexpected error %v&quot;, err)</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+			if !reflect.DeepEqual(err, test.wantErr) {</span>
                                            <span class="term-fg32">+				t.Errorf(&quot;error mismatch:\nconfig: %v\nerr: %v\nwant: %v&quot;, test.config, err, test.wantErr)</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+		})</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+}</span></div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-1f9a3da19537a424b2c7a29f" role="button"
                                               aria-expanded="false" aria-controls="id-1f9a3da19537a424b2c7a29f">
                                                <code>params/config.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/params/config.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/params/config.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+170</span></div>
                                                <div class="text-start"><span class="text-danger">-4</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-1f9a3da19537a424b2c7a29f"><span class="term-fg1">diff --git go-ethereum&#47;params&#47;config.go astria-geth&#47;params&#47;config.go</span>
                                            <span class="term-fg1">index 534e57831add21d66f4e4f49312e0c4384f54a35..d9b40b881f574fa735dbb215978e2f01703ef3b2 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;params&#47;config.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;params&#47;config.go</span>
                                            <span class="term-fg36">@@ -17,11 +17,18 @@</span>
                                            package params
                                            &nbsp;
                                            import (
                                            <span class="term-fg32">+	&quot;encoding&#47;json&quot;</span>
                                            &quot;fmt&quot;
                                            &quot;math&#47;big&quot;
                                            <span class="term-fg32">+	&quot;sort&quot;</span>
                                            &nbsp;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;
                                            <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&#47;hexutil&quot;</span>
                                            <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;log&quot;</span>
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&#47;forks&quot;
                                            <span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;rlp&quot;</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	&quot;github.com&#47;btcsuite&#47;btcd&#47;btcutil&#47;bech32&quot;</span>
                                            )
                                            &nbsp;
                                            &#47;&#47; Genesis hashes to enforce below configs on.
                                            <span class="term-fg36">@@ -366,8 +373,104 @@</span> 	&#47;&#47; TODO(karalabe): Drop this field eventually (always assuming PoS mode)
                                            TerminalTotalDifficultyPassed bool `json:&quot;terminalTotalDifficultyPassed,omitempty&quot;`
                                            &nbsp;
                                            &#47;&#47; Various consensus engines
                                            <span class="term-fg31">-	Ethash *EthashConfig `json:&quot;ethash,omitempty&quot;`</span>
                                            <span class="term-fg31">-	Clique *CliqueConfig `json:&quot;clique,omitempty&quot;`</span>
                                            <span class="term-fg32">+	Ethash    *EthashConfig `json:&quot;ethash,omitempty&quot;`</span>
                                            <span class="term-fg32">+	Clique    *CliqueConfig `json:&quot;clique,omitempty&quot;`</span>
                                            <span class="term-fg32">+	IsDevMode bool          `json:&quot;isDev,omitempty&quot;`</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	&#47;&#47; Astria Specific Configuration</span>
                                            <span class="term-fg32">+	AstriaOverrideGenesisExtraData bool                        `json:&quot;astriaOverrideGenesisExtraData,omitempty&quot;`</span>
                                            <span class="term-fg32">+	AstriaExtraDataOverride        hexutil.Bytes               `json:&quot;astriaExtraDataOverride,omitempty&quot;`</span>
                                            <span class="term-fg32">+	AstriaRollupName               string                      `json:&quot;astriaRollupName&quot;`</span>
                                            <span class="term-fg32">+	AstriaSequencerInitialHeight   uint32                      `json:&quot;astriaSequencerInitialHeight&quot;`</span>
                                            <span class="term-fg32">+	AstriaSequencerAddressPrefix   string                      `json:&quot;astriaSequencerAddressPrefix,omitempty&quot;`</span>
                                            <span class="term-fg32">+	AstriaCelestiaInitialHeight    uint64                      `json:&quot;astriaCelestiaInitialHeight&quot;`</span>
                                            <span class="term-fg32">+	AstriaCelestiaHeightVariance   uint64                      `json:&quot;astriaCelestiaHeightVariance,omitempty&quot;`</span>
                                            <span class="term-fg32">+	AstriaBridgeAddressConfigs     []AstriaBridgeAddressConfig `json:&quot;astriaBridgeAddresses,omitempty&quot;`</span>
                                            <span class="term-fg32">+	AstriaFeeCollectors            map[uint32]common.Address   `json:&quot;astriaFeeCollectors&quot;`</span>
                                            <span class="term-fg32">+	AstriaEIP1559Params            *AstriaEIP1559Params        `json:&quot;astriaEIP1559Params,omitempty&quot;`</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func (c *ChainConfig) AstriaExtraData() []byte {</span>
                                            <span class="term-fg32">+	if c.AstriaExtraDataOverride != nil {</span>
                                            <span class="term-fg32">+		return c.AstriaExtraDataOverride</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	&#47;&#47; create default extradata</span>
                                            <span class="term-fg32">+	extra, _ := rlp.EncodeToBytes([]interface{}{</span>
                                            <span class="term-fg32">+		c.AstriaRollupName,</span>
                                            <span class="term-fg32">+		c.AstriaSequencerInitialHeight,</span>
                                            <span class="term-fg32">+		c.AstriaCelestiaInitialHeight,</span>
                                            <span class="term-fg32">+		c.AstriaCelestiaHeightVariance,</span>
                                            <span class="term-fg32">+	})</span>
                                            <span class="term-fg32">+	if uint64(len(extra)) &gt; MaximumExtraDataSize {</span>
                                            <span class="term-fg32">+		log.Warn(&quot;Miner extra data exceed limit&quot;, &quot;extra&quot;, hexutil.Bytes(extra), &quot;limit&quot;, MaximumExtraDataSize)</span>
                                            <span class="term-fg32">+		extra = nil</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	return extra</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+type AstriaEIP1559Param struct {</span>
                                            <span class="term-fg32">+	MinBaseFee               uint64 `json:&quot;minBaseFee&quot;`</span>
                                            <span class="term-fg32">+	ElasticityMultiplier     uint64 `json:&quot;elasticityMultiplier&quot;`</span>
                                            <span class="term-fg32">+	BaseFeeChangeDenominator uint64 `json:&quot;baseFeeChangeDenominator&quot;`</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+type AstriaEIP1559Params struct {</span>
                                            <span class="term-fg32">+	heights        map[uint64]AstriaEIP1559Param</span>
                                            <span class="term-fg32">+	orderedHeights []uint64</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func NewAstriaEIP1559Params(heights map[uint64]AstriaEIP1559Param) *AstriaEIP1559Params {</span>
                                            <span class="term-fg32">+	orderedHeights := []uint64{}</span>
                                            <span class="term-fg32">+	for k := range heights {</span>
                                            <span class="term-fg32">+		orderedHeights = append(orderedHeights, k)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	sort.Slice(orderedHeights, func(i, j int) bool { return orderedHeights[i] &gt; orderedHeights[j] })</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	return &amp;AstriaEIP1559Params{</span>
                                            <span class="term-fg32">+		heights:        heights,</span>
                                            <span class="term-fg32">+		orderedHeights: orderedHeights,</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func (c *AstriaEIP1559Params) MinBaseFeeAt(height uint64) *big.Int {</span>
                                            <span class="term-fg32">+	for _, h := range c.orderedHeights {</span>
                                            <span class="term-fg32">+		if height &gt;= h {</span>
                                            <span class="term-fg32">+			return big.NewInt(0).SetUint64(c.heights[h].MinBaseFee)</span>
                                            <span class="term-fg32">+		}</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	return common.Big0</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func (c *AstriaEIP1559Params) ElasticityMultiplierAt(height uint64) uint64 {</span>
                                            <span class="term-fg32">+	for _, h := range c.orderedHeights {</span>
                                            <span class="term-fg32">+		if height &gt;= h {</span>
                                            <span class="term-fg32">+			return c.heights[h].ElasticityMultiplier</span>
                                            <span class="term-fg32">+		}</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	return DefaultElasticityMultiplier</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func (c *AstriaEIP1559Params) BaseFeeChangeDenominatorAt(height uint64) uint64 {</span>
                                            <span class="term-fg32">+	for _, h := range c.orderedHeights {</span>
                                            <span class="term-fg32">+		if height &gt;= h {</span>
                                            <span class="term-fg32">+			return c.heights[h].BaseFeeChangeDenominator</span>
                                            <span class="term-fg32">+		}</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	return DefaultBaseFeeChangeDenominator</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func (c AstriaEIP1559Params) MarshalJSON() ([]byte, error) {</span>
                                            <span class="term-fg32">+	return json.Marshal(c.heights)</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func (c *AstriaEIP1559Params) UnmarshalJSON(data []byte) error {</span>
                                            <span class="term-fg32">+	var heights map[uint64]AstriaEIP1559Param</span>
                                            <span class="term-fg32">+	if err := json.Unmarshal(data, &amp;heights); err != nil {</span>
                                            <span class="term-fg32">+		return err</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	*c = *NewAstriaEIP1559Params(heights)</span>
                                            <span class="term-fg32">+	return nil</span>
                                            }
                                            &nbsp;
                                            &#47;&#47; EthashConfig is the consensus engine configs for proof-of-work based sealing.
                                            <span class="term-fg36">@@ -746,12 +849,18 @@</span> 	return nil
                                            }
                                            &nbsp;
                                            &#47;&#47; BaseFeeChangeDenominator bounds the amount the base fee can change between blocks.
                                            <span class="term-fg31">-func (c *ChainConfig) BaseFeeChangeDenominator() uint64 {</span>
                                            <span class="term-fg32">+func (c *ChainConfig) BaseFeeChangeDenominator(height uint64) uint64 {</span>
                                            <span class="term-fg32">+	if c.AstriaEIP1559Params != nil {</span>
                                            <span class="term-fg32">+		return c.AstriaEIP1559Params.BaseFeeChangeDenominatorAt(height)</span>
                                            <span class="term-fg32">+	}</span>
                                            return DefaultBaseFeeChangeDenominator
                                            }
                                            &nbsp;
                                            &#47;&#47; ElasticityMultiplier bounds the maximum gas limit an EIP-1559 block may have.
                                            <span class="term-fg31">-func (c *ChainConfig) ElasticityMultiplier() uint64 {</span>
                                            <span class="term-fg32">+func (c *ChainConfig) ElasticityMultiplier(height uint64) uint64 {</span>
                                            <span class="term-fg32">+	if c.AstriaEIP1559Params != nil {</span>
                                            <span class="term-fg32">+		return c.AstriaEIP1559Params.ElasticityMultiplierAt(height)</span>
                                            <span class="term-fg32">+	}</span>
                                            return DefaultElasticityMultiplier
                                            }
                                            &nbsp;
                                            <span class="term-fg36">@@ -942,3 +1051,60 @@</span> 		IsPrague:         isMerge &amp;&amp; c.IsPrague(num, timestamp),
                                            IsVerkle:         isMerge &amp;&amp; c.IsVerkle(num, timestamp),
                                            }
                                            }
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+type AstriaBridgeAddressConfig struct {</span>
                                            <span class="term-fg32">+	BridgeAddress  string                  `json:&quot;bridgeAddress&quot;`</span>
                                            <span class="term-fg32">+	SenderAddress  common.Address          `json:&quot;senderAddress,omitempty&quot;`</span>
                                            <span class="term-fg32">+	StartHeight    uint32                  `json:&quot;startHeight&quot;`</span>
                                            <span class="term-fg32">+	AssetDenom     string                  `json:&quot;assetDenom&quot;`</span>
                                            <span class="term-fg32">+	AssetPrecision uint16                  `json:&quot;assetPrecision&quot;`</span>
                                            <span class="term-fg32">+	Erc20Asset     *AstriaErc20AssetConfig `json:&quot;erc20Asset,omitempty&quot;`</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+type AstriaErc20AssetConfig struct {</span>
                                            <span class="term-fg32">+	ContractAddress   common.Address `json:&quot;contractAddress&quot;`</span>
                                            <span class="term-fg32">+	ContractPrecision uint16         `json:&quot;contractPrecision&quot;`</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func (abc *AstriaBridgeAddressConfig) Validate(genesisPrefix string) error {</span>
                                            <span class="term-fg32">+	prefix, byteAddress, err := bech32.Decode(abc.BridgeAddress)</span>
                                            <span class="term-fg32">+	if err != nil {</span>
                                            <span class="term-fg32">+		return fmt.Errorf(&quot;bridge address must be a bech32 encoded string&quot;)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	byteAddress, err = bech32.ConvertBits(byteAddress, 5, 8, false)</span>
                                            <span class="term-fg32">+	if err != nil {</span>
                                            <span class="term-fg32">+		return fmt.Errorf(&quot;failed to convert address to 8 bit&quot;)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	if prefix != genesisPrefix {</span>
                                            <span class="term-fg32">+		return fmt.Errorf(&quot;bridge address must have prefix %s&quot;, genesisPrefix)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	if len(byteAddress) != 20 {</span>
                                            <span class="term-fg32">+		return fmt.Errorf(&quot;bridge address must have resolve to 20 byte address, got %d&quot;, len(byteAddress))</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	if abc.StartHeight == 0 {</span>
                                            <span class="term-fg32">+		return fmt.Errorf(&quot;start height must be greater than 0&quot;)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	if abc.AssetDenom == &quot;&quot; {</span>
                                            <span class="term-fg32">+		return fmt.Errorf(&quot;asset denom must be set&quot;)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	if abc.Erc20Asset == nil &amp;&amp; abc.AssetPrecision &gt; 18 {</span>
                                            <span class="term-fg32">+		return fmt.Errorf(&quot;asset precision of native asset must be less than or equal to 18&quot;)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	if abc.Erc20Asset != nil &amp;&amp; abc.AssetPrecision &gt; abc.Erc20Asset.ContractPrecision {</span>
                                            <span class="term-fg32">+		return fmt.Errorf(&quot;asset precision must be less than or equal to contract precision&quot;)</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	return nil</span>
                                            <span class="term-fg32">+}</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+func (abc *AstriaBridgeAddressConfig) ScaledDepositAmount(deposit *big.Int) *big.Int {</span>
                                            <span class="term-fg32">+	var exponent uint16</span>
                                            <span class="term-fg32">+	if abc.Erc20Asset != nil {</span>
                                            <span class="term-fg32">+		exponent = abc.Erc20Asset.ContractPrecision - abc.AssetPrecision</span>
                                            <span class="term-fg32">+	} else {</span>
                                            <span class="term-fg32">+		exponent = 18 - abc.AssetPrecision</span>
                                            <span class="term-fg32">+	}</span>
                                            <span class="term-fg32">+	multiplier := new(big.Int).Exp(big.NewInt(10), big.NewInt(int64(exponent)), nil)</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	return new(big.Int).Mul(deposit, multiplier)</span>
                                            <span class="term-fg32">+}</span></div>
                                    </div>



                                </div>
                                <div>

                                </div>
                            </div>
                        </div>


                        <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-5858a72c15de6174a8dd87f1"role="button" aria-expanded="false" aria-controls="id-5858a72c15de6174a8dd87f1">

                            <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h2>Miscellaneous Tests</h2></div>


                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                <div class="row line-stat">


                                </div>
                            </div>
                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-success">+1821</span></div>
                                    <div class="text-start"><span class="text-danger">-1945</span></div>


                                </div>
                            </div>
                        </div>

                            <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-5858a72c15de6174a8dd87f1">
                                <div><p>Some tests have been omitted from the fork (no support for beacon client), others have been edited due to changes
                                    in the default configuration.</p>
                                </div>
                                <div>

                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-8030c40a619e7d9f9fd6dfed" role="button"
                                               aria-expanded="false" aria-controls="id-8030c40a619e7d9f9fd6dfed">
                                                <code>accounts/abi/bind/bind_test.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/accounts/abi/bind/bind_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/accounts/abi/bind/bind_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1619</span></div>
                                                <div class="text-start"><span class="text-danger">-1630</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-8030c40a619e7d9f9fd6dfed"><span class="term-fg1">diff --git go-ethereum&#47;accounts&#47;abi&#47;bind&#47;bind_test.go astria-geth&#47;accounts&#47;abi&#47;bind&#47;bind_test.go</span>
                                            <span class="term-fg1">index a390a3c47c7e24019c1159affa3016420b77c00b..b01659eafbf60ccec2da50818e6c4d4420a90086 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;accounts&#47;abi&#47;bind&#47;bind_test.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;accounts&#47;abi&#47;bind&#47;bind_test.go</span>
                                            <span class="term-fg36">@@ -16,18 +16,6 @@</span> &#47;&#47; along with the go-ethereum library. If not, see &lt;http:&#47;&#47;www.gnu.org&#47;licenses&#47;&gt;.
                                            &nbsp;
                                            package bind
                                            &nbsp;
                                            <span class="term-fg31">-import (</span>
                                            <span class="term-fg31">-	&quot;fmt&quot;</span>
                                            <span class="term-fg31">-	&quot;os&quot;</span>
                                            <span class="term-fg31">-	&quot;os&#47;exec&quot;</span>
                                            <span class="term-fg31">-	&quot;path&#47;filepath&quot;</span>
                                            <span class="term-fg31">-	&quot;runtime&quot;</span>
                                            <span class="term-fg31">-	&quot;strings&quot;</span>
                                            <span class="term-fg31">-	&quot;testing&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-)</span>
                                            <span class="term-fg31">-</span>
                                            var bindTests = []struct {
                                            name     string
                                            contract string
                                            <span class="term-fg36">@@ -48,16 +36,16 @@</span> 		[]string{`606060405260068060106000396000f3606060405200`},
                                            []string{`[]`},
                                            `&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;`,
                                            `
                                            <span class="term-fg31">-			if b, err := NewEmpty(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;combined binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if b, err := NewEmptyCaller(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;caller binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if b, err := NewEmptyTransactor(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;transactor binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				if b, err := NewEmpty(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;combined binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if b, err := NewEmptyCaller(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;caller binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if b, err := NewEmptyTransactor(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;transactor binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -71,10 +59,10 @@</span> 		[]string{`60606040526040516107fd3803806107fd83398101604052805160805160a05160c051929391820192909101600160a060020a0333166000908152600360209081526040822086905581548551838052601f6002600019610100600186161502019093169290920482018390047f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56390810193919290918801908390106100e857805160ff19168380011785555b506101189291505b8082111561017157600081556001016100b4565b50506002805460ff19168317905550505050610658806101a56000396000f35b828001600101855582156100ac579182015b828111156100ac5782518260005055916020019190600101906100fa565b50508060016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061017557805160ff19168380011785555b506100c89291506100b4565b5090565b82800160010185558215610165579182015b8281111561016557825182600050559160200191906001019061018756606060405236156100775760e060020a600035046306fdde03811461007f57806323b872dd146100dc578063313ce5671461010e57806370a082311461011a57806395d89b4114610132578063a9059cbb1461018e578063cae9ca51146101bd578063dc3080f21461031c578063dd62ed3e14610341575b610365610002565b61036760008054602060026001831615610100026000190190921691909104601f810182900490910260809081016040526060828152929190828280156104eb5780601f106104c0576101008083540402835291602001916104eb565b6103d5600435602435604435600160a060020a038316600090815260036020526040812054829010156104f357610002565b6103e760025460ff1681565b6103d560043560036020526000908152604090205481565b610367600180546020600282841615610100026000190190921691909104601f810182900490910260809081016040526060828152929190828280156104eb5780601f106104c0576101008083540402835291602001916104eb565b610365600435602435600160a060020a033316600090815260036020526040902054819010156103f157610002565b60806020604435600481810135601f8101849004909302840160405260608381526103d5948235946024803595606494939101919081908382808284375094965050505050505060006000836004600050600033600160a060020a03168152602001908152602001600020600050600087600160a060020a031681526020019081526020016000206000508190555084905080600160a060020a0316638f4ffcb1338630876040518560e060020a0281526004018085600160a060020a0316815260200184815260200183600160a060020a03168152602001806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156102f25780820380516001836020036101000a031916815260200191505b50955050505050506000604051808303816000876161da5a03f11561000257505050509392505050565b6005602090815260043560009081526040808220909252602435815220546103d59081565b60046020818152903560009081526040808220909252602435815220546103d59081565b005b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156103c75780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60408051918252519081900360200190f35b6060908152602090f35b600160a060020a03821660009081526040902054808201101561041357610002565b806003600050600033600160a060020a03168152602001908152602001600020600082828250540392505081905550806003600050600084600160a060020a0316815260200190815260200160002060008282825054019250508190555081600160a060020a031633600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b820191906000526020600020905b8154815290600101906020018083116104ce57829003601f168201915b505050505081565b600160a060020a03831681526040812054808301101561051257610002565b600160a060020a0380851680835260046020908152604080852033949094168086529382528085205492855260058252808520938552929052908220548301111561055c57610002565b816003600050600086600160a060020a03168152602001908152602001600020600082828250540392505081905550816003600050600085600160a060020a03168152602001908152602001600020600082828250540192505081905550816005600050600086600160a060020a03168152602001908152602001600020600050600033600160a060020a0316815260200190815260200160002060008282825054019250508190555082600160a060020a031633600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3939250505056`},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;name&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;_from&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;_to&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;_value&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;transferFrom&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;success&quot;,&quot;type&quot;:&quot;bool&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;decimals&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint8&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;balanceOf&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;symbol&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;_to&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;_value&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;transfer&quot;,&quot;outputs&quot;:[],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;_spender&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;_value&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;_extraData&quot;,&quot;type&quot;:&quot;bytes&quot;}],&quot;name&quot;:&quot;approveAndCall&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;success&quot;,&quot;type&quot;:&quot;bool&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;spentAllowance&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;allowance&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[{&quot;name&quot;:&quot;initialSupply&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;tokenName&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;decimalUnits&quot;,&quot;type&quot;:&quot;uint8&quot;},{&quot;name&quot;:&quot;tokenSymbol&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;type&quot;:&quot;constructor&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:true,&quot;name&quot;:&quot;from&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;to&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;value&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;Transfer&quot;,&quot;type&quot;:&quot;event&quot;}]`},
                                            `&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;`,
                                            `
                                            <span class="term-fg31">-			if b, err := NewToken(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				if b, err := NewToken(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -87,10 +75,10 @@</span> 		[]string{`606060408190526007805460ff1916905560a0806105a883396101006040529051608051915160c05160e05160008054600160a060020a03199081169095178155670de0b6b3a7640000958602600155603c9093024201600355930260045560058054909216909217905561052f90819061007990396000f36060604052361561006c5760e060020a600035046301cb3b20811461008257806329dcb0cf1461014457806338af3eed1461014d5780636e66f6e91461015f5780637a3a0e84146101715780637b3e5e7b1461017a578063a035b1fe14610183578063dc0d3dff1461018c575b61020060075460009060ff161561032357610002565b61020060035460009042106103205760025460015490106103cb576002548154600160a060020a0316908290606082818181858883f150915460025460408051600160a060020a039390931683526020830191909152818101869052517fe842aea7a5f1b01049d752008c53c52890b1a6daf660cf39e8eec506112bbdf6945090819003909201919050a15b60405160008054600160a060020a039081169230909116319082818181858883f150506007805460ff1916600117905550505050565b6103a160035481565b6103ab600054600160a060020a031681565b6103ab600554600160a060020a031681565b6103a160015481565b6103a160025481565b6103a160045481565b6103be60043560068054829081101561000257506000526002027ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f8101547ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d409190910154600160a060020a03919091169082565b005b505050815481101561000257906000526020600020906002020160005060008201518160000160006101000a815481600160a060020a030219169083021790555060208201518160010160005055905050806002600082828250540192505081905550600560009054906101000a9004600160a060020a0316600160a060020a031663a9059cbb3360046000505484046040518360e060020a0281526004018083600160a060020a03168152602001828152602001925050506000604051808303816000876161da5a03f11561000257505060408051600160a060020a03331681526020810184905260018183015290517fe842aea7a5f1b01049d752008c53c52890b1a6daf660cf39e8eec506112bbdf692509081900360600190a15b50565b5060a0604052336060908152346080819052600680546001810180835592939282908280158290116102025760020281600202836000526020600020918201910161020291905b8082111561039d57805473ffffffffffffffffffffffffffffffffffffffff19168155600060019190910190815561036a565b5090565b6060908152602090f35b600160a060020a03166060908152602090f35b6060918252608052604090f35b5b60065481101561010e576006805482908110156100025760009182526002027ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f0190600680549254600160a060020a0316928490811015610002576002027ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d40015460405190915082818181858883f19350505050507fe842aea7a5f1b01049d752008c53c52890b1a6daf660cf39e8eec506112bbdf660066000508281548110156100025760008290526002027ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f01548154600160a060020a039190911691908490811015610002576002027ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d40015460408051600160a060020a0394909416845260208401919091526000838201525191829003606001919050a16001016103cc56`},
                                            []string{`[{&quot;constant&quot;:false,&quot;inputs&quot;:[],&quot;name&quot;:&quot;checkGoalReached&quot;,&quot;outputs&quot;:[],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;deadline&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;beneficiary&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;tokenReward&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;fundingGoal&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;amountRaised&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;price&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;funders&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[{&quot;name&quot;:&quot;ifSuccessfulSendTo&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;fundingGoalInEthers&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;durationInMinutes&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;etherCostOfEachToken&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;addressOfTokenUsedAsReward&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;type&quot;:&quot;constructor&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;name&quot;:&quot;backer&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;isContribution&quot;,&quot;type&quot;:&quot;bool&quot;}],&quot;name&quot;:&quot;FundTransfer&quot;,&quot;type&quot;:&quot;event&quot;}]`},
                                            `&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;`,
                                            `
                                            <span class="term-fg31">-			if b, err := NewCrowdsale(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				if b, err := NewCrowdsale(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -103,10 +91,10 @@</span> 		[]string{`606060405260405160808061145f833960e06040529051905160a05160c05160008054600160a060020a03191633179055600184815560028490556003839055600780549182018082558280158290116100b8576003028160030283600052602060002091820191016100b891906101c8565b50506060919091015160029190910155600160a060020a0381166000146100a65760008054600160a060020a031916821790555b505050506111f18061026e6000396000f35b505060408051608081018252600080825260208281018290528351908101845281815292820192909252426060820152600780549194509250811015610002579081527fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c6889050815181546020848101517401000000000000000000000000000000000000000002600160a060020a03199290921690921760a060020a60ff021916178255604083015180516001848101805460008281528690209195600293821615610100026000190190911692909204601f9081018390048201949192919091019083901061023e57805160ff19168380011785555b50610072929150610226565b5050600060028201556001015b8082111561023a578054600160a860020a031916815560018181018054600080835592600290821615610100026000190190911604601f81901061020c57506101bb565b601f0160209004906000526020600020908101906101bb91905b8082111561023a5760008155600101610226565b5090565b828001600101855582156101af579182015b828111156101af57825182600050559160200191906001019061025056606060405236156100b95760e060020a6000350463013cf08b81146100bb578063237e9492146101285780633910682114610281578063400e3949146102995780635daf08ca146102a257806369bd34361461032f5780638160f0b5146103385780638da5cb5b146103415780639644fcbd14610353578063aa02a90f146103be578063b1050da5146103c7578063bcca1fd3146104b5578063d3c0715b146104dc578063eceb29451461058d578063f2fde38b1461067b575b005b61069c6004356004805482908110156100025790600052602060002090600a02016000506005810154815460018301546003840154600485015460068601546007870154600160a060020a03959095169750929560020194919360ff828116946101009093041692919089565b60408051602060248035600481810135601f81018590048502860185019096528585526107759581359591946044949293909201918190840183828082843750949650505050505050600060006004600050848154811015610002575090527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19e600a8402908101547f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b909101904210806101e65750600481015460ff165b8061026757508060000160009054906101000a9004600160a060020a03168160010160005054846040518084600160a060020a0316606060020a0281526014018381526020018280519060200190808383829060006004602084601f0104600f02600301f15090500193505050506040518091039020816007016000505414155b8061027757506001546005820154105b1561109257610002565b61077560043560066020526000908152604090205481565b61077560055481565b61078760043560078054829081101561000257506000526003026000805160206111d18339815191528101547fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68a820154600160a060020a0382169260a060020a90920460ff16917fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c689019084565b61077560025481565b61077560015481565b610830600054600160a060020a031681565b604080516020604435600481810135601f81018490048402850184019095528484526100b9948135946024803595939460649492939101918190840183828082843750949650505050505050600080548190600160a060020a03908116339091161461084d57610002565b61077560035481565b604080516020604435600481810135601f8101849004840285018401909552848452610775948135946024803595939460649492939101918190840183828082843750506040805160209735808a0135601f81018a90048a0283018a019093528282529698976084979196506024909101945090925082915084018382808284375094965050505050505033600160a060020a031660009081526006602052604081205481908114806104ab5750604081205460078054909190811015610002579082526003026000805160206111d1833981519152015460a060020a900460ff16155b15610ce557610002565b6100b960043560243560443560005433600160a060020a03908116911614610b1857610002565b604080516020604435600481810135601f810184900484028501840190955284845261077594813594602480359593946064949293910191819084018382808284375094965050505050505033600160a060020a031660009081526006602052604081205481908114806105835750604081205460078054909190811015610002579082526003026000805160206111d18339815191520181505460a060020a900460ff16155b15610f1d57610002565b604080516020606435600481810135601f81018490048402850184019095528484526107759481359460248035956044359560849492019190819084018382808284375094965050505050505060006000600460005086815481101561000257908252600a027f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01815090508484846040518084600160a060020a0316606060020a0281526014018381526020018280519060200190808383829060006004602084601f0104600f02600301f150905001935050505060405180910390208160070160005054149150610cdc565b6100b960043560005433600160a060020a03908116911614610f0857610002565b604051808a600160a060020a031681526020018981526020018060200188815260200187815260200186815260200185815260200184815260200183815260200182810382528981815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561075e5780601f106107335761010080835404028352916020019161075e565b820191906000526020600020905b81548152906001019060200180831161074157829003601f168201915b50509a505050505050505050505060405180910390f35b60408051918252519081900360200190f35b60408051600160a060020a038616815260208101859052606081018390526080918101828152845460026001821615610100026000190190911604928201839052909160a08301908590801561081e5780601f106107f35761010080835404028352916020019161081e565b820191906000526020600020905b81548152906001019060200180831161080157829003601f168201915b50509550505050505060405180910390f35b60408051600160a060020a03929092168252519081900360200190f35b600160a060020a03851660009081526006602052604081205414156108a957604060002060078054918290556001820180825582801582901161095c5760030281600302836000526020600020918201910161095c9190610a4f565b600160a060020a03851660009081526006602052604090205460078054919350908390811015610002575060005250600381026000805160206111d183398151915201805474ff0000000000000000000000000000000000000000191660a060020a85021781555b60408051600160a060020a03871681526020810186905281517f27b022af4a8347100c7a041ce5ccf8e14d644ff05de696315196faae8cd50c9b929181900390910190a15050505050565b505050915081506080604051908101604052808681526020018581526020018481526020014281526020015060076000508381548110156100025790600052602060002090600302016000508151815460208481015160a060020a02600160a060020a03199290921690921774ff00000000000000000000000000000000000000001916178255604083015180516001848101805460008281528690209195600293821615610100026000190190911692909204601f90810183900482019491929190910190839010610ad357805160ff19168380011785555b50610b03929150610abb565b5050600060028201556001015b80821115610acf57805474ffffffffffffffffffffffffffffffffffffffffff1916815560018181018054600080835592600290821615610100026000190190911604601f819010610aa15750610a42565b601f016020900490600052602060002090810190610a4291905b80821115610acf5760008155600101610abb565b5090565b82800160010185558215610a36579182015b82811115610a36578251826000505591602001919060010190610ae5565b50506060919091015160029190910155610911565b600183905560028290556003819055604080518481526020810184905280820183905290517fa439d3fa452be5e0e1e24a8145e715f4fd8b9c08c96a42fd82a855a85e5d57de9181900360600190a1505050565b50508585846040518084600160a060020a0316606060020a0281526014018381526020018280519060200190808383829060006004602084601f0104600f02600301f150905001935050505060405180910390208160070160005081905550600260005054603c024201816003016000508190555060008160040160006101000a81548160ff0219169083021790555060008160040160016101000a81548160ff02191690830217905550600081600501600050819055507f646fec02522b41e7125cfc859a64fd4f4cefd5dc3b6237ca0abe251ded1fa881828787876040518085815260200184600160a060020a03168152602001838152602001806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610cc45780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a1600182016005555b50949350505050565b6004805460018101808355909190828015829011610d1c57600a0281600a028360005260206000209182019101610d1c9190610db8565b505060048054929450918491508110156100025790600052602060002090600a02016000508054600160a060020a031916871781556001818101879055855160028381018054600082815260209081902096975091959481161561010002600019011691909104601f90810182900484019391890190839010610ed857805160ff19168380011785555b50610b6c929150610abb565b50506001015b80821115610acf578054600160a060020a03191681556000600182810182905560028381018054848255909281161561010002600019011604601f819010610e9c57505b5060006003830181905560048301805461ffff191690556005830181905560068301819055600783018190556008830180548282559082526020909120610db2916002028101905b80821115610acf57805474ffffffffffffffffffffffffffffffffffffffffff1916815560018181018054600080835592600290821615610100026000190190911604601f819010610eba57505b5050600101610e44565b601f016020900490600052602060002090810190610dfc9190610abb565b601f016020900490600052602060002090810190610e929190610abb565b82800160010185558215610da6579182015b82811115610da6578251826000505591602001919060010190610eea565b60008054600160a060020a0319168217905550565b600480548690811015610002576000918252600a027f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01905033600160a060020a0316600090815260098201602052604090205490915060ff1660011415610f8457610002565b33600160a060020a031660009081526009820160205260409020805460ff1916600190811790915560058201805490910190558315610fcd576006810180546001019055610fda565b6006810180546000190190555b7fc34f869b7ff431b034b7b9aea9822dac189a685e0b015c7d1be3add3f89128e8858533866040518085815260200184815260200183600160a060020a03168152602001806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561107a5780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a1509392505050565b6006810154600354901315611158578060000160009054906101000a9004600160a060020a0316600160a060020a03168160010160005054670de0b6b3a76400000284604051808280519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156111225780820380516001836020036101000a031916815260200191505b5091505060006040518083038185876185025a03f15050505060048101805460ff191660011761ff00191661010017905561116d565b60048101805460ff191660011761ff00191690555b60068101546005820154600483015460408051888152602081019490945283810192909252610100900460ff166060830152517fd220b7272a8b6d0d7d6bcdace67b936a8f175e6d5c1b3ee438b72256b32ab3af9181900360800190a1509291505056a66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c688`},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;proposals&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;recipient&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;votingDeadline&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;executed&quot;,&quot;type&quot;:&quot;bool&quot;},{&quot;name&quot;:&quot;proposalPassed&quot;,&quot;type&quot;:&quot;bool&quot;},{&quot;name&quot;:&quot;numberOfVotes&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;currentResult&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;proposalHash&quot;,&quot;type&quot;:&quot;bytes32&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;proposalNumber&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;transactionBytecode&quot;,&quot;type&quot;:&quot;bytes&quot;}],&quot;name&quot;:&quot;executeProposal&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;result&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;memberId&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;numProposals&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;members&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;member&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;canVote&quot;,&quot;type&quot;:&quot;bool&quot;},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;memberSince&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;debatingPeriodInMinutes&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;minimumQuorum&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;owner&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;targetMember&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;canVote&quot;,&quot;type&quot;:&quot;bool&quot;},{&quot;name&quot;:&quot;memberName&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;name&quot;:&quot;changeMembership&quot;,&quot;outputs&quot;:[],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;majorityMargin&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;beneficiary&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;etherAmount&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;JobDescription&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;transactionBytecode&quot;,&quot;type&quot;:&quot;bytes&quot;}],&quot;name&quot;:&quot;newProposal&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;proposalID&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;minimumQuorumForProposals&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;minutesForDebate&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;marginOfVotesForMajority&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;name&quot;:&quot;changeVotingRules&quot;,&quot;outputs&quot;:[],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;proposalNumber&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;supportsProposal&quot;,&quot;type&quot;:&quot;bool&quot;},{&quot;name&quot;:&quot;justificationText&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;name&quot;:&quot;vote&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;voteID&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;proposalNumber&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;beneficiary&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;etherAmount&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;transactionBytecode&quot;,&quot;type&quot;:&quot;bytes&quot;}],&quot;name&quot;:&quot;checkProposalCode&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;codeChecksOut&quot;,&quot;type&quot;:&quot;bool&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;newOwner&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;transferOwnership&quot;,&quot;outputs&quot;:[],&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[{&quot;name&quot;:&quot;minimumQuorumForProposals&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;minutesForDebate&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;marginOfVotesForMajority&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;congressLeader&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;type&quot;:&quot;constructor&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;name&quot;:&quot;proposalID&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;recipient&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;description&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;name&quot;:&quot;ProposalAdded&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;name&quot;:&quot;proposalID&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;position&quot;,&quot;type&quot;:&quot;bool&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;voter&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;justification&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;name&quot;:&quot;Voted&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;name&quot;:&quot;proposalID&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;result&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;quorum&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;active&quot;,&quot;type&quot;:&quot;bool&quot;}],&quot;name&quot;:&quot;ProposalTallied&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;name&quot;:&quot;member&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;isMember&quot;,&quot;type&quot;:&quot;bool&quot;}],&quot;name&quot;:&quot;MembershipChanged&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;name&quot;:&quot;minimumQuorum&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;debatingPeriodInMinutes&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;majorityMargin&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;name&quot;:&quot;ChangeOfRules&quot;,&quot;type&quot;:&quot;event&quot;}]`},
                                            `&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;`,
                                            `
                                            <span class="term-fg31">-			if b, err := NewDAO(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				if b, err := NewDAO(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -116,34 +104,34 @@</span> 	&#47;&#47; Test that named and anonymous inputs are handled correctly
                                            {
                                            `InputChecker`, ``, []string{``},
                                            []string{`
                                            <span class="term-fg31">-			[</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;noInput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;namedInput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;anonInput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;namedInputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;str1&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;str2&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;anonInputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;mixedInputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]}</span>
                                            <span class="term-fg31">-			]</span>
                                            <span class="term-fg31">-		`},</span>
                                            <span class="term-fg32">+				[</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;noInput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;namedInput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;anonInput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;namedInputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;str1&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;str2&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;anonInputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;mixedInputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;outputs&quot;:[]}</span>
                                            <span class="term-fg32">+				]</span>
                                            <span class="term-fg32">+			`},</span>
                                            `
                                            <span class="term-fg31">-			&quot;fmt&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;fmt&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `if b, err := NewInputChecker(common.Address{}, nil); b == nil || err != nil {
                                            <span class="term-fg31">-			 t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-		 } else if false { &#47;&#47; Don&#39;t run, just compile and test types</span>
                                            <span class="term-fg31">-			 var err error</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 err = b.NoInput(nil)</span>
                                            <span class="term-fg31">-			 err = b.NamedInput(nil, &quot;&quot;)</span>
                                            <span class="term-fg31">-			 err = b.AnonInput(nil, &quot;&quot;)</span>
                                            <span class="term-fg31">-			 err = b.NamedInputs(nil, &quot;&quot;, &quot;&quot;)</span>
                                            <span class="term-fg31">-			 err = b.AnonInputs(nil, &quot;&quot;, &quot;&quot;)</span>
                                            <span class="term-fg31">-			 err = b.MixedInputs(nil, &quot;&quot;, &quot;&quot;)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 fmt.Println(err)</span>
                                            <span class="term-fg31">-		 }`,</span>
                                            <span class="term-fg32">+				 t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+			 } else if false { &#47;&#47; Don&#39;t run, just compile and test types</span>
                                            <span class="term-fg32">+				 var err error</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 err = b.NoInput(nil)</span>
                                            <span class="term-fg32">+				 err = b.NamedInput(nil, &quot;&quot;)</span>
                                            <span class="term-fg32">+				 err = b.AnonInput(nil, &quot;&quot;)</span>
                                            <span class="term-fg32">+				 err = b.NamedInputs(nil, &quot;&quot;, &quot;&quot;)</span>
                                            <span class="term-fg32">+				 err = b.AnonInputs(nil, &quot;&quot;, &quot;&quot;)</span>
                                            <span class="term-fg32">+				 err = b.MixedInputs(nil, &quot;&quot;, &quot;&quot;)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 fmt.Println(err)</span>
                                            <span class="term-fg32">+			 }`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -153,37 +141,37 @@</span> 	&#47;&#47; Test that named and anonymous outputs are handled correctly
                                            {
                                            `OutputChecker`, ``, []string{``},
                                            []string{`
                                            <span class="term-fg31">-			[</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;noOutput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;namedOutput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;anonOutput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;namedOutputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;str1&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;str2&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;collidingOutputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;Str&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;anonOutputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;mixedOutputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}]}</span>
                                            <span class="term-fg31">-			]</span>
                                            <span class="term-fg31">-		`},</span>
                                            <span class="term-fg32">+				[</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;noOutput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;namedOutput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;anonOutput&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;namedOutputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;str1&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;str2&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;collidingOutputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;Str&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;anonOutputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;function&quot;,&quot;name&quot;:&quot;mixedOutputs&quot;,&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}]}</span>
                                            <span class="term-fg32">+				]</span>
                                            <span class="term-fg32">+			`},</span>
                                            `
                                            <span class="term-fg31">-			&quot;fmt&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;fmt&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `if b, err := NewOutputChecker(common.Address{}, nil); b == nil || err != nil {
                                            <span class="term-fg31">-			 t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-		 } else if false { &#47;&#47; Don&#39;t run, just compile and test types</span>
                                            <span class="term-fg31">-			 var str1, str2 string</span>
                                            <span class="term-fg31">-			 var err error</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 err              = b.NoOutput(nil)</span>
                                            <span class="term-fg31">-			 str1, err        = b.NamedOutput(nil)</span>
                                            <span class="term-fg31">-			 str1, err        = b.AnonOutput(nil)</span>
                                            <span class="term-fg31">-			 res, _          := b.NamedOutputs(nil)</span>
                                            <span class="term-fg31">-			 str1, str2, err  = b.CollidingOutputs(nil)</span>
                                            <span class="term-fg31">-			 str1, str2, err  = b.AnonOutputs(nil)</span>
                                            <span class="term-fg31">-			 str1, str2, err  = b.MixedOutputs(nil)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 fmt.Println(str1, str2, res.Str1, res.Str2, err)</span>
                                            <span class="term-fg31">-		 }`,</span>
                                            <span class="term-fg32">+				 t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+			 } else if false { &#47;&#47; Don&#39;t run, just compile and test types</span>
                                            <span class="term-fg32">+				 var str1, str2 string</span>
                                            <span class="term-fg32">+				 var err error</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 err              = b.NoOutput(nil)</span>
                                            <span class="term-fg32">+				 str1, err        = b.NamedOutput(nil)</span>
                                            <span class="term-fg32">+				 str1, err        = b.AnonOutput(nil)</span>
                                            <span class="term-fg32">+				 res, _          := b.NamedOutputs(nil)</span>
                                            <span class="term-fg32">+				 str1, str2, err  = b.CollidingOutputs(nil)</span>
                                            <span class="term-fg32">+				 str1, str2, err  = b.AnonOutputs(nil)</span>
                                            <span class="term-fg32">+				 str1, str2, err  = b.MixedOutputs(nil)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 fmt.Println(str1, str2, res.Str1, res.Str2, err)</span>
                                            <span class="term-fg32">+			 }`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -193,73 +181,73 @@</span> 	&#47;&#47; Tests that named, anonymous and indexed events are handled correctly
                                            {
                                            `EventChecker`, ``, []string{``},
                                            []string{`
                                            <span class="term-fg31">-			[</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;empty&quot;,&quot;inputs&quot;:[]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;indexed&quot;,&quot;inputs&quot;:[{&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;,&quot;indexed&quot;:true},{&quot;name&quot;:&quot;num&quot;,&quot;type&quot;:&quot;int256&quot;,&quot;indexed&quot;:true}]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;mixed&quot;,&quot;inputs&quot;:[{&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;,&quot;indexed&quot;:true},{&quot;name&quot;:&quot;num&quot;,&quot;type&quot;:&quot;int256&quot;}]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;anonymous&quot;,&quot;anonymous&quot;:true,&quot;inputs&quot;:[]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;dynamic&quot;,&quot;inputs&quot;:[{&quot;name&quot;:&quot;idxStr&quot;,&quot;type&quot;:&quot;string&quot;,&quot;indexed&quot;:true},{&quot;name&quot;:&quot;idxDat&quot;,&quot;type&quot;:&quot;bytes&quot;,&quot;indexed&quot;:true},{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;dat&quot;,&quot;type&quot;:&quot;bytes&quot;}]},</span>
                                            <span class="term-fg31">-				{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;unnamed&quot;,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;,&quot;indexed&quot;: true},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;,&quot;indexed&quot;:true}]}</span>
                                            <span class="term-fg31">-			]</span>
                                            <span class="term-fg31">-		`},</span>
                                            <span class="term-fg32">+				[</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;empty&quot;,&quot;inputs&quot;:[]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;indexed&quot;,&quot;inputs&quot;:[{&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;,&quot;indexed&quot;:true},{&quot;name&quot;:&quot;num&quot;,&quot;type&quot;:&quot;int256&quot;,&quot;indexed&quot;:true}]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;mixed&quot;,&quot;inputs&quot;:[{&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;,&quot;indexed&quot;:true},{&quot;name&quot;:&quot;num&quot;,&quot;type&quot;:&quot;int256&quot;}]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;anonymous&quot;,&quot;anonymous&quot;:true,&quot;inputs&quot;:[]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;dynamic&quot;,&quot;inputs&quot;:[{&quot;name&quot;:&quot;idxStr&quot;,&quot;type&quot;:&quot;string&quot;,&quot;indexed&quot;:true},{&quot;name&quot;:&quot;idxDat&quot;,&quot;type&quot;:&quot;bytes&quot;,&quot;indexed&quot;:true},{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;dat&quot;,&quot;type&quot;:&quot;bytes&quot;}]},</span>
                                            <span class="term-fg32">+					{&quot;type&quot;:&quot;event&quot;,&quot;name&quot;:&quot;unnamed&quot;,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;,&quot;indexed&quot;: true},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;,&quot;indexed&quot;:true}]}</span>
                                            <span class="term-fg32">+				]</span>
                                            <span class="term-fg32">+			`},</span>
                                            `
                                            <span class="term-fg31">-			&quot;fmt&quot;</span>
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-			&quot;reflect&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;fmt&quot;</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+				&quot;reflect&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `if e, err := NewEventChecker(common.Address{}, nil); e == nil || err != nil {
                                            <span class="term-fg31">-			 t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, e, nil)</span>
                                            <span class="term-fg31">-		 } else if false { &#47;&#47; Don&#39;t run, just compile and test types</span>
                                            <span class="term-fg31">-			 var (</span>
                                            <span class="term-fg31">-				 err  error</span>
                                            <span class="term-fg31">-			   res  bool</span>
                                            <span class="term-fg31">-				 str  string</span>
                                            <span class="term-fg31">-				 dat  []byte</span>
                                            <span class="term-fg31">-				 hash common.Hash</span>
                                            <span class="term-fg31">-			 )</span>
                                            <span class="term-fg31">-			 _, err = e.FilterEmpty(nil)</span>
                                            <span class="term-fg31">-			 _, err = e.FilterIndexed(nil, []common.Address{}, []*big.Int{})</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 mit, err := e.FilterMixed(nil, []common.Address{})</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 res = mit.Next()  &#47;&#47; Make sure the iterator has a Next method</span>
                                            <span class="term-fg31">-			 err = mit.Error() &#47;&#47; Make sure the iterator has an Error method</span>
                                            <span class="term-fg31">-			 err = mit.Close() &#47;&#47; Make sure the iterator has a Close method</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 fmt.Println(mit.Event.Raw.BlockHash) &#47;&#47; Make sure the raw log is contained within the results</span>
                                            <span class="term-fg31">-			 fmt.Println(mit.Event.Num)           &#47;&#47; Make sure the unpacked non-indexed fields are present</span>
                                            <span class="term-fg31">-			 fmt.Println(mit.Event.Addr)          &#47;&#47; Make sure the reconstructed indexed fields are present</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 dit, err := e.FilterDynamic(nil, []string{}, [][]byte{})</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 str  = dit.Event.Str    &#47;&#47; Make sure non-indexed strings retain their type</span>
                                            <span class="term-fg31">-			 dat  = dit.Event.Dat    &#47;&#47; Make sure non-indexed bytes retain their type</span>
                                            <span class="term-fg31">-			 hash = dit.Event.IdxStr &#47;&#47; Make sure indexed strings turn into hashes</span>
                                            <span class="term-fg31">-			 hash = dit.Event.IdxDat &#47;&#47; Make sure indexed bytes turn into hashes</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 sink := make(chan *EventCheckerMixed)</span>
                                            <span class="term-fg31">-			 sub, err := e.WatchMixed(nil, sink, []common.Address{})</span>
                                            <span class="term-fg31">-			 defer sub.Unsubscribe()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 event := &lt;-sink</span>
                                            <span class="term-fg31">-			 fmt.Println(event.Raw.BlockHash) &#47;&#47; Make sure the raw log is contained within the results</span>
                                            <span class="term-fg31">-			 fmt.Println(event.Num)           &#47;&#47; Make sure the unpacked non-indexed fields are present</span>
                                            <span class="term-fg31">-			 fmt.Println(event.Addr)          &#47;&#47; Make sure the reconstructed indexed fields are present</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 fmt.Println(res, str, dat, hash, err)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 oit, err := e.FilterUnnamed(nil, []*big.Int{}, []*big.Int{})</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			 arg0  := oit.Event.Arg0    &#47;&#47; Make sure unnamed arguments are handled correctly</span>
                                            <span class="term-fg31">-			 arg1  := oit.Event.Arg1    &#47;&#47; Make sure unnamed arguments are handled correctly</span>
                                            <span class="term-fg31">-			 fmt.Println(arg0, arg1)</span>
                                            <span class="term-fg31">-		 }</span>
                                            <span class="term-fg31">-		 &#47;&#47; Run a tiny reflection test to ensure disallowed methods don&#39;t appear</span>
                                            <span class="term-fg31">-		 if _, ok := reflect.TypeOf(&amp;EventChecker{}).MethodByName(&quot;FilterAnonymous&quot;); ok {</span>
                                            <span class="term-fg31">-		 	t.Errorf(&quot;binding has disallowed method (FilterAnonymous)&quot;)</span>
                                            <span class="term-fg31">-		 }`,</span>
                                            <span class="term-fg32">+				 t.Fatalf(&quot;binding (%v) nil or error (%v) not nil&quot;, e, nil)</span>
                                            <span class="term-fg32">+			 } else if false { &#47;&#47; Don&#39;t run, just compile and test types</span>
                                            <span class="term-fg32">+				 var (</span>
                                            <span class="term-fg32">+					 err  error</span>
                                            <span class="term-fg32">+				   res  bool</span>
                                            <span class="term-fg32">+					 str  string</span>
                                            <span class="term-fg32">+					 dat  []byte</span>
                                            <span class="term-fg32">+					 hash common.Hash</span>
                                            <span class="term-fg32">+				 )</span>
                                            <span class="term-fg32">+				 _, err = e.FilterEmpty(nil)</span>
                                            <span class="term-fg32">+				 _, err = e.FilterIndexed(nil, []common.Address{}, []*big.Int{})</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 mit, err := e.FilterMixed(nil, []common.Address{})</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 res = mit.Next()  &#47;&#47; Make sure the iterator has a Next method</span>
                                            <span class="term-fg32">+				 err = mit.Error() &#47;&#47; Make sure the iterator has an Error method</span>
                                            <span class="term-fg32">+				 err = mit.Close() &#47;&#47; Make sure the iterator has a Close method</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 fmt.Println(mit.Event.Raw.BlockHash) &#47;&#47; Make sure the raw log is contained within the results</span>
                                            <span class="term-fg32">+				 fmt.Println(mit.Event.Num)           &#47;&#47; Make sure the unpacked non-indexed fields are present</span>
                                            <span class="term-fg32">+				 fmt.Println(mit.Event.Addr)          &#47;&#47; Make sure the reconstructed indexed fields are present</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 dit, err := e.FilterDynamic(nil, []string{}, [][]byte{})</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 str  = dit.Event.Str    &#47;&#47; Make sure non-indexed strings retain their type</span>
                                            <span class="term-fg32">+				 dat  = dit.Event.Dat    &#47;&#47; Make sure non-indexed bytes retain their type</span>
                                            <span class="term-fg32">+				 hash = dit.Event.IdxStr &#47;&#47; Make sure indexed strings turn into hashes</span>
                                            <span class="term-fg32">+				 hash = dit.Event.IdxDat &#47;&#47; Make sure indexed bytes turn into hashes</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 sink := make(chan *EventCheckerMixed)</span>
                                            <span class="term-fg32">+				 sub, err := e.WatchMixed(nil, sink, []common.Address{})</span>
                                            <span class="term-fg32">+				 defer sub.Unsubscribe()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 event := &lt;-sink</span>
                                            <span class="term-fg32">+				 fmt.Println(event.Raw.BlockHash) &#47;&#47; Make sure the raw log is contained within the results</span>
                                            <span class="term-fg32">+				 fmt.Println(event.Num)           &#47;&#47; Make sure the unpacked non-indexed fields are present</span>
                                            <span class="term-fg32">+				 fmt.Println(event.Addr)          &#47;&#47; Make sure the reconstructed indexed fields are present</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 fmt.Println(res, str, dat, hash, err)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 oit, err := e.FilterUnnamed(nil, []*big.Int{}, []*big.Int{})</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				 arg0  := oit.Event.Arg0    &#47;&#47; Make sure unnamed arguments are handled correctly</span>
                                            <span class="term-fg32">+				 arg1  := oit.Event.Arg1    &#47;&#47; Make sure unnamed arguments are handled correctly</span>
                                            <span class="term-fg32">+				 fmt.Println(arg0, arg1)</span>
                                            <span class="term-fg32">+			 }</span>
                                            <span class="term-fg32">+			 &#47;&#47; Run a tiny reflection test to ensure disallowed methods don&#39;t appear</span>
                                            <span class="term-fg32">+			 if _, ok := reflect.TypeOf(&amp;EventChecker{}).MethodByName(&quot;FilterAnonymous&quot;); ok {</span>
                                            <span class="term-fg32">+			 	t.Errorf(&quot;binding has disallowed method (FilterAnonymous)&quot;)</span>
                                            <span class="term-fg32">+			 }`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -269,60 +257,60 @@</span> 	&#47;&#47; Test that contract interactions (deploy, transact and call) generate working code
                                            {
                                            `Interactor`,
                                            `
                                            <span class="term-fg31">-			contract Interactor {</span>
                                            <span class="term-fg31">-				string public deployString;</span>
                                            <span class="term-fg31">-				string public transactString;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-				function Interactor(string str) {</span>
                                            <span class="term-fg31">-				  deployString = str;</span>
                                            <span class="term-fg32">+				contract Interactor {</span>
                                            <span class="term-fg32">+					string public deployString;</span>
                                            <span class="term-fg32">+					string public transactString;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					function Interactor(string str) {</span>
                                            <span class="term-fg32">+					  deployString = str;</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					function transact(string str) {</span>
                                            <span class="term-fg32">+					  transactString = str;</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-				function transact(string str) {</span>
                                            <span class="term-fg31">-				  transactString = str;</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`6060604052604051610328380380610328833981016040528051018060006000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10608d57805160ff19168380011785555b50607c9291505b8082111560ba57838155600101606b565b50505061026a806100be6000396000f35b828001600101855582156064579182015b828111156064578251826000505591602001919060010190609e565b509056606060405260e060020a60003504630d86a0e181146100315780636874e8091461008d578063d736c513146100ea575b005b610190600180546020600282841615610100026000190190921691909104601f810182900490910260809081016040526060828152929190828280156102295780601f106101fe57610100808354040283529160200191610229565b61019060008054602060026001831615610100026000190190921691909104601f810182900490910260809081016040526060828152929190828280156102295780601f106101fe57610100808354040283529160200191610229565b60206004803580820135601f81018490049093026080908101604052606084815261002f946024939192918401918190838280828437509496505050505050508060016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061023157805160ff19168380011785555b506102619291505b808211156102665760008155830161017d565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156101f05780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b820191906000526020600020905b81548152906001019060200180831161020c57829003601f168201915b505050505081565b82800160010185558215610175579182015b82811115610175578251826000505591602001919060010190610243565b505050565b509056`},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;transactString&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;deployString&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;name&quot;:&quot;transact&quot;,&quot;outputs&quot;:[],&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;type&quot;:&quot;constructor&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy an interaction tester contract and call a transaction on it</span>
                                            <span class="term-fg31">-			_, _, interactor, err := DeployInteractor(auth, sim, &quot;Deploy string&quot;)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy interactor contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-			if _, err := interactor.Transact(auth, &quot;Transact string&quot;); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to transact with interactor contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Commit all pending transactions in the simulator and check the contract state</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if str, err := interactor.DeployString(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to retrieve deploy string: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if str != &quot;Deploy string&quot; {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Deploy string mismatch: have &#39;%s&#39;, want &#39;Deploy string&#39;&quot;, str)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if str, err := interactor.TransactString(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to retrieve transact string: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if str != &quot;Transact string&quot; {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Transact string mismatch: have &#39;%s&#39;, want &#39;Transact string&#39;&quot;, str)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy an interaction tester contract and call a transaction on it</span>
                                            <span class="term-fg32">+				_, _, interactor, err := DeployInteractor(auth, sim, &quot;Deploy string&quot;)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy interactor contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+				if _, err := interactor.Transact(auth, &quot;Transact string&quot;); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to transact with interactor contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Commit all pending transactions in the simulator and check the contract state</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if str, err := interactor.DeployString(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to retrieve deploy string: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if str != &quot;Deploy string&quot; {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Deploy string mismatch: have &#39;%s&#39;, want &#39;Deploy string&#39;&quot;, str)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if str, err := interactor.TransactString(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to retrieve transact string: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if str != &quot;Transact string&quot; {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Transact string mismatch: have &#39;%s&#39;, want &#39;Transact string&#39;&quot;, str)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -332,43 +320,43 @@</span> 	&#47;&#47; Tests that plain values can be properly returned and deserialized
                                            {
                                            `Getter`,
                                            `
                                            <span class="term-fg31">-			contract Getter {</span>
                                            <span class="term-fg31">-				function getter() constant returns (string, int, bytes32) {</span>
                                            <span class="term-fg31">-					return (&quot;Hi&quot;, 1, sha3(&quot;&quot;));</span>
                                            <span class="term-fg32">+				contract Getter {</span>
                                            <span class="term-fg32">+					function getter() constant returns (string, int, bytes32) {</span>
                                            <span class="term-fg32">+						return (&quot;Hi&quot;, 1, sha3(&quot;&quot;));</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`606060405260dc8060106000396000f3606060405260e060020a6000350463993a04b78114601a575b005b600060605260c0604052600260809081527f486900000000000000000000000000000000000000000000000000000000000060a05260017fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a47060e0829052610100819052606060c0908152600261012081905281906101409060a09080838184600060046012f1505081517fffff000000000000000000000000000000000000000000000000000000000000169091525050604051610160819003945092505050f3`},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;getter&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;bytes32&quot;}],&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a tuple tester contract and execute a structured call on it</span>
                                            <span class="term-fg31">-			_, _, getter, err := DeployGetter(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy getter contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if str, num, _, err := getter.Getter(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to call anonymous field retriever: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if str != &quot;Hi&quot; || num.Cmp(big.NewInt(1)) != 0 {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Retrieved value mismatch: have %v&#47;%v, want %v&#47;%v&quot;, str, num, &quot;Hi&quot;, 1)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a tuple tester contract and execute a structured call on it</span>
                                            <span class="term-fg32">+				_, _, getter, err := DeployGetter(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy getter contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if str, num, _, err := getter.Getter(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to call anonymous field retriever: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if str != &quot;Hi&quot; || num.Cmp(big.NewInt(1)) != 0 {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Retrieved value mismatch: have %v&#47;%v, want %v&#47;%v&quot;, str, num, &quot;Hi&quot;, 1)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -378,43 +366,43 @@</span> 	&#47;&#47; Tests that tuples can be properly returned and deserialized
                                            {
                                            `Tupler`,
                                            `
                                            <span class="term-fg31">-			contract Tupler {</span>
                                            <span class="term-fg31">-				function tuple() constant returns (string a, int b, bytes32 c) {</span>
                                            <span class="term-fg31">-					return (&quot;Hi&quot;, 1, sha3(&quot;&quot;));</span>
                                            <span class="term-fg32">+				contract Tupler {</span>
                                            <span class="term-fg32">+					function tuple() constant returns (string a, int b, bytes32 c) {</span>
                                            <span class="term-fg32">+						return (&quot;Hi&quot;, 1, sha3(&quot;&quot;));</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`606060405260dc8060106000396000f3606060405260e060020a60003504633175aae28114601a575b005b600060605260c0604052600260809081527f486900000000000000000000000000000000000000000000000000000000000060a05260017fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a47060e0829052610100819052606060c0908152600261012081905281906101409060a09080838184600060046012f1505081517fffff000000000000000000000000000000000000000000000000000000000000169091525050604051610160819003945092505050f3`},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;tuple&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;bytes32&quot;}],&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a tuple tester contract and execute a structured call on it</span>
                                            <span class="term-fg31">-			_, _, tupler, err := DeployTupler(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy tupler contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if res, err := tupler.Tuple(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to call structure retriever: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if res.A != &quot;Hi&quot; || res.B.Cmp(big.NewInt(1)) != 0 {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Retrieved value mismatch: have %v&#47;%v, want %v&#47;%v&quot;, res.A, res.B, &quot;Hi&quot;, 1)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a tuple tester contract and execute a structured call on it</span>
                                            <span class="term-fg32">+				_, _, tupler, err := DeployTupler(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy tupler contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if res, err := tupler.Tuple(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to call structure retriever: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if res.A != &quot;Hi&quot; || res.B.Cmp(big.NewInt(1)) != 0 {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Retrieved value mismatch: have %v&#47;%v, want %v&#47;%v&quot;, res.A, res.B, &quot;Hi&quot;, 1)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -425,54 +413,54 @@</span> 	&#47;&#47; Only addresses are tested, remainder just compiled to keep the test small.
                                            {
                                            `Slicer`,
                                            `
                                            <span class="term-fg31">-			contract Slicer {</span>
                                            <span class="term-fg31">-				function echoAddresses(address[] input) constant returns (address[] output) {</span>
                                            <span class="term-fg31">-					return input;</span>
                                            <span class="term-fg32">+				contract Slicer {</span>
                                            <span class="term-fg32">+					function echoAddresses(address[] input) constant returns (address[] output) {</span>
                                            <span class="term-fg32">+						return input;</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					function echoInts(int[] input) constant returns (int[] output) {</span>
                                            <span class="term-fg32">+						return input;</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					function echoFancyInts(uint24[23] input) constant returns (uint24[23] output) {</span>
                                            <span class="term-fg32">+						return input;</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					function echoBools(bool[] input) constant returns (bool[] output) {</span>
                                            <span class="term-fg32">+						return input;</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-				function echoInts(int[] input) constant returns (int[] output) {</span>
                                            <span class="term-fg31">-					return input;</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-				function echoFancyInts(uint24[23] input) constant returns (uint24[23] output) {</span>
                                            <span class="term-fg31">-					return input;</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-				function echoBools(bool[] input) constant returns (bool[] output) {</span>
                                            <span class="term-fg31">-					return input;</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`606060405261015c806100126000396000f3606060405260e060020a6000350463be1127a3811461003c578063d88becc014610092578063e15a3db71461003c578063f637e5891461003c575b005b604080516020600480358082013583810285810185019096528085526100ee959294602494909392850192829185019084908082843750949650505050505050604080516020810190915260009052805b919050565b604080516102e0818101909252610138916004916102e491839060179083908390808284375090955050505050506102e0604051908101604052806017905b60008152602001906001900390816100d15790505081905061008d565b60405180806020018281038252838181518152602001915080519060200190602002808383829060006004602084601f0104600f02600301f1509050019250505060405180910390f35b60405180826102e0808381846000600461015cf15090500191505060405180910390f3`},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;input&quot;,&quot;type&quot;:&quot;address[]&quot;}],&quot;name&quot;:&quot;echoAddresses&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;output&quot;,&quot;type&quot;:&quot;address[]&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;input&quot;,&quot;type&quot;:&quot;uint24[23]&quot;}],&quot;name&quot;:&quot;echoFancyInts&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;output&quot;,&quot;type&quot;:&quot;uint24[23]&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;input&quot;,&quot;type&quot;:&quot;int256[]&quot;}],&quot;name&quot;:&quot;echoInts&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;output&quot;,&quot;type&quot;:&quot;int256[]&quot;}],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;input&quot;,&quot;type&quot;:&quot;bool[]&quot;}],&quot;name&quot;:&quot;echoBools&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;output&quot;,&quot;type&quot;:&quot;bool[]&quot;}],&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-			&quot;reflect&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+				&quot;reflect&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a slice tester contract and execute a n array call on it</span>
                                            <span class="term-fg31">-			_, _, slicer, err := DeploySlicer(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-					t.Fatalf(&quot;Failed to deploy slicer contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if out, err := slicer.EchoAddresses(nil, []common.Address{auth.From, common.Address{}}); err != nil {</span>
                                            <span class="term-fg31">-					t.Fatalf(&quot;Failed to call slice echoer: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if !reflect.DeepEqual(out, []common.Address{auth.From, common.Address{}}) {</span>
                                            <span class="term-fg31">-					t.Fatalf(&quot;Slice return mismatch: have %v, want %v&quot;, out, []common.Address{auth.From, common.Address{}})</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a slice tester contract and execute a n array call on it</span>
                                            <span class="term-fg32">+				_, _, slicer, err := DeploySlicer(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+						t.Fatalf(&quot;Failed to deploy slicer contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if out, err := slicer.EchoAddresses(nil, []common.Address{auth.From, common.Address{}}); err != nil {</span>
                                            <span class="term-fg32">+						t.Fatalf(&quot;Failed to call slice echoer: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if !reflect.DeepEqual(out, []common.Address{auth.From, common.Address{}}) {</span>
                                            <span class="term-fg32">+						t.Fatalf(&quot;Slice return mismatch: have %v, want %v&quot;, out, []common.Address{auth.From, common.Address{}})</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -482,49 +470,49 @@</span> 	&#47;&#47; Tests that anonymous default methods can be correctly invoked
                                            {
                                            `Defaulter`,
                                            `
                                            <span class="term-fg31">-			contract Defaulter {</span>
                                            <span class="term-fg31">-				address public caller;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-				function() {</span>
                                            <span class="term-fg31">-					caller = msg.sender;</span>
                                            <span class="term-fg32">+				contract Defaulter {</span>
                                            <span class="term-fg32">+					address public caller;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					function() {</span>
                                            <span class="term-fg32">+						caller = msg.sender;</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`6060604052606a8060106000396000f360606040523615601d5760e060020a6000350463fc9c8d3981146040575b605e6000805473ffffffffffffffffffffffffffffffffffffffff191633179055565b606060005473ffffffffffffffffffffffffffffffffffffffff1681565b005b6060908152602090f3`},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;caller&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a default method invoker contract and execute its default method</span>
                                            <span class="term-fg31">-			_, _, defaulter, err := DeployDefaulter(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy defaulter contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-			if _, err := (&amp;DefaulterRaw{defaulter}).Transfer(auth); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to invoke default method: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if caller, err := defaulter.Caller(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to call address retriever: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if (caller != auth.From) {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Address mismatch: have %v, want %v&quot;, caller, auth.From)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a default method invoker contract and execute its default method</span>
                                            <span class="term-fg32">+				_, _, defaulter, err := DeployDefaulter(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy defaulter contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+				if _, err := (&amp;DefaulterRaw{defaulter}).Transfer(auth); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to invoke default method: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if caller, err := defaulter.Caller(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to call address retriever: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if (caller != auth.From) {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Address mismatch: have %v, want %v&quot;, caller, auth.From)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -535,60 +523,60 @@</span> 	{
                                            &nbsp;
                                            `Structs`,
                                            `
                                            <span class="term-fg31">-		pragma solidity ^0.6.5;</span>
                                            <span class="term-fg31">-			pragma experimental ABIEncoderV2;</span>
                                            <span class="term-fg31">-			contract Structs {</span>
                                            <span class="term-fg31">-				struct A {</span>
                                            <span class="term-fg31">-					bytes32 B;</span>
                                            <span class="term-fg32">+			pragma solidity ^0.6.5;</span>
                                            <span class="term-fg32">+				pragma experimental ABIEncoderV2;</span>
                                            <span class="term-fg32">+				contract Structs {</span>
                                            <span class="term-fg32">+					struct A {</span>
                                            <span class="term-fg32">+						bytes32 B;</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					function F() public view returns (A[] memory a, uint256[] memory c, bool[] memory d) {</span>
                                            <span class="term-fg32">+						A[] memory a = new A[](2);</span>
                                            <span class="term-fg32">+						a[0].B = bytes32(uint256(1234) &lt;&lt; 96);</span>
                                            <span class="term-fg32">+						uint256[] memory c;</span>
                                            <span class="term-fg32">+						bool[] memory d;</span>
                                            <span class="term-fg32">+						return (a, c, d);</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					function G() public view returns (A[] memory a) {</span>
                                            <span class="term-fg32">+						A[] memory a = new A[](2);</span>
                                            <span class="term-fg32">+						a[0].B = bytes32(uint256(1234) &lt;&lt; 96);</span>
                                            <span class="term-fg32">+						return a;</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-				</span>
                                            <span class="term-fg31">-				function F() public view returns (A[] memory a, uint256[] memory c, bool[] memory d) {</span>
                                            <span class="term-fg31">-					A[] memory a = new A[](2);</span>
                                            <span class="term-fg31">-					a[0].B = bytes32(uint256(1234) &lt;&lt; 96);</span>
                                            <span class="term-fg31">-					uint256[] memory c;</span>
                                            <span class="term-fg31">-					bool[] memory d;</span>
                                            <span class="term-fg31">-					return (a, c, d);</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-			</span>
                                            <span class="term-fg31">-				function G() public view returns (A[] memory a) {</span>
                                            <span class="term-fg31">-					A[] memory a = new A[](2);</span>
                                            <span class="term-fg31">-					a[0].B = bytes32(uint256(1234) &lt;&lt; 96);</span>
                                            <span class="term-fg31">-					return a;</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`608060405234801561001057600080fd5b50610278806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c806328811f591461003b5780636fecb6231461005b575b600080fd5b610043610070565b604051610052939291906101a0565b60405180910390f35b6100636100d6565b6040516100529190610186565b604080516002808252606082810190935282918291829190816020015b610095610131565b81526020019060019003908161008d575050805190915061026960611b9082906000906100be57fe5b60209081029190910101515293606093508392509050565b6040805160028082526060828101909352829190816020015b6100f7610131565b8152602001906001900390816100ef575050805190915061026960611b90829060009061012057fe5b602090810291909101015152905090565b60408051602081019091526000815290565b815260200190565b6000815180845260208085019450808401835b8381101561017b578151518752958201959082019060010161015e565b509495945050505050565b600060208252610199602083018461014b565b9392505050565b6000606082526101b3606083018661014b565b6020838203818501528186516101c98185610239565b91508288019350845b818110156101f3576101e5838651610143565b9484019492506001016101d2565b505084810360408601528551808252908201925081860190845b8181101561022b57825115158552938301939183019160010161020d565b509298975050505050505050565b9081526020019056fea2646970667358221220eb85327e285def14230424c52893aebecec1e387a50bb6b75fc4fdbed647f45f64736f6c63430006050033`},
                                            []string{`[{&quot;inputs&quot;:[],&quot;name&quot;:&quot;F&quot;,&quot;outputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;bytes32&quot;,&quot;name&quot;:&quot;B&quot;,&quot;type&quot;:&quot;bytes32&quot;}],&quot;internalType&quot;:&quot;structStructs.A[]&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;internalType&quot;:&quot;bool[]&quot;,&quot;name&quot;:&quot;d&quot;,&quot;type&quot;:&quot;bool[]&quot;}],&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[],&quot;name&quot;:&quot;G&quot;,&quot;outputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;bytes32&quot;,&quot;name&quot;:&quot;B&quot;,&quot;type&quot;:&quot;bytes32&quot;}],&quot;internalType&quot;:&quot;structStructs.A[]&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-		</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-		</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a structs method invoker contract and execute its default method</span>
                                            <span class="term-fg31">-			_, _, structs, err := DeployStructs(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy defaulter contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-			opts := bind.CallOpts{}</span>
                                            <span class="term-fg31">-			if _, err := structs.F(&amp;opts); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to invoke F method: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if _, err := structs.G(&amp;opts); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to invoke G method: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a structs method invoker contract and execute its default method</span>
                                            <span class="term-fg32">+				_, _, structs, err := DeployStructs(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy defaulter contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+				opts := bind.CallOpts{}</span>
                                            <span class="term-fg32">+				if _, err := structs.F(&amp;opts); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to invoke F method: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if _, err := structs.G(&amp;opts); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to invoke G method: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -598,37 +586,37 @@</span> 	&#47;&#47; Tests that non-existent contracts are reported as such (though only simulator test)
                                            {
                                            `NonExistent`,
                                            `
                                            <span class="term-fg31">-			contract NonExistent {</span>
                                            <span class="term-fg31">-				function String() constant returns(string) {</span>
                                            <span class="term-fg31">-					return &quot;I don&#39;t exist&quot;;</span>
                                            <span class="term-fg32">+				contract NonExistent {</span>
                                            <span class="term-fg32">+					function String() constant returns(string) {</span>
                                            <span class="term-fg32">+						return &quot;I don&#39;t exist&quot;;</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`6060604052609f8060106000396000f3606060405260e060020a6000350463f97a60058114601a575b005b600060605260c0604052600d60809081527f4920646f6e27742065786973740000000000000000000000000000000000000060a052602060c0908152600d60e081905281906101009060a09080838184600060046012f15050815172ffffffffffffffffffffffffffffffffffffff1916909152505060405161012081900392509050f3`},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;String&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Create a simulator and wrap a non-deployed contract</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{}, uint64(10000000000))</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			nonexistent, err := NewNonExistent(common.Address{}, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to access non-existent contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Ensure that contract calls fail with the appropriate error</span>
                                            <span class="term-fg31">-			if res, err := nonexistent.String(nil); err == nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Call succeeded on non-existent contract: %v&quot;, res)</span>
                                            <span class="term-fg31">-			} else if (err != bind.ErrNoCode) {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Error mismatch: have %v, want %v&quot;, err, bind.ErrNoCode)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Create a simulator and wrap a non-deployed contract</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{}, uint64(10000000000))</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				nonexistent, err := NewNonExistent(common.Address{}, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to access non-existent contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Ensure that contract calls fail with the appropriate error</span>
                                            <span class="term-fg32">+				if res, err := nonexistent.String(nil); err == nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Call succeeded on non-existent contract: %v&quot;, res)</span>
                                            <span class="term-fg32">+				} else if (err != bind.ErrNoCode) {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Error mismatch: have %v, want %v&quot;, err, bind.ErrNoCode)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -637,37 +625,37 @@</span> 	},
                                            {
                                            `NonExistentStruct`,
                                            `
                                            <span class="term-fg31">-			contract NonExistentStruct {</span>
                                            <span class="term-fg31">-				function Struct() public view returns(uint256 a, uint256 b) {</span>
                                            <span class="term-fg31">-					return (10, 10);</span>
                                            <span class="term-fg32">+				contract NonExistentStruct {</span>
                                            <span class="term-fg32">+					function Struct() public view returns(uint256 a, uint256 b) {</span>
                                            <span class="term-fg32">+						return (10, 10);</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`6080604052348015600f57600080fd5b5060888061001e6000396000f3fe6080604052348015600f57600080fd5b506004361060285760003560e01c8063d5f6622514602d575b600080fd5b6033604c565b6040805192835260208301919091528051918290030190f35b600a809156fea264697066735822beefbeefbeefbeefbeefbeefbeefbeefbeefbeefbeefbeefbeefbeefbeefbeefbeef64736f6c6343decafe0033`},
                                            []string{`[{&quot;inputs&quot;:[],&quot;name&quot;:&quot;Struct&quot;,&quot;outputs&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Create a simulator and wrap a non-deployed contract</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{}, uint64(10000000000))</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			nonexistent, err := NewNonExistentStruct(common.Address{}, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to access non-existent contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Ensure that contract calls fail with the appropriate error</span>
                                            <span class="term-fg31">-			if res, err := nonexistent.Struct(nil); err == nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Call succeeded on non-existent contract: %v&quot;, res)</span>
                                            <span class="term-fg31">-			} else if (err != bind.ErrNoCode) {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Error mismatch: have %v, want %v&quot;, err, bind.ErrNoCode)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Create a simulator and wrap a non-deployed contract</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{}, uint64(10000000000))</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				nonexistent, err := NewNonExistentStruct(common.Address{}, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to access non-existent contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Ensure that contract calls fail with the appropriate error</span>
                                            <span class="term-fg32">+				if res, err := nonexistent.Struct(nil); err == nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Call succeeded on non-existent contract: %v&quot;, res)</span>
                                            <span class="term-fg32">+				} else if (err != bind.ErrNoCode) {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Error mismatch: have %v, want %v&quot;, err, bind.ErrNoCode)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -677,53 +665,53 @@</span> 	&#47;&#47; Tests that gas estimation works for contracts with weird gas mechanics too.
                                            {
                                            `FunkyGasPattern`,
                                            `
                                            <span class="term-fg31">-			contract FunkyGasPattern {</span>
                                            <span class="term-fg31">-				string public field;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-				function SetField(string value) {</span>
                                            <span class="term-fg31">-					&#47;&#47; This check will screw gas estimation! Good, good!</span>
                                            <span class="term-fg31">-					if (msg.gas &lt; 100000) {</span>
                                            <span class="term-fg31">-						throw;</span>
                                            <span class="term-fg32">+				contract FunkyGasPattern {</span>
                                            <span class="term-fg32">+					string public field;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					function SetField(string value) {</span>
                                            <span class="term-fg32">+						&#47;&#47; This check will screw gas estimation! Good, good!</span>
                                            <span class="term-fg32">+						if (msg.gas &lt; 100000) {</span>
                                            <span class="term-fg32">+							throw;</span>
                                            <span class="term-fg32">+						}</span>
                                            <span class="term-fg32">+						field = value;</span>
                                            }
                                            <span class="term-fg31">-					field = value;</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`606060405261021c806100126000396000f3606060405260e060020a600035046323fcf32a81146100265780634f28bf0e1461007b575b005b6040805160206004803580820135601f8101849004840285018401909552848452610024949193602493909291840191908190840183828082843750949650505050505050620186a05a101561014e57610002565b6100db60008054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281529291908301828280156102145780601f106101e957610100808354040283529160200191610214565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f16801561013b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b505050565b8060006000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106101b557805160ff19168380011785555b506101499291505b808211156101e557600081556001016101a1565b82800160010185558215610199579182015b828111156101995782518260005055916020019190600101906101c7565b5090565b820191906000526020600020905b8154815290600101906020018083116101f757829003601f168201915b50505050508156`},
                                            []string{`[{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;value&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;name&quot;:&quot;SetField&quot;,&quot;outputs&quot;:[],&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;field&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a funky gas pattern contract</span>
                                            <span class="term-fg31">-			_, _, limiter, err := DeployFunkyGasPattern(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy funky contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Set the field with automatic estimation and check that it succeeds</span>
                                            <span class="term-fg31">-			if _, err := limiter.SetField(auth, &quot;automatic&quot;); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to call automatically gased transaction: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if field, _ := limiter.Field(nil); field != &quot;automatic&quot; {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Field mismatch: have %v, want %v&quot;, field, &quot;automatic&quot;)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a funky gas pattern contract</span>
                                            <span class="term-fg32">+				_, _, limiter, err := DeployFunkyGasPattern(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy funky contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Set the field with automatic estimation and check that it succeeds</span>
                                            <span class="term-fg32">+				if _, err := limiter.SetField(auth, &quot;automatic&quot;); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to call automatically gased transaction: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if field, _ := limiter.Field(nil); field != &quot;automatic&quot; {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Field mismatch: have %v, want %v&quot;, field, &quot;automatic&quot;)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -733,51 +721,51 @@</span> 	&#47;&#47; Test that constant functions can be called from an (optional) specified address
                                            {
                                            `CallFrom`,
                                            `
                                            <span class="term-fg31">-			contract CallFrom {</span>
                                            <span class="term-fg31">-				function callFrom() constant returns(address) {</span>
                                            <span class="term-fg31">-					return msg.sender;</span>
                                            <span class="term-fg32">+				contract CallFrom {</span>
                                            <span class="term-fg32">+					function callFrom() constant returns(address) {</span>
                                            <span class="term-fg32">+						return msg.sender;</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`, []string{`6060604052346000575b6086806100176000396000f300606060405263ffffffff60e060020a60003504166349f8e98281146022575b6000565b34600057602c6055565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b335b905600a165627a7a72305820aef6b7685c0fa24ba6027e4870404a57df701473fe4107741805c19f5138417c0029`},</span>
                                            <span class="term-fg32">+			`, []string{`6060604052346000575b6086806100176000396000f300606060405263ffffffff60e060020a60003504166349f8e98281146022575b6000565b34600057602c6055565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b335b905600a165627a7a72305820aef6b7685c0fa24ba6027e4870404a57df701473fe4107741805c19f5138417c0029`},</span>
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;callFrom&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;payable&quot;:false,&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a sender tester contract and execute a structured call on it</span>
                                            <span class="term-fg31">-			_, _, callfrom, err := DeployCallFrom(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy sender contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if res, err := callfrom.CallFrom(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;Failed to call constant function: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if res != (common.Address{}) {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;Invalid address returned, want: %x, got: %x&quot;, (common.Address{}), res)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			for _, addr := range []common.Address{common.Address{}, common.Address{1}, common.Address{2}} {</span>
                                            <span class="term-fg31">-				if res, err := callfrom.CallFrom(&amp;bind.CallOpts{From: addr}); err != nil {</span>
                                            <span class="term-fg31">-					t.Fatalf(&quot;Failed to call constant function: %v&quot;, err)</span>
                                            <span class="term-fg31">-				} else if res != addr {</span>
                                            <span class="term-fg31">-					t.Fatalf(&quot;Invalid address returned, want: %x, got: %x&quot;, addr, res)</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a sender tester contract and execute a structured call on it</span>
                                            <span class="term-fg32">+				_, _, callfrom, err := DeployCallFrom(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy sender contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if res, err := callfrom.CallFrom(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;Failed to call constant function: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if res != (common.Address{}) {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;Invalid address returned, want: %x, got: %x&quot;, (common.Address{}), res)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				for _, addr := range []common.Address{common.Address{}, common.Address{1}, common.Address{2}} {</span>
                                            <span class="term-fg32">+					if res, err := callfrom.CallFrom(&amp;bind.CallOpts{From: addr}); err != nil {</span>
                                            <span class="term-fg32">+						t.Fatalf(&quot;Failed to call constant function: %v&quot;, err)</span>
                                            <span class="term-fg32">+					} else if res != addr {</span>
                                            <span class="term-fg32">+						t.Fatalf(&quot;Invalid address returned, want: %x, got: %x&quot;, addr, res)</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -787,77 +775,77 @@</span> 	&#47;&#47; Tests that methods and returns with underscores inside work correctly.
                                            {
                                            `Underscorer`,
                                            `
                                            <span class="term-fg31">-		contract Underscorer {</span>
                                            <span class="term-fg31">-			function UnderscoredOutput() constant returns (int _int, string _string) {</span>
                                            <span class="term-fg31">-				return (314, &quot;pi&quot;);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			function LowerLowerCollision() constant returns (int _res, int res) {</span>
                                            <span class="term-fg31">-				return (1, 2);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			function LowerUpperCollision() constant returns (int _res, int Res) {</span>
                                            <span class="term-fg31">-				return (1, 2);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			function UpperLowerCollision() constant returns (int _Res, int res) {</span>
                                            <span class="term-fg31">-				return (1, 2);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			function UpperUpperCollision() constant returns (int _Res, int Res) {</span>
                                            <span class="term-fg31">-				return (1, 2);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			function PurelyUnderscoredOutput() constant returns (int _, int res) {</span>
                                            <span class="term-fg31">-				return (1, 2);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			function AllPurelyUnderscoredOutput() constant returns (int _, int __) {</span>
                                            <span class="term-fg31">-				return (1, 2);</span>
                                            <span class="term-fg32">+			contract Underscorer {</span>
                                            <span class="term-fg32">+				function UnderscoredOutput() constant returns (int _int, string _string) {</span>
                                            <span class="term-fg32">+					return (314, &quot;pi&quot;);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function LowerLowerCollision() constant returns (int _res, int res) {</span>
                                            <span class="term-fg32">+					return (1, 2);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function LowerUpperCollision() constant returns (int _res, int Res) {</span>
                                            <span class="term-fg32">+					return (1, 2);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function UpperLowerCollision() constant returns (int _Res, int res) {</span>
                                            <span class="term-fg32">+					return (1, 2);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function UpperUpperCollision() constant returns (int _Res, int Res) {</span>
                                            <span class="term-fg32">+					return (1, 2);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function PurelyUnderscoredOutput() constant returns (int _, int res) {</span>
                                            <span class="term-fg32">+					return (1, 2);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function AllPurelyUnderscoredOutput() constant returns (int _, int __) {</span>
                                            <span class="term-fg32">+					return (1, 2);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function _under_scored_func() constant returns (int _int) {</span>
                                            <span class="term-fg32">+					return 0;</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-			function _under_scored_func() constant returns (int _int) {</span>
                                            <span class="term-fg31">-				return 0;</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`, []string{`6060604052341561000f57600080fd5b6103858061001e6000396000f30060606040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806303a592131461009357806346546dbe146100c357806367e6633d146100ec5780639df4848514610181578063af7486ab146101b1578063b564b34d146101e1578063e02ab24d14610211578063e409ca4514610241575b600080fd5b341561009e57600080fd5b6100a6610271565b604051808381526020018281526020019250505060405180910390f35b34156100ce57600080fd5b6100d6610286565b6040518082815260200191505060405180910390f35b34156100f757600080fd5b6100ff61028e565b6040518083815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561014557808201518184015260208101905061012a565b50505050905090810190601f1680156101725780820380516001836020036101000a031916815260200191505b50935050505060405180910390f35b341561018c57600080fd5b6101946102dc565b604051808381526020018281526020019250505060405180910390f35b34156101bc57600080fd5b6101c46102f1565b604051808381526020018281526020019250505060405180910390f35b34156101ec57600080fd5b6101f4610306565b604051808381526020018281526020019250505060405180910390f35b341561021c57600080fd5b61022461031b565b604051808381526020018281526020019250505060405180910390f35b341561024c57600080fd5b610254610330565b604051808381526020018281526020019250505060405180910390f35b60008060016002819150809050915091509091565b600080905090565b6000610298610345565b61013a8090506040805190810160405280600281526020017f7069000000000000000000000000000000000000000000000000000000000000815250915091509091565b60008060016002819150809050915091509091565b60008060016002819150809050915091509091565b60008060016002819150809050915091509091565b60008060016002819150809050915091509091565b60008060016002819150809050915091509091565b6020604051908101604052806000815250905600a165627a7a72305820d1a53d9de9d1e3d55cb3dc591900b63c4f1ded79114f7b79b332684840e186a40029`},</span>
                                            <span class="term-fg32">+			`, []string{`6060604052341561000f57600080fd5b6103858061001e6000396000f30060606040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806303a592131461009357806346546dbe146100c357806367e6633d146100ec5780639df4848514610181578063af7486ab146101b1578063b564b34d146101e1578063e02ab24d14610211578063e409ca4514610241575b600080fd5b341561009e57600080fd5b6100a6610271565b604051808381526020018281526020019250505060405180910390f35b34156100ce57600080fd5b6100d6610286565b6040518082815260200191505060405180910390f35b34156100f757600080fd5b6100ff61028e565b6040518083815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561014557808201518184015260208101905061012a565b50505050905090810190601f1680156101725780820380516001836020036101000a031916815260200191505b50935050505060405180910390f35b341561018c57600080fd5b6101946102dc565b604051808381526020018281526020019250505060405180910390f35b34156101bc57600080fd5b6101c46102f1565b604051808381526020018281526020019250505060405180910390f35b34156101ec57600080fd5b6101f4610306565b604051808381526020018281526020019250505060405180910390f35b341561021c57600080fd5b61022461031b565b604051808381526020018281526020019250505060405180910390f35b341561024c57600080fd5b610254610330565b604051808381526020018281526020019250505060405180910390f35b60008060016002819150809050915091509091565b600080905090565b6000610298610345565b61013a8090506040805190810160405280600281526020017f7069000000000000000000000000000000000000000000000000000000000000815250915091509091565b60008060016002819150809050915091509091565b60008060016002819150809050915091509091565b60008060016002819150809050915091509091565b60008060016002819150809050915091509091565b60008060016002819150809050915091509091565b6020604051908101604052806000815250905600a165627a7a72305820d1a53d9de9d1e3d55cb3dc591900b63c4f1ded79114f7b79b332684840e186a40029`},</span>
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;LowerUpperCollision&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;_res&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;Res&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;_under_scored_func&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;_int&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;UnderscoredOutput&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;_int&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;_string&quot;,&quot;type&quot;:&quot;string&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;PurelyUnderscoredOutput&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;_&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;res&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;UpperLowerCollision&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;_Res&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;res&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;AllPurelyUnderscoredOutput&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;_&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;__&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;UpperUpperCollision&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;_Res&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;Res&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;LowerLowerCollision&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;_res&quot;,&quot;type&quot;:&quot;int256&quot;},{&quot;name&quot;:&quot;res&quot;,&quot;type&quot;:&quot;int256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;fmt&quot;</span>
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;fmt&quot;</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a underscorer tester contract and execute a structured call on it</span>
                                            <span class="term-fg31">-			_, _, underscorer, err := DeployUnderscorer(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy underscorer contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Verify that underscored return values correctly parse into structs</span>
                                            <span class="term-fg31">-			if res, err := underscorer.UnderscoredOutput(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;Failed to call constant function: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if res.Int.Cmp(big.NewInt(314)) != 0 || res.String != &quot;pi&quot; {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;Invalid result, want: {314, \&quot;pi\&quot;}, got: %+v&quot;, res)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Verify that underscored and non-underscored name collisions force tuple outputs</span>
                                            <span class="term-fg31">-			var a, b *big.Int</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			a, b, _ = underscorer.LowerLowerCollision(nil)</span>
                                            <span class="term-fg31">-			a, b, _ = underscorer.LowerUpperCollision(nil)</span>
                                            <span class="term-fg31">-			a, b, _ = underscorer.UpperLowerCollision(nil)</span>
                                            <span class="term-fg31">-			a, b, _ = underscorer.UpperUpperCollision(nil)</span>
                                            <span class="term-fg31">-			a, b, _ = underscorer.PurelyUnderscoredOutput(nil)</span>
                                            <span class="term-fg31">-			a, b, _ = underscorer.AllPurelyUnderscoredOutput(nil)</span>
                                            <span class="term-fg31">-			a, _ = underscorer.UnderScoredFunc(nil)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			fmt.Println(a, b, err)</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a underscorer tester contract and execute a structured call on it</span>
                                            <span class="term-fg32">+				_, _, underscorer, err := DeployUnderscorer(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy underscorer contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Verify that underscored return values correctly parse into structs</span>
                                            <span class="term-fg32">+				if res, err := underscorer.UnderscoredOutput(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;Failed to call constant function: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if res.Int.Cmp(big.NewInt(314)) != 0 || res.String != &quot;pi&quot; {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;Invalid result, want: {314, \&quot;pi\&quot;}, got: %+v&quot;, res)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Verify that underscored and non-underscored name collisions force tuple outputs</span>
                                            <span class="term-fg32">+				var a, b *big.Int</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				a, b, _ = underscorer.LowerLowerCollision(nil)</span>
                                            <span class="term-fg32">+				a, b, _ = underscorer.LowerUpperCollision(nil)</span>
                                            <span class="term-fg32">+				a, b, _ = underscorer.UpperLowerCollision(nil)</span>
                                            <span class="term-fg32">+				a, b, _ = underscorer.UpperUpperCollision(nil)</span>
                                            <span class="term-fg32">+				a, b, _ = underscorer.PurelyUnderscoredOutput(nil)</span>
                                            <span class="term-fg32">+				a, b, _ = underscorer.AllPurelyUnderscoredOutput(nil)</span>
                                            <span class="term-fg32">+				a, _ = underscorer.UnderScoredFunc(nil)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				fmt.Println(a, b, err)</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -867,219 +855,219 @@</span> 	&#47;&#47; Tests that logs can be successfully filtered and decoded.
                                            {
                                            `Eventer`,
                                            `
                                            <span class="term-fg31">-			contract Eventer {</span>
                                            <span class="term-fg31">-				event SimpleEvent (</span>
                                            <span class="term-fg31">-					address indexed Addr,</span>
                                            <span class="term-fg31">-					bytes32 indexed Id,</span>
                                            <span class="term-fg31">-					bool    indexed Flag,</span>
                                            <span class="term-fg31">-					uint    Value</span>
                                            <span class="term-fg31">-				);</span>
                                            <span class="term-fg31">-				function raiseSimpleEvent(address addr, bytes32 id, bool flag, uint value) {</span>
                                            <span class="term-fg31">-					SimpleEvent(addr, id, flag, value);</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-				event NodataEvent (</span>
                                            <span class="term-fg31">-					uint   indexed Number,</span>
                                            <span class="term-fg31">-					int16  indexed Short,</span>
                                            <span class="term-fg31">-					uint32 indexed Long</span>
                                            <span class="term-fg31">-				);</span>
                                            <span class="term-fg31">-				function raiseNodataEvent(uint number, int16 short, uint32 long) {</span>
                                            <span class="term-fg31">-					NodataEvent(number, short, long);</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-				event DynamicEvent (</span>
                                            <span class="term-fg31">-					string indexed IndexedString,</span>
                                            <span class="term-fg31">-					bytes  indexed IndexedBytes,</span>
                                            <span class="term-fg31">-					string NonIndexedString,</span>
                                            <span class="term-fg31">-					bytes  NonIndexedBytes</span>
                                            <span class="term-fg31">-				);</span>
                                            <span class="term-fg31">-				function raiseDynamicEvent(string str, bytes blob) {</span>
                                            <span class="term-fg31">-					DynamicEvent(str, blob, str, blob);</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-				event FixedBytesEvent (</span>
                                            <span class="term-fg31">-					bytes24 indexed IndexedBytes,</span>
                                            <span class="term-fg31">-					bytes24 NonIndexedBytes</span>
                                            <span class="term-fg31">-				);</span>
                                            <span class="term-fg31">-				function raiseFixedBytesEvent(bytes24 blob) {</span>
                                            <span class="term-fg31">-					FixedBytesEvent(blob, blob);</span>
                                            <span class="term-fg32">+				contract Eventer {</span>
                                            <span class="term-fg32">+					event SimpleEvent (</span>
                                            <span class="term-fg32">+						address indexed Addr,</span>
                                            <span class="term-fg32">+						bytes32 indexed Id,</span>
                                            <span class="term-fg32">+						bool    indexed Flag,</span>
                                            <span class="term-fg32">+						uint    Value</span>
                                            <span class="term-fg32">+					);</span>
                                            <span class="term-fg32">+					function raiseSimpleEvent(address addr, bytes32 id, bool flag, uint value) {</span>
                                            <span class="term-fg32">+						SimpleEvent(addr, id, flag, value);</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					event NodataEvent (</span>
                                            <span class="term-fg32">+						uint   indexed Number,</span>
                                            <span class="term-fg32">+						int16  indexed Short,</span>
                                            <span class="term-fg32">+						uint32 indexed Long</span>
                                            <span class="term-fg32">+					);</span>
                                            <span class="term-fg32">+					function raiseNodataEvent(uint number, int16 short, uint32 long) {</span>
                                            <span class="term-fg32">+						NodataEvent(number, short, long);</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					event DynamicEvent (</span>
                                            <span class="term-fg32">+						string indexed IndexedString,</span>
                                            <span class="term-fg32">+						bytes  indexed IndexedBytes,</span>
                                            <span class="term-fg32">+						string NonIndexedString,</span>
                                            <span class="term-fg32">+						bytes  NonIndexedBytes</span>
                                            <span class="term-fg32">+					);</span>
                                            <span class="term-fg32">+					function raiseDynamicEvent(string str, bytes blob) {</span>
                                            <span class="term-fg32">+						DynamicEvent(str, blob, str, blob);</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+					event FixedBytesEvent (</span>
                                            <span class="term-fg32">+						bytes24 indexed IndexedBytes,</span>
                                            <span class="term-fg32">+						bytes24 NonIndexedBytes</span>
                                            <span class="term-fg32">+					);</span>
                                            <span class="term-fg32">+					function raiseFixedBytesEvent(bytes24 blob) {</span>
                                            <span class="term-fg32">+						FixedBytesEvent(blob, blob);</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`608060405234801561001057600080fd5b5061043f806100206000396000f3006080604052600436106100615763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663528300ff8114610066578063630c31e2146100ff5780636cc6b94014610138578063c7d116dd1461015b575b600080fd5b34801561007257600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526100fd94369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a9998810197919650918201945092508291508401838280828437509497506101829650505050505050565b005b34801561010b57600080fd5b506100fd73ffffffffffffffffffffffffffffffffffffffff60043516602435604435151560643561033c565b34801561014457600080fd5b506100fd67ffffffffffffffff1960043516610394565b34801561016757600080fd5b506100fd60043560243560010b63ffffffff604435166103d6565b806040518082805190602001908083835b602083106101b25780518252601f199092019160209182019101610193565b51815160209384036101000a6000190180199092169116179052604051919093018190038120875190955087945090928392508401908083835b6020831061020b5780518252601f1990920191602091820191016101ec565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390207f3281fd4f5e152dd3385df49104a3f633706e21c9e80672e88d3bcddf33101f008484604051808060200180602001838103835285818151815260200191508051906020019080838360005b8381101561029c578181015183820152602001610284565b50505050905090810190601f1680156102c95780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156102fc5781810151838201526020016102e4565b50505050905090810190601f1680156103295780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a35050565b60408051828152905183151591859173ffffffffffffffffffffffffffffffffffffffff8816917f1f097de4289df643bd9c11011cc61367aa12983405c021056e706eb5ba1250c8919081900360200190a450505050565b6040805167ffffffffffffffff19831680825291517fcdc4c1b1aed5524ffb4198d7a5839a34712baef5fa06884fac7559f4a5854e0a9181900360200190a250565b8063ffffffff168260010b847f3ca7f3a77e5e6e15e781850bc82e32adfa378a2a609370db24b4d0fae10da2c960405160405180910390a45050505600a165627a7a72305820468b5843bf653145bd924b323c64ef035d3dd922c170644b44d61aa666ea6eee0029`},
                                            []string{`[{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;str&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;blob&quot;,&quot;type&quot;:&quot;bytes&quot;}],&quot;name&quot;:&quot;raiseDynamicEvent&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;bytes32&quot;},{&quot;name&quot;:&quot;flag&quot;,&quot;type&quot;:&quot;bool&quot;},{&quot;name&quot;:&quot;value&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;raiseSimpleEvent&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;blob&quot;,&quot;type&quot;:&quot;bytes24&quot;}],&quot;name&quot;:&quot;raiseFixedBytesEvent&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;number&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;short&quot;,&quot;type&quot;:&quot;int16&quot;},{&quot;name&quot;:&quot;long&quot;,&quot;type&quot;:&quot;uint32&quot;}],&quot;name&quot;:&quot;raiseNodataEvent&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:true,&quot;name&quot;:&quot;Addr&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;Id&quot;,&quot;type&quot;:&quot;bytes32&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;Flag&quot;,&quot;type&quot;:&quot;bool&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;Value&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;SimpleEvent&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:true,&quot;name&quot;:&quot;Number&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;Short&quot;,&quot;type&quot;:&quot;int16&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;Long&quot;,&quot;type&quot;:&quot;uint32&quot;}],&quot;name&quot;:&quot;NodataEvent&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:true,&quot;name&quot;:&quot;IndexedString&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;IndexedBytes&quot;,&quot;type&quot;:&quot;bytes&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;NonIndexedString&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;NonIndexedBytes&quot;,&quot;type&quot;:&quot;bytes&quot;}],&quot;name&quot;:&quot;DynamicEvent&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:true,&quot;name&quot;:&quot;IndexedBytes&quot;,&quot;type&quot;:&quot;bytes24&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;NonIndexedBytes&quot;,&quot;type&quot;:&quot;bytes24&quot;}],&quot;name&quot;:&quot;FixedBytesEvent&quot;,&quot;type&quot;:&quot;event&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-			&quot;time&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+				&quot;time&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy an eventer contract</span>
                                            <span class="term-fg31">-			_, _, eventer, err := DeployEventer(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy eventer contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Inject a few events into the contract, gradually more in each block</span>
                                            <span class="term-fg31">-			for i := 1; i &lt;= 3; i++ {</span>
                                            <span class="term-fg31">-				for j := 1; j &lt;= i; j++ {</span>
                                            <span class="term-fg31">-					if _, err := eventer.RaiseSimpleEvent(auth, common.Address{byte(j)}, [32]byte{byte(j)}, true, big.NewInt(int64(10*i+j))); err != nil {</span>
                                            <span class="term-fg31">-						t.Fatalf(&quot;block %d, event %d: raise failed: %v&quot;, i, j, err)</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy an eventer contract</span>
                                            <span class="term-fg32">+				_, _, eventer, err := DeployEventer(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy eventer contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Inject a few events into the contract, gradually more in each block</span>
                                            <span class="term-fg32">+				for i := 1; i &lt;= 3; i++ {</span>
                                            <span class="term-fg32">+					for j := 1; j &lt;= i; j++ {</span>
                                            <span class="term-fg32">+						if _, err := eventer.RaiseSimpleEvent(auth, common.Address{byte(j)}, [32]byte{byte(j)}, true, big.NewInt(int64(10*i+j))); err != nil {</span>
                                            <span class="term-fg32">+							t.Fatalf(&quot;block %d, event %d: raise failed: %v&quot;, i, j, err)</span>
                                            <span class="term-fg32">+						}</span>
                                            }
                                            <span class="term-fg32">+					sim.Commit()</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Test filtering for certain events and ensure they can be found</span>
                                            <span class="term-fg32">+				sit, err := eventer.FilterSimpleEvent(nil, []common.Address{common.Address{1}, common.Address{3}}, [][32]byte{{byte(1)}, {byte(2)}, {byte(3)}}, []bool{true})</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to filter for simple events: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				defer sit.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sit.Next()</span>
                                            <span class="term-fg32">+				if sit.Event.Value.Uint64() != 11 || !sit.Event.Flag {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;simple log content mismatch: have %v, want {11, true}&quot;, sit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sit.Next()</span>
                                            <span class="term-fg32">+				if sit.Event.Value.Uint64() != 21 || !sit.Event.Flag {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;simple log content mismatch: have %v, want {21, true}&quot;, sit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sit.Next()</span>
                                            <span class="term-fg32">+				if sit.Event.Value.Uint64() != 31 || !sit.Event.Flag {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;simple log content mismatch: have %v, want {31, true}&quot;, sit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sit.Next()</span>
                                            <span class="term-fg32">+				if sit.Event.Value.Uint64() != 33 || !sit.Event.Flag {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;simple log content mismatch: have %v, want {33, true}&quot;, sit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if sit.Next() {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;unexpected simple event found: %+v&quot;, sit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if err = sit.Error(); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;simple event iteration failed: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Test raising and filtering for an event with no data component</span>
                                            <span class="term-fg32">+				if _, err := eventer.RaiseNodataEvent(auth, big.NewInt(314), 141, 271); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to raise nodata event: %v&quot;, err)</span>
                                            }
                                            sim.Commit()
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Test filtering for certain events and ensure they can be found</span>
                                            <span class="term-fg31">-			sit, err := eventer.FilterSimpleEvent(nil, []common.Address{common.Address{1}, common.Address{3}}, [][32]byte{{byte(1)}, {byte(2)}, {byte(3)}}, []bool{true})</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to filter for simple events: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			defer sit.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sit.Next()</span>
                                            <span class="term-fg31">-			if sit.Event.Value.Uint64() != 11 || !sit.Event.Flag {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;simple log content mismatch: have %v, want {11, true}&quot;, sit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sit.Next()</span>
                                            <span class="term-fg31">-			if sit.Event.Value.Uint64() != 21 || !sit.Event.Flag {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;simple log content mismatch: have %v, want {21, true}&quot;, sit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sit.Next()</span>
                                            <span class="term-fg31">-			if sit.Event.Value.Uint64() != 31 || !sit.Event.Flag {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;simple log content mismatch: have %v, want {31, true}&quot;, sit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sit.Next()</span>
                                            <span class="term-fg31">-			if sit.Event.Value.Uint64() != 33 || !sit.Event.Flag {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;simple log content mismatch: have %v, want {33, true}&quot;, sit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if sit.Next() {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;unexpected simple event found: %+v&quot;, sit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if err = sit.Error(); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;simple event iteration failed: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Test raising and filtering for an event with no data component</span>
                                            <span class="term-fg31">-			if _, err := eventer.RaiseNodataEvent(auth, big.NewInt(314), 141, 271); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to raise nodata event: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			nit, err := eventer.FilterNodataEvent(nil, []*big.Int{big.NewInt(314)}, []int16{140, 141, 142}, []uint32{271})</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to filter for nodata events: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			defer nit.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if !nit.Next() {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;nodata log not found: %v&quot;, nit.Error())</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if nit.Event.Number.Uint64() != 314 {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;nodata log content mismatch: have %v, want 314&quot;, nit.Event.Number)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if nit.Next() {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;unexpected nodata event found: %+v&quot;, nit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if err = nit.Error(); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;nodata event iteration failed: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Test raising and filtering for events with dynamic indexed components</span>
                                            <span class="term-fg31">-			if _, err := eventer.RaiseDynamicEvent(auth, &quot;Hello&quot;, []byte(&quot;World&quot;)); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to raise dynamic event: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			dit, err := eventer.FilterDynamicEvent(nil, []string{&quot;Hi&quot;, &quot;Hello&quot;, &quot;Bye&quot;}, [][]byte{[]byte(&quot;World&quot;)})</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to filter for dynamic events: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			defer dit.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if !dit.Next() {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;dynamic log not found: %v&quot;, dit.Error())</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if dit.Event.NonIndexedString != &quot;Hello&quot; || string(dit.Event.NonIndexedBytes) != &quot;World&quot; ||	dit.Event.IndexedString != common.HexToHash(&quot;0x06b3dfaec148fb1bb2b066f10ec285e7c9bf402ab32aa78a5d38e34566810cd2&quot;) || dit.Event.IndexedBytes != common.HexToHash(&quot;0xf2208c967df089f60420785795c0a9ba8896b0f6f1867fa7f1f12ad6f79c1a18&quot;) {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;dynamic log content mismatch: have %v, want {&#39;0x06b3dfaec148fb1bb2b066f10ec285e7c9bf402ab32aa78a5d38e34566810cd2, &#39;0xf2208c967df089f60420785795c0a9ba8896b0f6f1867fa7f1f12ad6f79c1a18&#39;, &#39;Hello&#39;, &#39;World&#39;}&quot;, dit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if dit.Next() {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;unexpected dynamic event found: %+v&quot;, dit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if err = dit.Error(); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;dynamic event iteration failed: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Test raising and filtering for events with fixed bytes components</span>
                                            <span class="term-fg31">-			var fblob [24]byte</span>
                                            <span class="term-fg31">-			copy(fblob[:], []byte(&quot;Fixed Bytes&quot;))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if _, err := eventer.RaiseFixedBytesEvent(auth, fblob); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to raise fixed bytes event: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			fit, err := eventer.FilterFixedBytesEvent(nil, [][24]byte{fblob})</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to filter for fixed bytes events: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			defer fit.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if !fit.Next() {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;fixed bytes log not found: %v&quot;, fit.Error())</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if fit.Event.NonIndexedBytes != fblob || fit.Event.IndexedBytes != fblob {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;fixed bytes log content mismatch: have %v, want {&#39;%x&#39;, &#39;%x&#39;}&quot;, fit.Event, fblob, fblob)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if fit.Next() {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;unexpected fixed bytes event found: %+v&quot;, fit.Event)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if err = fit.Error(); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;fixed bytes event iteration failed: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Test subscribing to an event and raising it afterwards</span>
                                            <span class="term-fg31">-			ch := make(chan *EventerSimpleEvent, 16)</span>
                                            <span class="term-fg31">-			sub, err := eventer.WatchSimpleEvent(nil, ch, nil, nil, nil)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to subscribe to simple events: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if _, err := eventer.RaiseSimpleEvent(auth, common.Address{255}, [32]byte{255}, true, big.NewInt(255)); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to raise subscribed simple event: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			select {</span>
                                            <span class="term-fg31">-			case event := &lt;-ch:</span>
                                            <span class="term-fg31">-				if event.Value.Uint64() != 255 {</span>
                                            <span class="term-fg31">-					t.Errorf(&quot;simple log content mismatch: have %v, want 255&quot;, event)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				nit, err := eventer.FilterNodataEvent(nil, []*big.Int{big.NewInt(314)}, []int16{140, 141, 142}, []uint32{271})</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to filter for nodata events: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				defer nit.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if !nit.Next() {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;nodata log not found: %v&quot;, nit.Error())</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if nit.Event.Number.Uint64() != 314 {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;nodata log content mismatch: have %v, want 314&quot;, nit.Event.Number)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if nit.Next() {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;unexpected nodata event found: %+v&quot;, nit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if err = nit.Error(); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;nodata event iteration failed: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Test raising and filtering for events with dynamic indexed components</span>
                                            <span class="term-fg32">+				if _, err := eventer.RaiseDynamicEvent(auth, &quot;Hello&quot;, []byte(&quot;World&quot;)); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to raise dynamic event: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				dit, err := eventer.FilterDynamicEvent(nil, []string{&quot;Hi&quot;, &quot;Hello&quot;, &quot;Bye&quot;}, [][]byte{[]byte(&quot;World&quot;)})</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to filter for dynamic events: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				defer dit.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if !dit.Next() {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;dynamic log not found: %v&quot;, dit.Error())</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if dit.Event.NonIndexedString != &quot;Hello&quot; || string(dit.Event.NonIndexedBytes) != &quot;World&quot; ||	dit.Event.IndexedString != common.HexToHash(&quot;0x06b3dfaec148fb1bb2b066f10ec285e7c9bf402ab32aa78a5d38e34566810cd2&quot;) || dit.Event.IndexedBytes != common.HexToHash(&quot;0xf2208c967df089f60420785795c0a9ba8896b0f6f1867fa7f1f12ad6f79c1a18&quot;) {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;dynamic log content mismatch: have %v, want {&#39;0x06b3dfaec148fb1bb2b066f10ec285e7c9bf402ab32aa78a5d38e34566810cd2, &#39;0xf2208c967df089f60420785795c0a9ba8896b0f6f1867fa7f1f12ad6f79c1a18&#39;, &#39;Hello&#39;, &#39;World&#39;}&quot;, dit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if dit.Next() {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;unexpected dynamic event found: %+v&quot;, dit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if err = dit.Error(); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;dynamic event iteration failed: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Test raising and filtering for events with fixed bytes components</span>
                                            <span class="term-fg32">+				var fblob [24]byte</span>
                                            <span class="term-fg32">+				copy(fblob[:], []byte(&quot;Fixed Bytes&quot;))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if _, err := eventer.RaiseFixedBytesEvent(auth, fblob); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to raise fixed bytes event: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				fit, err := eventer.FilterFixedBytesEvent(nil, [][24]byte{fblob})</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to filter for fixed bytes events: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				defer fit.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if !fit.Next() {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;fixed bytes log not found: %v&quot;, fit.Error())</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if fit.Event.NonIndexedBytes != fblob || fit.Event.IndexedBytes != fblob {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;fixed bytes log content mismatch: have %v, want {&#39;%x&#39;, &#39;%x&#39;}&quot;, fit.Event, fblob, fblob)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if fit.Next() {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;unexpected fixed bytes event found: %+v&quot;, fit.Event)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if err = fit.Error(); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;fixed bytes event iteration failed: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Test subscribing to an event and raising it afterwards</span>
                                            <span class="term-fg32">+				ch := make(chan *EventerSimpleEvent, 16)</span>
                                            <span class="term-fg32">+				sub, err := eventer.WatchSimpleEvent(nil, ch, nil, nil, nil)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to subscribe to simple events: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if _, err := eventer.RaiseSimpleEvent(auth, common.Address{255}, [32]byte{255}, true, big.NewInt(255)); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to raise subscribed simple event: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				select {</span>
                                            <span class="term-fg32">+				case event := &lt;-ch:</span>
                                            <span class="term-fg32">+					if event.Value.Uint64() != 255 {</span>
                                            <span class="term-fg32">+						t.Errorf(&quot;simple log content mismatch: have %v, want 255&quot;, event)</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+				case &lt;-time.After(250 * time.Millisecond):</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;subscribed simple event didn&#39;t arrive&quot;)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; Unsubscribe from the event and make sure we&#39;re not delivered more</span>
                                            <span class="term-fg32">+				sub.Unsubscribe()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if _, err := eventer.RaiseSimpleEvent(auth, common.Address{254}, [32]byte{254}, true, big.NewInt(254)); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to raise subscribed simple event: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				select {</span>
                                            <span class="term-fg32">+				case event := &lt;-ch:</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;unsubscribed simple event arrived: %v&quot;, event)</span>
                                            <span class="term-fg32">+				case &lt;-time.After(250 * time.Millisecond):</span>
                                            }
                                            <span class="term-fg31">-			case &lt;-time.After(250 * time.Millisecond):</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;subscribed simple event didn&#39;t arrive&quot;)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Unsubscribe from the event and make sure we&#39;re not delivered more</span>
                                            <span class="term-fg31">-			sub.Unsubscribe()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if _, err := eventer.RaiseSimpleEvent(auth, common.Address{254}, [32]byte{254}, true, big.NewInt(254)); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to raise subscribed simple event: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			select {</span>
                                            <span class="term-fg31">-			case event := &lt;-ch:</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;unsubscribed simple event arrived: %v&quot;, event)</span>
                                            <span class="term-fg31">-			case &lt;-time.After(250 * time.Millisecond):</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1088,79 +1076,79 @@</span> 	},
                                            {
                                            `DeeplyNestedArray`,
                                            `
                                            <span class="term-fg31">-			contract DeeplyNestedArray {</span>
                                            <span class="term-fg31">-				uint64[3][4][5] public deepUint64Array;</span>
                                            <span class="term-fg31">-				function storeDeepUintArray(uint64[3][4][5] arr) public {</span>
                                            <span class="term-fg31">-					deepUint64Array = arr;</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg31">-				function retrieveDeepArray() public view returns (uint64[3][4][5]) {</span>
                                            <span class="term-fg31">-					return deepUint64Array;</span>
                                            <span class="term-fg32">+				contract DeeplyNestedArray {</span>
                                            <span class="term-fg32">+					uint64[3][4][5] public deepUint64Array;</span>
                                            <span class="term-fg32">+					function storeDeepUintArray(uint64[3][4][5] arr) public {</span>
                                            <span class="term-fg32">+						deepUint64Array = arr;</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					function retrieveDeepArray() public view returns (uint64[3][4][5]) {</span>
                                            <span class="term-fg32">+						return deepUint64Array;</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`6060604052341561000f57600080fd5b6106438061001e6000396000f300606060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063344248551461005c5780638ed4573a1461011457806398ed1856146101ab575b600080fd5b341561006757600080fd5b610112600480806107800190600580602002604051908101604052809291906000905b828210156101055783826101800201600480602002604051908101604052809291906000905b828210156100f25783826060020160038060200260405190810160405280929190826003602002808284378201915050505050815260200190600101906100b0565b505050508152602001906001019061008a565b5050505091905050610208565b005b341561011f57600080fd5b61012761021d565b604051808260056000925b8184101561019b578284602002015160046000925b8184101561018d5782846020020151600360200280838360005b8381101561017c578082015181840152602081019050610161565b505050509050019260010192610147565b925050509260010192610132565b9250505091505060405180910390f35b34156101b657600080fd5b6101de6004808035906020019091908035906020019091908035906020019091905050610309565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b80600090600561021992919061035f565b5050565b6102256103b0565b6000600580602002604051908101604052809291906000905b8282101561030057838260040201600480602002604051908101604052809291906000905b828210156102ed578382016003806020026040519081016040528092919082600380156102d9576020028201916000905b82829054906101000a900467ffffffffffffffff1667ffffffffffffffff16815260200190600801906020826007010492830192600103820291508084116102945790505b505050505081526020019060010190610263565b505050508152602001906001019061023e565b50505050905090565b60008360058110151561031857fe5b600402018260048110151561032957fe5b018160038110151561033757fe5b6004918282040191900660080292509250509054906101000a900467ffffffffffffffff1681565b826005600402810192821561039f579160200282015b8281111561039e5782518290600461038e9291906103df565b5091602001919060040190610375565b5b5090506103ac919061042d565b5090565b610780604051908101604052806005905b6103c9610459565b8152602001906001900390816103c15790505090565b826004810192821561041c579160200282015b8281111561041b5782518290600361040b929190610488565b50916020019190600101906103f2565b5b5090506104299190610536565b5090565b61045691905b8082111561045257600081816104499190610562565b50600401610433565b5090565b90565b610180604051908101604052806004905b6104726105a7565b81526020019060019003908161046a5790505090565b82600380016004900481019282156105255791602002820160005b838211156104ef57835183826101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555092602001926008016020816007010492830192600103026104a3565b80156105235782816101000a81549067ffffffffffffffff02191690556008016020816007010492830192600103026104ef565b505b50905061053291906105d9565b5090565b61055f91905b8082111561055b57600081816105529190610610565b5060010161053c565b5090565b90565b50600081816105719190610610565b50600101600081816105839190610610565b50600101600081816105959190610610565b5060010160006105a59190610610565b565b6060604051908101604052806003905b600067ffffffffffffffff168152602001906001900390816105b75790505090565b61060d91905b8082111561060957600081816101000a81549067ffffffffffffffff0219169055506001016105df565b5090565b90565b50600090555600a165627a7a7230582087e5a43f6965ab6ef7a4ff056ab80ed78fd8c15cff57715a1bf34ec76a93661c0029`},
                                            []string{`[{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;arr&quot;,&quot;type&quot;:&quot;uint64[3][4][5]&quot;}],&quot;name&quot;:&quot;storeDeepUintArray&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;retrieveDeepArray&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint64[3][4][5]&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;deepUint64Array&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint64&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47;deploy the test contract</span>
                                            <span class="term-fg31">-			_, _, testContract, err := DeployDeeplyNestedArray(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy test contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Finish deploy.</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47;Create coordinate-filled array, for testing purposes.</span>
                                            <span class="term-fg31">-			testArr := [5][4][3]uint64{}</span>
                                            <span class="term-fg31">-			for i := 0; i &lt; 5; i++ {</span>
                                            <span class="term-fg31">-				testArr[i] = [4][3]uint64{}</span>
                                            <span class="term-fg31">-				for j := 0; j &lt; 4; j++ {</span>
                                            <span class="term-fg31">-					testArr[i][j] = [3]uint64{}</span>
                                            <span class="term-fg31">-					for k := 0; k &lt; 3; k++ {</span>
                                            <span class="term-fg31">-						&#47;&#47;pack the coordinates, each array value will be unique, and can be validated easily.</span>
                                            <span class="term-fg31">-						testArr[i][j][k] = uint64(i) &lt;&lt; 16 | uint64(j) &lt;&lt; 8 | uint64(k)</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47;deploy the test contract</span>
                                            <span class="term-fg32">+				_, _, testContract, err := DeployDeeplyNestedArray(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy test contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Finish deploy.</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47;Create coordinate-filled array, for testing purposes.</span>
                                            <span class="term-fg32">+				testArr := [5][4][3]uint64{}</span>
                                            <span class="term-fg32">+				for i := 0; i &lt; 5; i++ {</span>
                                            <span class="term-fg32">+					testArr[i] = [4][3]uint64{}</span>
                                            <span class="term-fg32">+					for j := 0; j &lt; 4; j++ {</span>
                                            <span class="term-fg32">+						testArr[i][j] = [3]uint64{}</span>
                                            <span class="term-fg32">+						for k := 0; k &lt; 3; k++ {</span>
                                            <span class="term-fg32">+							&#47;&#47;pack the coordinates, each array value will be unique, and can be validated easily.</span>
                                            <span class="term-fg32">+							testArr[i][j][k] = uint64(i) &lt;&lt; 16 | uint64(j) &lt;&lt; 8 | uint64(k)</span>
                                            <span class="term-fg32">+						}</span>
                                            }
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if _, err := testContract.StoreDeepUintArray(&amp;bind.TransactOpts{</span>
                                            <span class="term-fg31">-				From: auth.From,</span>
                                            <span class="term-fg31">-				Signer: auth.Signer,</span>
                                            <span class="term-fg31">-			}, testArr); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to store nested array in test contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			retrievedArr, err := testContract.RetrieveDeepArray(&amp;bind.CallOpts{</span>
                                            <span class="term-fg31">-				From: auth.From,</span>
                                            <span class="term-fg31">-				Pending: false,</span>
                                            <span class="term-fg31">-			})</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to retrieve nested array from test contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47;quick check to see if contents were copied</span>
                                            <span class="term-fg31">-			&#47;&#47; (See accounts&#47;abi&#47;unpack_test.go for more extensive testing)</span>
                                            <span class="term-fg31">-			if retrievedArr[4][3][2] != testArr[4][3][2] {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Retrieved value does not match expected value! got: %d, expected: %d. %v&quot;, retrievedArr[4][3][2], testArr[4][3][2], err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if _, err := testContract.StoreDeepUintArray(&amp;bind.TransactOpts{</span>
                                            <span class="term-fg32">+					From: auth.From,</span>
                                            <span class="term-fg32">+					Signer: auth.Signer,</span>
                                            <span class="term-fg32">+				}, testArr); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to store nested array in test contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				retrievedArr, err := testContract.RetrieveDeepArray(&amp;bind.CallOpts{</span>
                                            <span class="term-fg32">+					From: auth.From,</span>
                                            <span class="term-fg32">+					Pending: false,</span>
                                            <span class="term-fg32">+				})</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to retrieve nested array from test contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47;quick check to see if contents were copied</span>
                                            <span class="term-fg32">+				&#47;&#47; (See accounts&#47;abi&#47;unpack_test.go for more extensive testing)</span>
                                            <span class="term-fg32">+				if retrievedArr[4][3][2] != testArr[4][3][2] {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Retrieved value does not match expected value! got: %d, expected: %d. %v&quot;, retrievedArr[4][3][2], testArr[4][3][2], err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1169,36 +1157,36 @@</span> 	},
                                            {
                                            `CallbackParam`,
                                            `
                                            <span class="term-fg31">-			contract FunctionPointerTest {</span>
                                            <span class="term-fg31">-				function test(function(uint256) external callback) external {</span>
                                            <span class="term-fg31">-					callback(1);</span>
                                            <span class="term-fg32">+				contract FunctionPointerTest {</span>
                                            <span class="term-fg32">+					function test(function(uint256) external callback) external {</span>
                                            <span class="term-fg32">+						callback(1);</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`608060405234801561001057600080fd5b5061015e806100206000396000f3fe60806040526004361061003b576000357c010000000000000000000000000000000000000000000000000000000090048063d7a5aba214610040575b600080fd5b34801561004c57600080fd5b506100be6004803603602081101561006357600080fd5b810190808035806c0100000000000000000000000090049068010000000000000000900463ffffffff1677ffffffffffffffffffffffffffffffffffffffffffffffff169091602001919093929190939291905050506100c0565b005b818160016040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b15801561011657600080fd5b505af115801561012a573d6000803e3d6000fd5b50505050505056fea165627a7a7230582062f87455ff84be90896dbb0c4e4ddb505c600d23089f8e80a512548440d7e2580029`},
                                            []string{`[
                                            <span class="term-fg31">-			{</span>
                                            <span class="term-fg31">-				&quot;constant&quot;: false,</span>
                                            <span class="term-fg31">-				&quot;inputs&quot;: [</span>
                                            <span class="term-fg31">-					{</span>
                                            <span class="term-fg31">-						&quot;name&quot;: &quot;callback&quot;,</span>
                                            <span class="term-fg31">-						&quot;type&quot;: &quot;function&quot;</span>
                                            <span class="term-fg31">-					}</span>
                                            <span class="term-fg31">-				],</span>
                                            <span class="term-fg31">-				&quot;name&quot;: &quot;test&quot;,</span>
                                            <span class="term-fg31">-				&quot;outputs&quot;: [],</span>
                                            <span class="term-fg31">-				&quot;payable&quot;: false,</span>
                                            <span class="term-fg31">-				&quot;stateMutability&quot;: &quot;nonpayable&quot;,</span>
                                            <span class="term-fg31">-				&quot;type&quot;: &quot;function&quot;</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		]`}, `</span>
                                            <span class="term-fg31">-			&quot;strings&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				{</span>
                                            <span class="term-fg32">+					&quot;constant&quot;: false,</span>
                                            <span class="term-fg32">+					&quot;inputs&quot;: [</span>
                                            <span class="term-fg32">+						{</span>
                                            <span class="term-fg32">+							&quot;name&quot;: &quot;callback&quot;,</span>
                                            <span class="term-fg32">+							&quot;type&quot;: &quot;function&quot;</span>
                                            <span class="term-fg32">+						}</span>
                                            <span class="term-fg32">+					],</span>
                                            <span class="term-fg32">+					&quot;name&quot;: &quot;test&quot;,</span>
                                            <span class="term-fg32">+					&quot;outputs&quot;: [],</span>
                                            <span class="term-fg32">+					&quot;payable&quot;: false,</span>
                                            <span class="term-fg32">+					&quot;stateMutability&quot;: &quot;nonpayable&quot;,</span>
                                            <span class="term-fg32">+					&quot;type&quot;: &quot;function&quot;</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			]`}, `</span>
                                            <span class="term-fg32">+				&quot;strings&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			if strings.Compare(&quot;test(function)&quot;, CallbackParamFuncSigs[&quot;d7a5aba2&quot;]) != 0 {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;&quot;)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				if strings.Compare(&quot;test(function)&quot;, CallbackParamFuncSigs[&quot;d7a5aba2&quot;]) != 0 {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;&quot;)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            []map[string]string{
                                            {
                                            &quot;test(function)&quot;: &quot;d7a5aba2&quot;,
                                            <span class="term-fg36">@@ -1210,143 +1198,143 @@</span> 		nil,
                                            }, {
                                            `Tuple`,
                                            `
                                            <span class="term-fg31">-		pragma solidity &gt;=0.4.19 &lt;0.6.0;</span>
                                            <span class="term-fg31">-		pragma experimental ABIEncoderV2;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		contract Tuple {</span>
                                            <span class="term-fg31">-			struct S { uint a; uint[] b; T[] c; }</span>
                                            <span class="term-fg31">-			struct T { uint x; uint y; }</span>
                                            <span class="term-fg31">-			struct P { uint8 x; uint8 y; }</span>
                                            <span class="term-fg31">-			struct Q { uint16 x; uint16 y; }</span>
                                            <span class="term-fg31">-			event TupleEvent(S a, T[2][] b, T[][2] c, S[] d, uint[] e);</span>
                                            <span class="term-fg31">-			event TupleEvent2(P[]);</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			function func1(S memory a, T[2][] memory b, T[][2] memory c, S[] memory d, uint[] memory e) public pure returns (S memory, T[2][] memory, T[][2] memory, S[] memory, uint[] memory) {</span>
                                            <span class="term-fg31">-				return (a, b, c, d, e);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			function func2(S memory a, T[2][] memory b, T[][2] memory c, S[] memory d, uint[] memory e) public {</span>
                                            <span class="term-fg31">-				emit TupleEvent(a, b, c, d, e);</span>
                                            <span class="term-fg32">+			pragma solidity &gt;=0.4.19 &lt;0.6.0;</span>
                                            <span class="term-fg32">+			pragma experimental ABIEncoderV2;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract Tuple {</span>
                                            <span class="term-fg32">+				struct S { uint a; uint[] b; T[] c; }</span>
                                            <span class="term-fg32">+				struct T { uint x; uint y; }</span>
                                            <span class="term-fg32">+				struct P { uint8 x; uint8 y; }</span>
                                            <span class="term-fg32">+				struct Q { uint16 x; uint16 y; }</span>
                                            <span class="term-fg32">+				event TupleEvent(S a, T[2][] b, T[][2] c, S[] d, uint[] e);</span>
                                            <span class="term-fg32">+				event TupleEvent2(P[]);</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				function func1(S memory a, T[2][] memory b, T[][2] memory c, S[] memory d, uint[] memory e) public pure returns (S memory, T[2][] memory, T[][2] memory, S[] memory, uint[] memory) {</span>
                                            <span class="term-fg32">+					return (a, b, c, d, e);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function func2(S memory a, T[2][] memory b, T[][2] memory c, S[] memory d, uint[] memory e) public {</span>
                                            <span class="term-fg32">+					emit TupleEvent(a, b, c, d, e);</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function func3(Q[] memory) public pure {} &#47;&#47; call function, nothing to return</span>
                                            }
                                            <span class="term-fg31">-			function func3(Q[] memory) public pure {} &#47;&#47; call function, nothing to return</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`60806040523480156100115760006000fd5b50610017565b6110b2806100266000396000f3fe60806040523480156100115760006000fd5b50600436106100465760003560e01c8063443c79b41461004c578063d0062cdd14610080578063e4d9a43b1461009c57610046565b60006000fd5b610066600480360361006191908101906107b8565b6100b8565b604051610077959493929190610ccb565b60405180910390f35b61009a600480360361009591908101906107b8565b6100ef565b005b6100b660048036036100b19190810190610775565b610136565b005b6100c061013a565b60606100ca61015e565b606060608989898989945094509450945094506100e2565b9550955095509550959050565b7f18d6e66efa53739ca6d13626f35ebc700b31cced3eddb50c70bbe9c082c6cd008585858585604051610126959493929190610ccb565b60405180910390a15b5050505050565b5b50565b60405180606001604052806000815260200160608152602001606081526020015090565b60405180604001604052806002905b606081526020019060019003908161016d57905050905661106e565b600082601f830112151561019d5760006000fd5b81356101b06101ab82610d6f565b610d41565b915081818352602084019350602081019050838560808402820111156101d65760006000fd5b60005b8381101561020757816101ec888261037a565b8452602084019350608083019250505b6001810190506101d9565b5050505092915050565b600082601f83011215156102255760006000fd5b600261023861023382610d98565b610d41565b9150818360005b83811015610270578135860161025588826103f3565b8452602084019350602083019250505b60018101905061023f565b5050505092915050565b600082601f830112151561028e5760006000fd5b81356102a161029c82610dbb565b610d41565b915081818352602084019350602081019050838560408402820111156102c75760006000fd5b60005b838110156102f857816102dd888261058b565b8452602084019350604083019250505b6001810190506102ca565b5050505092915050565b600082601f83011215156103165760006000fd5b813561032961032482610de4565b610d41565b9150818183526020840193506020810190508360005b83811015610370578135860161035588826105d8565b8452602084019350602083019250505b60018101905061033f565b5050505092915050565b600082601f830112151561038e5760006000fd5b60026103a161039c82610e0d565b610d41565b915081838560408402820111156103b85760006000fd5b60005b838110156103e957816103ce88826106fe565b8452602084019350604083019250505b6001810190506103bb565b5050505092915050565b600082601f83011215156104075760006000fd5b813561041a61041582610e30565b610d41565b915081818352602084019350602081019050838560408402820111156104405760006000fd5b60005b83811015610471578161045688826106fe565b8452602084019350604083019250505b600181019050610443565b5050505092915050565b600082601f830112151561048f5760006000fd5b81356104a261049d82610e59565b610d41565b915081818352602084019350602081019050838560208402820111156104c85760006000fd5b60005b838110156104f957816104de8882610760565b8452602084019350602083019250505b6001810190506104cb565b5050505092915050565b600082601f83011215156105175760006000fd5b813561052a61052582610e82565b610d41565b915081818352602084019350602081019050838560208402820111156105505760006000fd5b60005b8381101561058157816105668882610760565b8452602084019350602083019250505b600181019050610553565b5050505092915050565b60006040828403121561059e5760006000fd5b6105a86040610d41565b905060006105b88482850161074b565b60008301525060206105cc8482850161074b565b60208301525092915050565b6000606082840312156105eb5760006000fd5b6105f56060610d41565b9050600061060584828501610760565b600083015250602082013567ffffffffffffffff8111156106265760006000fd5b6106328482850161047b565b602083015250604082013567ffffffffffffffff8111156106535760006000fd5b61065f848285016103f3565b60408301525092915050565b60006060828403121561067e5760006000fd5b6106886060610d41565b9050600061069884828501610760565b600083015250602082013567ffffffffffffffff8111156106b95760006000fd5b6106c58482850161047b565b602083015250604082013567ffffffffffffffff8111156106e65760006000fd5b6106f2848285016103f3565b60408301525092915050565b6000604082840312156107115760006000fd5b61071b6040610d41565b9050600061072b84828501610760565b600083015250602061073f84828501610760565b60208301525092915050565b60008135905061075a8161103a565b92915050565b60008135905061076f81611054565b92915050565b6000602082840312156107885760006000fd5b600082013567ffffffffffffffff8111156107a35760006000fd5b6107af8482850161027a565b91505092915050565b6000600060006000600060a086880312156107d35760006000fd5b600086013567ffffffffffffffff8111156107ee5760006000fd5b6107fa8882890161066b565b955050602086013567ffffffffffffffff8111156108185760006000fd5b61082488828901610189565b945050604086013567ffffffffffffffff8111156108425760006000fd5b61084e88828901610211565b935050606086013567ffffffffffffffff81111561086c5760006000fd5b61087888828901610302565b925050608086013567ffffffffffffffff8111156108965760006000fd5b6108a288828901610503565b9150509295509295909350565b60006108bb8383610a6a565b60808301905092915050565b60006108d38383610ac2565b905092915050565b60006108e78383610c36565b905092915050565b60006108fb8383610c8d565b60408301905092915050565b60006109138383610cbc565b60208301905092915050565b600061092a82610f0f565b6109348185610fb7565b935061093f83610eab565b8060005b8381101561097157815161095788826108af565b975061096283610f5c565b9250505b600181019050610943565b5085935050505092915050565b600061098982610f1a565b6109938185610fc8565b9350836020820285016109a585610ebb565b8060005b858110156109e257848403895281516109c285826108c7565b94506109cd83610f69565b925060208a019950505b6001810190506109a9565b50829750879550505050505092915050565b60006109ff82610f25565b610a098185610fd3565b935083602082028501610a1b85610ec5565b8060005b85811015610a585784840389528151610a3885826108db565b9450610a4383610f76565b925060208a019950505b600181019050610a1f565b50829750879550505050505092915050565b610a7381610f30565b610a7d8184610fe4565b9250610a8882610ed5565b8060005b83811015610aba578151610aa087826108ef565b9650610aab83610f83565b9250505b600181019050610a8c565b505050505050565b6000610acd82610f3b565b610ad78185610fef565b9350610ae283610edf565b8060005b83811015610b14578151610afa88826108ef565b9750610b0583610f90565b9250505b600181019050610ae6565b5085935050505092915050565b6000610b2c82610f51565b610b368185611011565b9350610b4183610eff565b8060005b83811015610b73578151610b598882610907565b9750610b6483610faa565b9250505b600181019050610b45565b5085935050505092915050565b6000610b8b82610f46565b610b958185611000565b9350610ba083610eef565b8060005b83811015610bd2578151610bb88882610907565b9750610bc383610f9d565b9250505b600181019050610ba4565b5085935050505092915050565b6000606083016000830151610bf76000860182610cbc565b5060208301518482036020860152610c0f8282610b80565b91505060408301518482036040860152610c298282610ac2565b9150508091505092915050565b6000606083016000830151610c4e6000860182610cbc565b5060208301518482036020860152610c668282610b80565b91505060408301518482036040860152610c808282610ac2565b9150508091505092915050565b604082016000820151610ca36000850182610cbc565b506020820151610cb66020850182610cbc565b50505050565b610cc581611030565b82525050565b600060a0820190508181036000830152610ce58188610bdf565b90508181036020830152610cf9818761091f565b90508181036040830152610d0d818661097e565b90508181036060830152610d2181856109f4565b90508181036080830152610d358184610b21565b90509695505050505050565b6000604051905081810181811067ffffffffffffffff82111715610d655760006000fd5b8060405250919050565b600067ffffffffffffffff821115610d875760006000fd5b602082029050602081019050919050565b600067ffffffffffffffff821115610db05760006000fd5b602082029050919050565b600067ffffffffffffffff821115610dd35760006000fd5b602082029050602081019050919050565b600067ffffffffffffffff821115610dfc5760006000fd5b602082029050602081019050919050565b600067ffffffffffffffff821115610e255760006000fd5b602082029050919050565b600067ffffffffffffffff821115610e485760006000fd5b602082029050602081019050919050565b600067ffffffffffffffff821115610e715760006000fd5b602082029050602081019050919050565b600067ffffffffffffffff821115610e9a5760006000fd5b602082029050602081019050919050565b6000819050602082019050919050565b6000819050919050565b6000819050602082019050919050565b6000819050919050565b6000819050602082019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b600081519050919050565b600060029050919050565b600081519050919050565b600060029050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600061ffff82169050919050565b6000819050919050565b61104381611022565b811415156110515760006000fd5b50565b61105d81611030565b8114151561106b5760006000fd5b50565bfea365627a7a72315820d78c6ba7ee332581e6c4d9daa5fc07941841230f7ce49edf6e05b1b63853e8746c6578706572696d656e74616cf564736f6c634300050c0040`},
                                            []string{`
                                            <span class="term-fg31">-[{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.S&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;tuple&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.T[2][]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;tuple[2][]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.T[][2]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[][2]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.S[]&quot;,&quot;name&quot;:&quot;d&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;e&quot;,&quot;type&quot;:&quot;uint256[]&quot;}],&quot;name&quot;:&quot;TupleEvent&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint8&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint8&quot;},{&quot;internalType&quot;:&quot;uint8&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint8&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.P[]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;name&quot;:&quot;TupleEvent2&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;tuple&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[2][]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;tuple[2][]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[][2]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[][2]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S[]&quot;,&quot;name&quot;:&quot;d&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;e&quot;,&quot;type&quot;:&quot;uint256[]&quot;}],&quot;name&quot;:&quot;func1&quot;,&quot;outputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[2][]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[2][]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[][2]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[][2]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S[]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256[]&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;tuple&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[2][]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;tuple[2][]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[][2]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[][2]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S[]&quot;,&quot;name&quot;:&quot;d&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;e&quot;,&quot;type&quot;:&quot;uint256[]&quot;}],&quot;name&quot;:&quot;func2&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint16&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint16&quot;},{&quot;internalType&quot;:&quot;uint16&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint16&quot;}],&quot;internalType&quot;:&quot;struct Tuple.Q[]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;name&quot;:&quot;func3&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;}]</span>
                                            <span class="term-fg31">-		`},</span>
                                            <span class="term-fg32">+	[{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.S&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;tuple&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.T[2][]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;tuple[2][]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.T[][2]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[][2]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.S[]&quot;,&quot;name&quot;:&quot;d&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;e&quot;,&quot;type&quot;:&quot;uint256[]&quot;}],&quot;name&quot;:&quot;TupleEvent&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint8&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint8&quot;},{&quot;internalType&quot;:&quot;uint8&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint8&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Tuple.P[]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;name&quot;:&quot;TupleEvent2&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;tuple&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[2][]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;tuple[2][]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[][2]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[][2]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S[]&quot;,&quot;name&quot;:&quot;d&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;e&quot;,&quot;type&quot;:&quot;uint256[]&quot;}],&quot;name&quot;:&quot;func1&quot;,&quot;outputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[2][]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[2][]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[][2]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[][2]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S[]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256[]&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;tuple&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[2][]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;tuple[2][]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[][2]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[][2]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256[]&quot;},{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct Tuple.T[]&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;internalType&quot;:&quot;struct Tuple.S[]&quot;,&quot;name&quot;:&quot;d&quot;,&quot;type&quot;:&quot;tuple[]&quot;},{&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;e&quot;,&quot;type&quot;:&quot;uint256[]&quot;}],&quot;name&quot;:&quot;func2&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint16&quot;,&quot;name&quot;:&quot;x&quot;,&quot;type&quot;:&quot;uint16&quot;},{&quot;internalType&quot;:&quot;uint16&quot;,&quot;name&quot;:&quot;y&quot;,&quot;type&quot;:&quot;uint16&quot;}],&quot;internalType&quot;:&quot;struct Tuple.Q[]&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;tuple[]&quot;}],&quot;name&quot;:&quot;func3&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;}]</span>
                                            <span class="term-fg32">+			`},</span>
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-			&quot;reflect&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+				&quot;reflect&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            &nbsp;
                                            `
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			_, _, contract, err := DeployTuple(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;deploy contract failed %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			check := func(a, b interface{}, errMsg string) {</span>
                                            <span class="term-fg31">-				if !reflect.DeepEqual(a, b) {</span>
                                            <span class="term-fg31">-					t.Fatal(errMsg)</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				_, _, contract, err := DeployTuple(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;deploy contract failed %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				check := func(a, b interface{}, errMsg string) {</span>
                                            <span class="term-fg32">+					if !reflect.DeepEqual(a, b) {</span>
                                            <span class="term-fg32">+						t.Fatal(errMsg)</span>
                                            <span class="term-fg32">+					}</span>
                                            }
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			a := TupleS{</span>
                                            <span class="term-fg31">-				A: big.NewInt(1),</span>
                                            <span class="term-fg31">-				B: []*big.Int{big.NewInt(2), big.NewInt(3)},</span>
                                            <span class="term-fg31">-				C: []TupleT{</span>
                                            <span class="term-fg31">-					{</span>
                                            <span class="term-fg31">-						X: big.NewInt(4),</span>
                                            <span class="term-fg31">-						Y: big.NewInt(5),</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				a := TupleS{</span>
                                            <span class="term-fg32">+					A: big.NewInt(1),</span>
                                            <span class="term-fg32">+					B: []*big.Int{big.NewInt(2), big.NewInt(3)},</span>
                                            <span class="term-fg32">+					C: []TupleT{</span>
                                            <span class="term-fg32">+						{</span>
                                            <span class="term-fg32">+							X: big.NewInt(4),</span>
                                            <span class="term-fg32">+							Y: big.NewInt(5),</span>
                                            <span class="term-fg32">+						},</span>
                                            <span class="term-fg32">+						{</span>
                                            <span class="term-fg32">+							X: big.NewInt(6),</span>
                                            <span class="term-fg32">+							Y: big.NewInt(7),</span>
                                            <span class="term-fg32">+						},</span>
                                            },
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				b := [][2]TupleT{</span>
                                            {
                                            <span class="term-fg31">-						X: big.NewInt(6),</span>
                                            <span class="term-fg31">-						Y: big.NewInt(7),</span>
                                            <span class="term-fg32">+						{</span>
                                            <span class="term-fg32">+							X: big.NewInt(8),</span>
                                            <span class="term-fg32">+							Y: big.NewInt(9),</span>
                                            <span class="term-fg32">+						},</span>
                                            <span class="term-fg32">+						{</span>
                                            <span class="term-fg32">+							X: big.NewInt(10),</span>
                                            <span class="term-fg32">+							Y: big.NewInt(11),</span>
                                            <span class="term-fg32">+						},</span>
                                            },
                                            <span class="term-fg31">-				},</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			b := [][2]TupleT{</span>
                                            <span class="term-fg31">-				{</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				c := [2][]TupleT{</span>
                                            {
                                            <span class="term-fg31">-						X: big.NewInt(8),</span>
                                            <span class="term-fg31">-						Y: big.NewInt(9),</span>
                                            <span class="term-fg32">+						{</span>
                                            <span class="term-fg32">+							X: big.NewInt(12),</span>
                                            <span class="term-fg32">+							Y: big.NewInt(13),</span>
                                            <span class="term-fg32">+						},</span>
                                            <span class="term-fg32">+						{</span>
                                            <span class="term-fg32">+							X: big.NewInt(14),</span>
                                            <span class="term-fg32">+							Y: big.NewInt(15),</span>
                                            <span class="term-fg32">+						},</span>
                                            },
                                            {
                                            <span class="term-fg31">-						X: big.NewInt(10),</span>
                                            <span class="term-fg31">-						Y: big.NewInt(11),</span>
                                            <span class="term-fg32">+						{</span>
                                            <span class="term-fg32">+							X: big.NewInt(16),</span>
                                            <span class="term-fg32">+							Y: big.NewInt(17),</span>
                                            <span class="term-fg32">+						},</span>
                                            },
                                            <span class="term-fg31">-				},</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			c := [2][]TupleT{</span>
                                            <span class="term-fg31">-				{</span>
                                            <span class="term-fg31">-					{</span>
                                            <span class="term-fg31">-						X: big.NewInt(12),</span>
                                            <span class="term-fg31">-						Y: big.NewInt(13),</span>
                                            <span class="term-fg31">-					},</span>
                                            <span class="term-fg31">-					{</span>
                                            <span class="term-fg31">-						X: big.NewInt(14),</span>
                                            <span class="term-fg31">-						Y: big.NewInt(15),</span>
                                            <span class="term-fg31">-					},</span>
                                            <span class="term-fg31">-				},</span>
                                            <span class="term-fg31">-				{</span>
                                            <span class="term-fg31">-					{</span>
                                            <span class="term-fg31">-						X: big.NewInt(16),</span>
                                            <span class="term-fg31">-						Y: big.NewInt(17),</span>
                                            <span class="term-fg31">-					},</span>
                                            <span class="term-fg31">-				},</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			d := []TupleS{a}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			e := []*big.Int{big.NewInt(18), big.NewInt(19)}</span>
                                            <span class="term-fg31">-			ret1, ret2, ret3, ret4, ret5, err := contract.Func1(nil, a, b, c, d, e)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;invoke contract failed, err %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			check(ret1, a, &quot;ret1 mismatch&quot;)</span>
                                            <span class="term-fg31">-			check(ret2, b, &quot;ret2 mismatch&quot;)</span>
                                            <span class="term-fg31">-			check(ret3, c, &quot;ret3 mismatch&quot;)</span>
                                            <span class="term-fg31">-			check(ret4, d, &quot;ret4 mismatch&quot;)</span>
                                            <span class="term-fg31">-			check(ret5, e, &quot;ret5 mismatch&quot;)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			_, err = contract.Func2(auth, a, b, c, d, e)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;invoke contract failed, err %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			iter, err := contract.FilterTupleEvent(nil)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to create event filter, err %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			defer iter.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			iter.Next()</span>
                                            <span class="term-fg31">-			check(iter.Event.A, a, &quot;field1 mismatch&quot;)</span>
                                            <span class="term-fg31">-			check(iter.Event.B, b, &quot;field2 mismatch&quot;)</span>
                                            <span class="term-fg31">-			check(iter.Event.C, c, &quot;field3 mismatch&quot;)</span>
                                            <span class="term-fg31">-			check(iter.Event.D, d, &quot;field4 mismatch&quot;)</span>
                                            <span class="term-fg31">-			check(iter.Event.E, e, &quot;field5 mismatch&quot;)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			err = contract.Func3(nil, nil)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;failed to call function which has no return, err %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				d := []TupleS{a}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				e := []*big.Int{big.NewInt(18), big.NewInt(19)}</span>
                                            <span class="term-fg32">+				ret1, ret2, ret3, ret4, ret5, err := contract.Func1(nil, a, b, c, d, e)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;invoke contract failed, err %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				check(ret1, a, &quot;ret1 mismatch&quot;)</span>
                                            <span class="term-fg32">+				check(ret2, b, &quot;ret2 mismatch&quot;)</span>
                                            <span class="term-fg32">+				check(ret3, c, &quot;ret3 mismatch&quot;)</span>
                                            <span class="term-fg32">+				check(ret4, d, &quot;ret4 mismatch&quot;)</span>
                                            <span class="term-fg32">+				check(ret5, e, &quot;ret5 mismatch&quot;)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				_, err = contract.Func2(auth, a, b, c, d, e)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;invoke contract failed, err %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				iter, err := contract.FilterTupleEvent(nil)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to create event filter, err %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				defer iter.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				iter.Next()</span>
                                            <span class="term-fg32">+				check(iter.Event.A, a, &quot;field1 mismatch&quot;)</span>
                                            <span class="term-fg32">+				check(iter.Event.B, b, &quot;field2 mismatch&quot;)</span>
                                            <span class="term-fg32">+				check(iter.Event.C, c, &quot;field3 mismatch&quot;)</span>
                                            <span class="term-fg32">+				check(iter.Event.D, d, &quot;field4 mismatch&quot;)</span>
                                            <span class="term-fg32">+				check(iter.Event.E, e, &quot;field5 mismatch&quot;)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				err = contract.Func3(nil, nil)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;failed to call function which has no return, err %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1355,18 +1343,18 @@</span> 	},
                                            {
                                            `UseLibrary`,
                                            `
                                            <span class="term-fg31">-		library Math {</span>
                                            <span class="term-fg31">-    		function add(uint a, uint b) public view returns(uint) {</span>
                                            <span class="term-fg31">-        		return a + b;</span>
                                            <span class="term-fg31">-    		}</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		contract UseLibrary {</span>
                                            <span class="term-fg31">-			function add (uint c, uint d) public view returns(uint) {</span>
                                            <span class="term-fg31">-        		return Math.add(c,d);</span>
                                            <span class="term-fg31">-    		}</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			library Math {</span>
                                            <span class="term-fg32">+	   		function add(uint a, uint b) public view returns(uint) {</span>
                                            <span class="term-fg32">+	       		return a + b;</span>
                                            <span class="term-fg32">+	   		}</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract UseLibrary {</span>
                                            <span class="term-fg32">+				function add (uint c, uint d) public view returns(uint) {</span>
                                            <span class="term-fg32">+	       		return Math.add(c,d);</span>
                                            <span class="term-fg32">+	   		}</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{
                                            &#47;&#47; Bytecode for the UseLibrary contract
                                            `608060405234801561001057600080fd5b5061011d806100206000396000f3fe6080604052348015600f57600080fd5b506004361060285760003560e01c8063771602f714602d575b600080fd5b604d60048036036040811015604157600080fd5b5080359060200135605f565b60408051918252519081900360200190f35b600073__$b98c933f0a6ececcd167bd4f9d3299b1a0$__63771602f784846040518363ffffffff1660e01b8152600401808381526020018281526020019250505060206040518083038186803b15801560b757600080fd5b505af415801560ca573d6000803e3d6000fd5b505050506040513d602081101560df57600080fd5b5051939250505056fea265627a7a72305820eb5c38f42445604cfa43d85e3aa5ecc48b0a646456c902dd48420ae7241d06f664736f6c63430005090032`,
                                            <span class="term-fg36">@@ -1378,43 +1366,43 @@</span> 			`[{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;d&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;add&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;}]`,
                                            `[{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;add&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;}]`,
                                            },
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47;deploy the test contract</span>
                                            <span class="term-fg31">-			_, _, testContract, err := DeployUseLibrary(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy test contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Finish deploy.</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Check that the library contract has been deployed</span>
                                            <span class="term-fg31">-			&#47;&#47; by calling the contract&#39;s add function.</span>
                                            <span class="term-fg31">-			res, err := testContract.Add(&amp;bind.CallOpts{</span>
                                            <span class="term-fg31">-				From: auth.From,</span>
                                            <span class="term-fg31">-				Pending: false,</span>
                                            <span class="term-fg31">-			}, big.NewInt(1), big.NewInt(2))</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to call linked contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if res.Cmp(big.NewInt(3)) != 0 {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Add did not return the correct result: %d != %d&quot;, res, 3)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47;deploy the test contract</span>
                                            <span class="term-fg32">+				_, _, testContract, err := DeployUseLibrary(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy test contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Finish deploy.</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Check that the library contract has been deployed</span>
                                            <span class="term-fg32">+				&#47;&#47; by calling the contract&#39;s add function.</span>
                                            <span class="term-fg32">+				res, err := testContract.Add(&amp;bind.CallOpts{</span>
                                            <span class="term-fg32">+					From: auth.From,</span>
                                            <span class="term-fg32">+					Pending: false,</span>
                                            <span class="term-fg32">+				}, big.NewInt(1), big.NewInt(2))</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to call linked contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if res.Cmp(big.NewInt(3)) != 0 {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Add did not return the correct result: %d != %d&quot;, res, 3)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            map[string]string{
                                            &quot;b98c933f0a6ececcd167bd4f9d3299b1a0&quot;: &quot;Math&quot;,
                                            <span class="term-fg36">@@ -1424,93 +1412,93 @@</span> 		[]string{&quot;UseLibrary&quot;, &quot;Math&quot;},
                                            }, {
                                            &quot;Overload&quot;,
                                            `
                                            <span class="term-fg31">-		pragma solidity ^0.5.10;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		contract overload {</span>
                                            <span class="term-fg31">-		  mapping(address =&gt; uint256) balances;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		  event bar(uint256 i);</span>
                                            <span class="term-fg31">-		  event bar(uint256 i, uint256 j);</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		  function foo(uint256 i) public {</span>
                                            <span class="term-fg31">-			  emit bar(i);</span>
                                            <span class="term-fg31">-		  }</span>
                                            <span class="term-fg31">-		  function foo(uint256 i, uint256 j) public {</span>
                                            <span class="term-fg31">-			  emit bar(i, j);</span>
                                            <span class="term-fg31">-		  }</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			pragma solidity ^0.5.10;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract overload {</span>
                                            <span class="term-fg32">+			  mapping(address =&gt; uint256) balances;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			  event bar(uint256 i);</span>
                                            <span class="term-fg32">+			  event bar(uint256 i, uint256 j);</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			  function foo(uint256 i) public {</span>
                                            <span class="term-fg32">+				  emit bar(i);</span>
                                            <span class="term-fg32">+			  }</span>
                                            <span class="term-fg32">+			  function foo(uint256 i, uint256 j) public {</span>
                                            <span class="term-fg32">+				  emit bar(i, j);</span>
                                            <span class="term-fg32">+			  }</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`608060405234801561001057600080fd5b50610153806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c806304bc52f81461003b5780632fbebd3814610073575b600080fd5b6100716004803603604081101561005157600080fd5b8101908080359060200190929190803590602001909291905050506100a1565b005b61009f6004803603602081101561008957600080fd5b81019080803590602001909291905050506100e4565b005b7fae42e9514233792a47a1e4554624e83fe852228e1503f63cd383e8a431f4f46d8282604051808381526020018281526020019250505060405180910390a15050565b7f0423a1321222a0a8716c22b92fac42d85a45a612b696a461784d9fa537c81e5c816040518082815260200191505060405180910390a15056fea265627a7a72305820e22b049858b33291cbe67eeaece0c5f64333e439d27032ea8337d08b1de18fe864736f6c634300050a0032`},
                                            []string{`[{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;i&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;name&quot;:&quot;j&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;foo&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;i&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;foo&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;name&quot;:&quot;i&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;bar&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;name&quot;:&quot;i&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;indexed&quot;:false,&quot;name&quot;:&quot;j&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;bar&quot;,&quot;type&quot;:&quot;event&quot;}]`},
                                            `
                                            <span class="term-fg31">-		&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-		&quot;time&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+			&quot;time&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-		&#47;&#47; Initialize test accounts</span>
                                            <span class="term-fg31">-		key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-		auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-		sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-		defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&#47;&#47; deploy the test contract</span>
                                            <span class="term-fg31">-		_, _, contract, err := DeployOverload(auth, sim)</span>
                                            <span class="term-fg31">-		if err != nil {</span>
                                            <span class="term-fg31">-			t.Fatalf(&quot;Failed to deploy contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		&#47;&#47; Finish deploy.</span>
                                            <span class="term-fg31">-		sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		resCh, stopCh := make(chan uint64), make(chan struct{})</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		go func() {</span>
                                            <span class="term-fg31">-			barSink := make(chan *OverloadBar)</span>
                                            <span class="term-fg31">-			sub, _ := contract.WatchBar(nil, barSink)</span>
                                            <span class="term-fg31">-			defer sub.Unsubscribe()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			bar0Sink := make(chan *OverloadBar0)</span>
                                            <span class="term-fg31">-			sub0, _ := contract.WatchBar0(nil, bar0Sink)</span>
                                            <span class="term-fg31">-			defer sub0.Unsubscribe()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			for {</span>
                                            <span class="term-fg31">-				select {</span>
                                            <span class="term-fg31">-				case ev := &lt;-barSink:</span>
                                            <span class="term-fg31">-					resCh &lt;- ev.I.Uint64()</span>
                                            <span class="term-fg31">-				case ev := &lt;-bar0Sink:</span>
                                            <span class="term-fg31">-					resCh &lt;- ev.I.Uint64() + ev.J.Uint64()</span>
                                            <span class="term-fg31">-				case &lt;-stopCh:</span>
                                            <span class="term-fg31">-					return</span>
                                            <span class="term-fg31">-				}</span>
                                            <span class="term-fg32">+			&#47;&#47; Initialize test accounts</span>
                                            <span class="term-fg32">+			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+			defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			&#47;&#47; deploy the test contract</span>
                                            <span class="term-fg32">+			_, _, contract, err := DeployOverload(auth, sim)</span>
                                            <span class="term-fg32">+			if err != nil {</span>
                                            <span class="term-fg32">+				t.Fatalf(&quot;Failed to deploy contract: %v&quot;, err)</span>
                                            }
                                            <span class="term-fg31">-		}()</span>
                                            <span class="term-fg31">-		contract.Foo(auth, big.NewInt(1), big.NewInt(2))</span>
                                            <span class="term-fg31">-		sim.Commit()</span>
                                            <span class="term-fg31">-		select {</span>
                                            <span class="term-fg31">-		case n := &lt;-resCh:</span>
                                            <span class="term-fg31">-			if n != 3 {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Invalid bar0 event&quot;)</span>
                                            <span class="term-fg32">+			&#47;&#47; Finish deploy.</span>
                                            <span class="term-fg32">+			sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			resCh, stopCh := make(chan uint64), make(chan struct{})</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			go func() {</span>
                                            <span class="term-fg32">+				barSink := make(chan *OverloadBar)</span>
                                            <span class="term-fg32">+				sub, _ := contract.WatchBar(nil, barSink)</span>
                                            <span class="term-fg32">+				defer sub.Unsubscribe()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				bar0Sink := make(chan *OverloadBar0)</span>
                                            <span class="term-fg32">+				sub0, _ := contract.WatchBar0(nil, bar0Sink)</span>
                                            <span class="term-fg32">+				defer sub0.Unsubscribe()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				for {</span>
                                            <span class="term-fg32">+					select {</span>
                                            <span class="term-fg32">+					case ev := &lt;-barSink:</span>
                                            <span class="term-fg32">+						resCh &lt;- ev.I.Uint64()</span>
                                            <span class="term-fg32">+					case ev := &lt;-bar0Sink:</span>
                                            <span class="term-fg32">+						resCh &lt;- ev.I.Uint64() + ev.J.Uint64()</span>
                                            <span class="term-fg32">+					case &lt;-stopCh:</span>
                                            <span class="term-fg32">+						return</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			}()</span>
                                            <span class="term-fg32">+			contract.Foo(auth, big.NewInt(1), big.NewInt(2))</span>
                                            <span class="term-fg32">+			sim.Commit()</span>
                                            <span class="term-fg32">+			select {</span>
                                            <span class="term-fg32">+			case n := &lt;-resCh:</span>
                                            <span class="term-fg32">+				if n != 3 {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Invalid bar0 event&quot;)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			case &lt;-time.NewTimer(3 * time.Second).C:</span>
                                            <span class="term-fg32">+				t.Fatalf(&quot;Wait bar0 event timeout&quot;)</span>
                                            }
                                            <span class="term-fg31">-		case &lt;-time.NewTimer(3 * time.Second).C:</span>
                                            <span class="term-fg31">-			t.Fatalf(&quot;Wait bar0 event timeout&quot;)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		contract.Foo0(auth, big.NewInt(1))</span>
                                            <span class="term-fg31">-		sim.Commit()</span>
                                            <span class="term-fg31">-		select {</span>
                                            <span class="term-fg31">-		case n := &lt;-resCh:</span>
                                            <span class="term-fg31">-			if n != 1 {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Invalid bar event&quot;)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract.Foo0(auth, big.NewInt(1))</span>
                                            <span class="term-fg32">+			sim.Commit()</span>
                                            <span class="term-fg32">+			select {</span>
                                            <span class="term-fg32">+			case n := &lt;-resCh:</span>
                                            <span class="term-fg32">+				if n != 1 {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Invalid bar event&quot;)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			case &lt;-time.NewTimer(3 * time.Second).C:</span>
                                            <span class="term-fg32">+				t.Fatalf(&quot;Wait bar event timeout&quot;)</span>
                                            }
                                            <span class="term-fg31">-		case &lt;-time.NewTimer(3 * time.Second).C:</span>
                                            <span class="term-fg31">-			t.Fatalf(&quot;Wait bar event timeout&quot;)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		close(stopCh)</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			close(stopCh)</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1519,41 +1507,41 @@</span> 	},
                                            {
                                            &quot;IdentifierCollision&quot;,
                                            `
                                            <span class="term-fg31">-		pragma solidity &gt;=0.4.19 &lt;0.6.0;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		contract IdentifierCollision {</span>
                                            <span class="term-fg31">-			uint public _myVar;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			function MyVar() public view returns (uint) {</span>
                                            <span class="term-fg31">-				return _myVar;</span>
                                            <span class="term-fg32">+			pragma solidity &gt;=0.4.19 &lt;0.6.0;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract IdentifierCollision {</span>
                                            <span class="term-fg32">+				uint public _myVar;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				function MyVar() public view returns (uint) {</span>
                                            <span class="term-fg32">+					return _myVar;</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{&quot;60806040523480156100115760006000fd5b50610017565b60c3806100256000396000f3fe608060405234801560105760006000fd5b506004361060365760003560e01c806301ad4d8714603c5780634ef1f0ad146058576036565b60006000fd5b60426074565b6040518082815260200191505060405180910390f35b605e607d565b6040518082815260200191505060405180910390f35b60006000505481565b60006000600050549050608b565b9056fea265627a7a7231582067c8d84688b01c4754ba40a2a871cede94ea1f28b5981593ab2a45b46ac43af664736f6c634300050c0032&quot;},
                                            []string{`[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;MyVar&quot;,&quot;outputs&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;_myVar&quot;,&quot;outputs&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-		&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-		&#47;&#47; Initialize test accounts</span>
                                            <span class="term-fg31">-		key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-		addr := crypto.PubkeyToAddress(key.PublicKey)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&#47;&#47; Deploy registrar contract</span>
                                            <span class="term-fg31">-		sim := backends.NewSimulatedBackend(types.GenesisAlloc{addr: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-		defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		transactOpts, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-		_, _, _, err := DeployIdentifierCollision(transactOpts, sim)</span>
                                            <span class="term-fg31">-		if err != nil {</span>
                                            <span class="term-fg31">-			t.Fatalf(&quot;failed to deploy contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			&#47;&#47; Initialize test accounts</span>
                                            <span class="term-fg32">+			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+			addr := crypto.PubkeyToAddress(key.PublicKey)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			&#47;&#47; Deploy registrar contract</span>
                                            <span class="term-fg32">+			sim := backends.NewSimulatedBackend(types.GenesisAlloc{addr: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+			defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			transactOpts, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+			_, _, _, err := DeployIdentifierCollision(transactOpts, sim)</span>
                                            <span class="term-fg32">+			if err != nil {</span>
                                            <span class="term-fg32">+				t.Fatalf(&quot;failed to deploy contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            map[string]string{&quot;_myVar&quot;: &quot;pubVar&quot;}, &#47;&#47; alias MyVar to PubVar
                                            <span class="term-fg36">@@ -1562,28 +1550,28 @@</span> 	},
                                            {
                                            &quot;MultiContracts&quot;,
                                            `
                                            <span class="term-fg31">-		pragma solidity ^0.5.11;</span>
                                            <span class="term-fg31">-		pragma experimental ABIEncoderV2;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		library ExternalLib {</span>
                                            <span class="term-fg31">-			struct SharedStruct{</span>
                                            <span class="term-fg31">-				uint256 f1;</span>
                                            <span class="term-fg31">-				bytes32 f2;</span>
                                            <span class="term-fg32">+			pragma solidity ^0.5.11;</span>
                                            <span class="term-fg32">+			pragma experimental ABIEncoderV2;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			library ExternalLib {</span>
                                            <span class="term-fg32">+				struct SharedStruct{</span>
                                            <span class="term-fg32">+					uint256 f1;</span>
                                            <span class="term-fg32">+					bytes32 f2;</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		contract ContractOne {</span>
                                            <span class="term-fg31">-			function foo(ExternalLib.SharedStruct memory s) pure public {</span>
                                            <span class="term-fg31">-				&#47;&#47; Do stuff</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract ContractOne {</span>
                                            <span class="term-fg32">+				function foo(ExternalLib.SharedStruct memory s) pure public {</span>
                                            <span class="term-fg32">+					&#47;&#47; Do stuff</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		contract ContractTwo {</span>
                                            <span class="term-fg31">-			function bar(ExternalLib.SharedStruct memory s) pure public {</span>
                                            <span class="term-fg31">-				&#47;&#47; Do stuff</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract ContractTwo {</span>
                                            <span class="term-fg32">+				function bar(ExternalLib.SharedStruct memory s) pure public {</span>
                                            <span class="term-fg32">+					&#47;&#47; Do stuff</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-        `,</span>
                                            <span class="term-fg32">+	       `,</span>
                                            []string{
                                            `60806040523480156100115760006000fd5b50610017565b6101b5806100266000396000f3fe60806040523480156100115760006000fd5b50600436106100305760003560e01c80639d8a8ba81461003657610030565b60006000fd5b610050600480360361004b91908101906100d1565b610052565b005b5b5056610171565b6000813590506100698161013d565b92915050565b6000604082840312156100825760006000fd5b61008c60406100fb565b9050600061009c848285016100bc565b60008301525060206100b08482850161005a565b60208301525092915050565b6000813590506100cb81610157565b92915050565b6000604082840312156100e45760006000fd5b60006100f28482850161006f565b91505092915050565b6000604051905081810181811067ffffffffffffffff8211171561011f5760006000fd5b8060405250919050565b6000819050919050565b6000819050919050565b61014681610129565b811415156101545760006000fd5b50565b61016081610133565b8114151561016e5760006000fd5b50565bfea365627a7a72315820749274eb7f6c01010d5322af4e1668b0a154409eb7968bd6cae5524c7ed669bb6c6578706572696d656e74616cf564736f6c634300050c0040`,
                                            `60806040523480156100115760006000fd5b50610017565b6101b5806100266000396000f3fe60806040523480156100115760006000fd5b50600436106100305760003560e01c8063db8ba08c1461003657610030565b60006000fd5b610050600480360361004b91908101906100d1565b610052565b005b5b5056610171565b6000813590506100698161013d565b92915050565b6000604082840312156100825760006000fd5b61008c60406100fb565b9050600061009c848285016100bc565b60008301525060206100b08482850161005a565b60208301525092915050565b6000813590506100cb81610157565b92915050565b6000604082840312156100e45760006000fd5b60006100f28482850161006f565b91505092915050565b6000604051905081810181811067ffffffffffffffff8211171561011f5760006000fd5b8060405250919050565b6000819050919050565b6000819050919050565b61014681610129565b811415156101545760006000fd5b50565b61016081610133565b8114151561016e5760006000fd5b50565bfea365627a7a723158209bc28ee7ea97c131a13330d77ec73b4493b5c59c648352da81dd288b021192596c6578706572696d656e74616cf564736f6c634300050c0040`,
                                            <span class="term-fg36">@@ -1595,47 +1583,47 @@</span> 			`[{&quot;constant&quot;:true,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;f1&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;bytes32&quot;,&quot;name&quot;:&quot;f2&quot;,&quot;type&quot;:&quot;bytes32&quot;}],&quot;internalType&quot;:&quot;struct ExternalLib.SharedStruct&quot;,&quot;name&quot;:&quot;s&quot;,&quot;type&quot;:&quot;tuple&quot;}],&quot;name&quot;:&quot;bar&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;}]`,
                                            `[]`,
                                            },
                                            `
                                            <span class="term-fg31">-		&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-        `,</span>
                                            <span class="term-fg32">+			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+	       `,</span>
                                            `
                                            <span class="term-fg31">-		key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-		addr := crypto.PubkeyToAddress(key.PublicKey)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&#47;&#47; Deploy registrar contract</span>
                                            <span class="term-fg31">-		sim := backends.NewSimulatedBackend(types.GenesisAlloc{addr: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-		defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		transactOpts, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-		_, _, c1, err := DeployContractOne(transactOpts, sim)</span>
                                            <span class="term-fg31">-		if err != nil {</span>
                                            <span class="term-fg31">-			t.Fatal(&quot;Failed to deploy contract&quot;)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		sim.Commit()</span>
                                            <span class="term-fg31">-		err = c1.Foo(nil, ExternalLibSharedStruct{</span>
                                            <span class="term-fg31">-			F1: big.NewInt(100),</span>
                                            <span class="term-fg31">-			F2: [32]byte{0x01, 0x02, 0x03},</span>
                                            <span class="term-fg31">-		})</span>
                                            <span class="term-fg31">-		if err != nil {</span>
                                            <span class="term-fg31">-			t.Fatal(&quot;Failed to invoke function&quot;)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		_, _, c2, err := DeployContractTwo(transactOpts, sim)</span>
                                            <span class="term-fg31">-		if err != nil {</span>
                                            <span class="term-fg31">-			t.Fatal(&quot;Failed to deploy contract&quot;)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		sim.Commit()</span>
                                            <span class="term-fg31">-		err = c2.Bar(nil, ExternalLibSharedStruct{</span>
                                            <span class="term-fg31">-			F1: big.NewInt(100),</span>
                                            <span class="term-fg31">-			F2: [32]byte{0x01, 0x02, 0x03},</span>
                                            <span class="term-fg31">-		})</span>
                                            <span class="term-fg31">-		if err != nil {</span>
                                            <span class="term-fg31">-			t.Fatal(&quot;Failed to invoke function&quot;)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-        `,</span>
                                            <span class="term-fg32">+			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+			addr := crypto.PubkeyToAddress(key.PublicKey)</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			&#47;&#47; Deploy registrar contract</span>
                                            <span class="term-fg32">+			sim := backends.NewSimulatedBackend(types.GenesisAlloc{addr: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+			defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			transactOpts, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+			_, _, c1, err := DeployContractOne(transactOpts, sim)</span>
                                            <span class="term-fg32">+			if err != nil {</span>
                                            <span class="term-fg32">+				t.Fatal(&quot;Failed to deploy contract&quot;)</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			sim.Commit()</span>
                                            <span class="term-fg32">+			err = c1.Foo(nil, ExternalLibSharedStruct{</span>
                                            <span class="term-fg32">+				F1: big.NewInt(100),</span>
                                            <span class="term-fg32">+				F2: [32]byte{0x01, 0x02, 0x03},</span>
                                            <span class="term-fg32">+			})</span>
                                            <span class="term-fg32">+			if err != nil {</span>
                                            <span class="term-fg32">+				t.Fatal(&quot;Failed to invoke function&quot;)</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			_, _, c2, err := DeployContractTwo(transactOpts, sim)</span>
                                            <span class="term-fg32">+			if err != nil {</span>
                                            <span class="term-fg32">+				t.Fatal(&quot;Failed to deploy contract&quot;)</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			sim.Commit()</span>
                                            <span class="term-fg32">+			err = c2.Bar(nil, ExternalLibSharedStruct{</span>
                                            <span class="term-fg32">+				F1: big.NewInt(100),</span>
                                            <span class="term-fg32">+				F2: [32]byte{0x01, 0x02, 0x03},</span>
                                            <span class="term-fg32">+			})</span>
                                            <span class="term-fg32">+			if err != nil {</span>
                                            <span class="term-fg32">+				t.Fatal(&quot;Failed to invoke function&quot;)</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+	       `,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1645,52 +1633,52 @@</span> 	&#47;&#47; Test the existence of the free retrieval calls
                                            {
                                            `PureAndView`,
                                            `pragma solidity &gt;=0.6.0;
                                            <span class="term-fg31">-		contract PureAndView {</span>
                                            <span class="term-fg31">-			function PureFunc() public pure returns (uint) {</span>
                                            <span class="term-fg31">-				return 42;</span>
                                            <span class="term-fg32">+			contract PureAndView {</span>
                                            <span class="term-fg32">+				function PureFunc() public pure returns (uint) {</span>
                                            <span class="term-fg32">+					return 42;</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				function ViewFunc() public view returns (uint) {</span>
                                            <span class="term-fg32">+					return block.number;</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-			function ViewFunc() public view returns (uint) {</span>
                                            <span class="term-fg31">-				return block.number;</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            []string{`608060405234801561001057600080fd5b5060b68061001f6000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c806376b5686a146037578063bb38c66c146053575b600080fd5b603d606f565b6040518082815260200191505060405180910390f35b60596077565b6040518082815260200191505060405180910390f35b600043905090565b6000602a90509056fea2646970667358221220d158c2ab7fdfce366a7998ec79ab84edd43b9815630bbaede2c760ea77f29f7f64736f6c63430006000033`},
                                            []string{`[{&quot;inputs&quot;: [],&quot;name&quot;: &quot;PureFunc&quot;,&quot;outputs&quot;: [{&quot;internalType&quot;: &quot;uint256&quot;,&quot;name&quot;: &quot;&quot;,&quot;type&quot;: &quot;uint256&quot;}],&quot;stateMutability&quot;: &quot;pure&quot;,&quot;type&quot;: &quot;function&quot;},{&quot;inputs&quot;: [],&quot;name&quot;: &quot;ViewFunc&quot;,&quot;outputs&quot;: [{&quot;internalType&quot;: &quot;uint256&quot;,&quot;name&quot;: &quot;&quot;,&quot;type&quot;: &quot;uint256&quot;}],&quot;stateMutability&quot;: &quot;view&quot;,&quot;type&quot;: &quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            `
                                            <span class="term-fg31">-			&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; Deploy a tester contract and execute a structured call on it</span>
                                            <span class="term-fg31">-			_, _, pav, err := DeployPureAndView(auth, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy PureAndView contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&#47;&#47; This test the existence of the free retriever call for view and pure functions</span>
                                            <span class="term-fg31">-			if num, err := pav.PureFunc(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to call anonymous field retriever: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if num.Cmp(big.NewInt(42)) != 0 {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Retrieved value mismatch: have %v, want %v&quot;, num, 42)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if num, err := pav.ViewFunc(nil); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to call anonymous field retriever: %v&quot;, err)</span>
                                            <span class="term-fg31">-			} else if num.Cmp(big.NewInt(1)) != 0 {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Retrieved value mismatch: have %v, want %v&quot;, num, 1)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&#47;&#47; Generate a new random account and a funded simulator</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				auth, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{auth.From: {Balance: big.NewInt(10000000000000000)}}, 10000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; Deploy a tester contract and execute a structured call on it</span>
                                            <span class="term-fg32">+				_, _, pav, err := DeployPureAndView(auth, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy PureAndView contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&#47;&#47; This test the existence of the free retriever call for view and pure functions</span>
                                            <span class="term-fg32">+				if num, err := pav.PureFunc(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to call anonymous field retriever: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if num.Cmp(big.NewInt(42)) != 0 {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Retrieved value mismatch: have %v, want %v&quot;, num, 42)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if num, err := pav.ViewFunc(nil); err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to call anonymous field retriever: %v&quot;, err)</span>
                                            <span class="term-fg32">+				} else if num.Cmp(big.NewInt(1)) != 0 {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Retrieved value mismatch: have %v, want %v&quot;, num, 1)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1700,87 +1688,87 @@</span> 	&#47;&#47; Test fallback separation introduced in v0.6.0
                                            {
                                            `NewFallbacks`,
                                            `
                                            <span class="term-fg31">-		pragma solidity &gt;=0.6.0 &lt;0.7.0;</span>
                                            <span class="term-fg32">+			pragma solidity &gt;=0.6.0 &lt;0.7.0;</span>
                                            &nbsp;
                                            <span class="term-fg31">-		contract NewFallbacks {</span>
                                            <span class="term-fg31">-			event Fallback(bytes data);</span>
                                            <span class="term-fg31">-			fallback() external {</span>
                                            <span class="term-fg31">-				emit Fallback(msg.data);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg32">+			contract NewFallbacks {</span>
                                            <span class="term-fg32">+				event Fallback(bytes data);</span>
                                            <span class="term-fg32">+				fallback() external {</span>
                                            <span class="term-fg32">+					emit Fallback(msg.data);</span>
                                            <span class="term-fg32">+				}</span>
                                            &nbsp;
                                            <span class="term-fg31">-			event Received(address addr, uint value);</span>
                                            <span class="term-fg31">-			receive() external payable {</span>
                                            <span class="term-fg31">-				emit Received(msg.sender, msg.value);</span>
                                            <span class="term-fg32">+				event Received(address addr, uint value);</span>
                                            <span class="term-fg32">+				receive() external payable {</span>
                                            <span class="term-fg32">+					emit Received(msg.sender, msg.value);</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-	   `,</span>
                                            <span class="term-fg32">+		   `,</span>
                                            []string{&quot;6080604052348015600f57600080fd5b506101078061001f6000396000f3fe608060405236605f577f88a5966d370b9919b20f3e2c13ff65706f196a4e32cc2c12bf57088f885258743334604051808373ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a1005b348015606a57600080fd5b507f9043988963722edecc2099c75b0af0ff76af14ffca42ed6bce059a20a2a9f98660003660405180806020018281038252848482818152602001925080828437600081840152601f19601f820116905080830192505050935050505060405180910390a100fea26469706673582212201f994dcfbc53bf610b19176f9a361eafa77b447fd9c796fa2c615dfd0aaf3b8b64736f6c634300060c0033&quot;},
                                            []string{`[{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;bytes&quot;,&quot;name&quot;:&quot;data&quot;,&quot;type&quot;:&quot;bytes&quot;}],&quot;name&quot;:&quot;Fallback&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;value&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;Received&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;fallback&quot;},{&quot;stateMutability&quot;:&quot;payable&quot;,&quot;type&quot;:&quot;receive&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;bytes&quot;</span>
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+				&quot;bytes&quot;</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            &nbsp;
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-	   `,</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+		   `,</span>
                                            `
                                            <span class="term-fg31">-			key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg31">-			addr := crypto.PubkeyToAddress(key.PublicKey)</span>
                                            <span class="term-fg32">+				key, _ := crypto.GenerateKey()</span>
                                            <span class="term-fg32">+				addr := crypto.PubkeyToAddress(key.PublicKey)</span>
                                            &nbsp;
                                            <span class="term-fg31">-			sim := backends.NewSimulatedBackend(types.GenesisAlloc{addr: {Balance: big.NewInt(10000000000000000)}}, 1000000)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg32">+				sim := backends.NewSimulatedBackend(types.GenesisAlloc{addr: {Balance: big.NewInt(10000000000000000)}}, 1000000)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            &nbsp;
                                            <span class="term-fg31">-			opts, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-			_, _, c, err := DeployNewFallbacks(opts, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg32">+				opts, _ := bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+				_, _, c, err := DeployNewFallbacks(opts, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            &nbsp;
                                            <span class="term-fg31">-			&#47;&#47; Test receive function</span>
                                            <span class="term-fg31">-			opts.Value = big.NewInt(100)</span>
                                            <span class="term-fg31">-			c.Receive(opts)</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg32">+				&#47;&#47; Test receive function</span>
                                            <span class="term-fg32">+				opts.Value = big.NewInt(100)</span>
                                            <span class="term-fg32">+				c.Receive(opts)</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            &nbsp;
                                            <span class="term-fg31">-			var gotEvent bool</span>
                                            <span class="term-fg31">-			iter, _ := c.FilterReceived(nil)</span>
                                            <span class="term-fg31">-			defer iter.Close()</span>
                                            <span class="term-fg31">-			for iter.Next() {</span>
                                            <span class="term-fg31">-				if iter.Event.Addr != addr {</span>
                                            <span class="term-fg31">-					t.Fatal(&quot;Msg.sender mismatch&quot;)</span>
                                            <span class="term-fg32">+				var gotEvent bool</span>
                                            <span class="term-fg32">+				iter, _ := c.FilterReceived(nil)</span>
                                            <span class="term-fg32">+				defer iter.Close()</span>
                                            <span class="term-fg32">+				for iter.Next() {</span>
                                            <span class="term-fg32">+					if iter.Event.Addr != addr {</span>
                                            <span class="term-fg32">+						t.Fatal(&quot;Msg.sender mismatch&quot;)</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					if iter.Event.Value.Uint64() != 100 {</span>
                                            <span class="term-fg32">+						t.Fatal(&quot;Msg.value mismatch&quot;)</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					gotEvent = true</span>
                                            <span class="term-fg32">+					break</span>
                                            }
                                            <span class="term-fg31">-				if iter.Event.Value.Uint64() != 100 {</span>
                                            <span class="term-fg31">-					t.Fatal(&quot;Msg.value mismatch&quot;)</span>
                                            <span class="term-fg32">+				if !gotEvent {</span>
                                            <span class="term-fg32">+					t.Fatal(&quot;Expect to receive event emitted by receive&quot;)</span>
                                            }
                                            <span class="term-fg31">-				gotEvent = true</span>
                                            <span class="term-fg31">-				break</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if !gotEvent {</span>
                                            <span class="term-fg31">-				t.Fatal(&quot;Expect to receive event emitted by receive&quot;)</span>
                                            <span class="term-fg31">-			}</span>
                                            &nbsp;
                                            <span class="term-fg31">-			&#47;&#47; Test fallback function</span>
                                            <span class="term-fg31">-			gotEvent = false</span>
                                            <span class="term-fg31">-			opts.Value = nil</span>
                                            <span class="term-fg31">-			calldata := []byte{0x01, 0x02, 0x03}</span>
                                            <span class="term-fg31">-			c.Fallback(opts, calldata)</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg32">+				&#47;&#47; Test fallback function</span>
                                            <span class="term-fg32">+				gotEvent = false</span>
                                            <span class="term-fg32">+				opts.Value = nil</span>
                                            <span class="term-fg32">+				calldata := []byte{0x01, 0x02, 0x03}</span>
                                            <span class="term-fg32">+				c.Fallback(opts, calldata)</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            &nbsp;
                                            <span class="term-fg31">-			iter2, _ := c.FilterFallback(nil)</span>
                                            <span class="term-fg31">-			defer iter2.Close()</span>
                                            <span class="term-fg31">-			for iter2.Next() {</span>
                                            <span class="term-fg31">-				if !bytes.Equal(iter2.Event.Data, calldata) {</span>
                                            <span class="term-fg31">-					t.Fatal(&quot;calldata mismatch&quot;)</span>
                                            <span class="term-fg32">+				iter2, _ := c.FilterFallback(nil)</span>
                                            <span class="term-fg32">+				defer iter2.Close()</span>
                                            <span class="term-fg32">+				for iter2.Next() {</span>
                                            <span class="term-fg32">+					if !bytes.Equal(iter2.Event.Data, calldata) {</span>
                                            <span class="term-fg32">+						t.Fatal(&quot;calldata mismatch&quot;)</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					gotEvent = true</span>
                                            <span class="term-fg32">+					break</span>
                                            }
                                            <span class="term-fg31">-				gotEvent = true</span>
                                            <span class="term-fg31">-				break</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if !gotEvent {</span>
                                            <span class="term-fg31">-				t.Fatal(&quot;Expect to receive event emitted by fallback&quot;)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-	   `,</span>
                                            <span class="term-fg32">+				if !gotEvent {</span>
                                            <span class="term-fg32">+					t.Fatal(&quot;Expect to receive event emitted by fallback&quot;)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+		   `,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1790,68 +1778,68 @@</span> 	&#47;&#47; Test resolving single struct argument
                                            {
                                            `NewSingleStructArgument`,
                                            `
                                            <span class="term-fg31">-		 pragma solidity ^0.8.0;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		 contract NewSingleStructArgument {</span>
                                            <span class="term-fg31">-			 struct MyStruct{</span>
                                            <span class="term-fg31">-				 uint256 a;</span>
                                            <span class="term-fg31">-				 uint256 b;</span>
                                            <span class="term-fg31">-			 }</span>
                                            <span class="term-fg31">-			 event StructEvent(MyStruct s);</span>
                                            <span class="term-fg31">-			 function TestEvent() public {</span>
                                            <span class="term-fg31">-				 emit StructEvent(MyStruct({a: 1, b: 2}));</span>
                                            <span class="term-fg32">+			 pragma solidity ^0.8.0;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			 contract NewSingleStructArgument {</span>
                                            <span class="term-fg32">+				 struct MyStruct{</span>
                                            <span class="term-fg32">+					 uint256 a;</span>
                                            <span class="term-fg32">+					 uint256 b;</span>
                                            <span class="term-fg32">+				 }</span>
                                            <span class="term-fg32">+				 event StructEvent(MyStruct s);</span>
                                            <span class="term-fg32">+				 function TestEvent() public {</span>
                                            <span class="term-fg32">+					 emit StructEvent(MyStruct({a: 1, b: 2}));</span>
                                            <span class="term-fg32">+				 }</span>
                                            }
                                            <span class="term-fg31">-		 }</span>
                                            <span class="term-fg31">-	   `,</span>
                                            <span class="term-fg32">+		   `,</span>
                                            []string{&quot;608060405234801561001057600080fd5b50610113806100206000396000f3fe6080604052348015600f57600080fd5b506004361060285760003560e01c806324ec1d3f14602d575b600080fd5b60336035565b005b7fb4b2ff75e30cb4317eaae16dd8a187dd89978df17565104caa6c2797caae27d460405180604001604052806001815260200160028152506040516078919060ba565b60405180910390a1565b6040820160008201516096600085018260ad565b50602082015160a7602085018260ad565b50505050565b60b48160d3565b82525050565b600060408201905060cd60008301846082565b92915050565b600081905091905056fea26469706673582212208823628796125bf9941ce4eda18da1be3cf2931b231708ab848e1bd7151c0c9a64736f6c63430008070033&quot;},
                                            []string{`[{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;struct Test.MyStruct&quot;,&quot;name&quot;:&quot;s&quot;,&quot;type&quot;:&quot;tuple&quot;}],&quot;name&quot;:&quot;StructEvent&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;inputs&quot;:[],&quot;name&quot;:&quot;TestEvent&quot;,&quot;outputs&quot;:[],&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg31">-	   `,</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg32">+		   `,</span>
                                            `
                                            <span class="term-fg31">-			var (</span>
                                            <span class="term-fg31">-				key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg31">-				user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-				sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg31">-			)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			_, _, d, err := DeployNewSingleStructArgument(user, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to deploy contract %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			_, err = d.TestEvent(user)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to call contract %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			it, err := d.FilterStructEvent(nil)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;Failed to filter contract event %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			var count int</span>
                                            <span class="term-fg31">-			for it.Next() {</span>
                                            <span class="term-fg31">-				if it.Event.S.A.Cmp(big.NewInt(1)) != 0 {</span>
                                            <span class="term-fg31">-					t.Fatal(&quot;Unexpected contract event&quot;)</span>
                                            <span class="term-fg32">+				var (</span>
                                            <span class="term-fg32">+					key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg32">+					user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+					sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg32">+				)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				_, _, d, err := DeployNewSingleStructArgument(user, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to deploy contract %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				_, err = d.TestEvent(user)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to call contract %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				it, err := d.FilterStructEvent(nil)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;Failed to filter contract event %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				var count int</span>
                                            <span class="term-fg32">+				for it.Next() {</span>
                                            <span class="term-fg32">+					if it.Event.S.A.Cmp(big.NewInt(1)) != 0 {</span>
                                            <span class="term-fg32">+						t.Fatal(&quot;Unexpected contract event&quot;)</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					if it.Event.S.B.Cmp(big.NewInt(2)) != 0 {</span>
                                            <span class="term-fg32">+						t.Fatal(&quot;Unexpected contract event&quot;)</span>
                                            <span class="term-fg32">+					}</span>
                                            <span class="term-fg32">+					count += 1</span>
                                            }
                                            <span class="term-fg31">-				if it.Event.S.B.Cmp(big.NewInt(2)) != 0 {</span>
                                            <span class="term-fg31">-					t.Fatal(&quot;Unexpected contract event&quot;)</span>
                                            <span class="term-fg32">+				if count != 1 {</span>
                                            <span class="term-fg32">+					t.Fatal(&quot;Unexpected contract event number&quot;)</span>
                                            }
                                            <span class="term-fg31">-				count += 1</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if count != 1 {</span>
                                            <span class="term-fg31">-				t.Fatal(&quot;Unexpected contract event number&quot;)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			`,</span>
                                            <span class="term-fg32">+				`,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1861,53 +1849,53 @@</span> 	&#47;&#47; Test errors introduced in v0.8.4
                                            {
                                            `NewErrors`,
                                            `
                                            <span class="term-fg31">-		pragma solidity &gt;0.8.4;</span>
                                            <span class="term-fg32">+			pragma solidity &gt;0.8.4;</span>
                                            &nbsp;
                                            <span class="term-fg31">-		contract NewErrors {</span>
                                            <span class="term-fg31">-			error MyError(uint256);</span>
                                            <span class="term-fg31">-			error MyError1(uint256);</span>
                                            <span class="term-fg31">-			error MyError2(uint256, uint256);</span>
                                            <span class="term-fg31">-			error MyError3(uint256 a, uint256 b, uint256 c);</span>
                                            <span class="term-fg31">-			function Error() public pure {</span>
                                            <span class="term-fg31">-				revert MyError3(1,2,3);</span>
                                            <span class="term-fg32">+			contract NewErrors {</span>
                                            <span class="term-fg32">+				error MyError(uint256);</span>
                                            <span class="term-fg32">+				error MyError1(uint256);</span>
                                            <span class="term-fg32">+				error MyError2(uint256, uint256);</span>
                                            <span class="term-fg32">+				error MyError3(uint256 a, uint256 b, uint256 c);</span>
                                            <span class="term-fg32">+				function Error() public pure {</span>
                                            <span class="term-fg32">+					revert MyError3(1,2,3);</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-	   `,</span>
                                            <span class="term-fg32">+		   `,</span>
                                            []string{&quot;0x6080604052348015600f57600080fd5b5060998061001e6000396000f3fe6080604052348015600f57600080fd5b506004361060285760003560e01c8063726c638214602d575b600080fd5b60336035565b005b60405163024876cd60e61b815260016004820152600260248201526003604482015260640160405180910390fdfea264697066735822122093f786a1bc60216540cd999fbb4a6109e0fef20abcff6e9107fb2817ca968f3c64736f6c63430008070033&quot;},
                                            []string{`[{&quot;inputs&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;MyError&quot;,&quot;type&quot;:&quot;error&quot;},{&quot;inputs&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;MyError1&quot;,&quot;type&quot;:&quot;error&quot;},{&quot;inputs&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;MyError2&quot;,&quot;type&quot;:&quot;error&quot;},{&quot;inputs&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;a&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;b&quot;,&quot;type&quot;:&quot;uint256&quot;},{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;c&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;MyError3&quot;,&quot;type&quot;:&quot;error&quot;},{&quot;inputs&quot;:[],&quot;name&quot;:&quot;Error&quot;,&quot;outputs&quot;:[],&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            `
                                            <span class="term-fg31">-			&quot;context&quot;</span>
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+				&quot;context&quot;</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            &nbsp;
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg31">-	   `,</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg32">+		   `,</span>
                                            `
                                            <span class="term-fg31">-			var (</span>
                                            <span class="term-fg31">-				key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg31">-				user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-				sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg31">-			)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg32">+				var (</span>
                                            <span class="term-fg32">+					key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg32">+					user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+					sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg32">+				)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            &nbsp;
                                            <span class="term-fg31">-			_, tx, contract, err := DeployNewErrors(user, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatal(err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-			_, err = bind.WaitDeployed(context.Background(), sim, tx)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Error(err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if err := contract.Error(new(bind.CallOpts)); err == nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;expected contract to throw error&quot;)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; TODO (MariusVanDerWijden unpack error using abigen</span>
                                            <span class="term-fg31">-			&#47;&#47; once that is implemented</span>
                                            <span class="term-fg31">-	   `,</span>
                                            <span class="term-fg32">+				_, tx, contract, err := DeployNewErrors(user, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatal(err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+				_, err = bind.WaitDeployed(context.Background(), sim, tx)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Error(err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				if err := contract.Error(new(bind.CallOpts)); err == nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;expected contract to throw error&quot;)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				&#47;&#47; TODO (MariusVanDerWijden unpack error using abigen</span>
                                            <span class="term-fg32">+				&#47;&#47; once that is implemented</span>
                                            <span class="term-fg32">+		   `,</span>
                                            nil,
                                            nil,
                                            nil,
                                            <span class="term-fg36">@@ -1916,232 +1904,233 @@</span> 	},
                                            {
                                            name: `ConstructorWithStructParam`,
                                            contract: `
                                            <span class="term-fg31">-		pragma solidity &gt;=0.8.0 &lt;0.9.0;</span>
                                            <span class="term-fg31">-		</span>
                                            <span class="term-fg31">-		contract ConstructorWithStructParam {</span>
                                            <span class="term-fg31">-			struct StructType {</span>
                                            <span class="term-fg31">-				uint256 field;</span>
                                            <span class="term-fg32">+			pragma solidity &gt;=0.8.0 &lt;0.9.0;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract ConstructorWithStructParam {</span>
                                            <span class="term-fg32">+				struct StructType {</span>
                                            <span class="term-fg32">+					uint256 field;</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				constructor(StructType memory st) {}</span>
                                            }
                                            <span class="term-fg31">-		</span>
                                            <span class="term-fg31">-			constructor(StructType memory st) {}</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            bytecode: []string{`0x608060405234801561001057600080fd5b506040516101c43803806101c48339818101604052810190610032919061014a565b50610177565b6000604051905090565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6100958261004c565b810181811067ffffffffffffffff821117156100b4576100b361005d565b5b80604052505050565b60006100c7610038565b90506100d3828261008c565b919050565b6000819050919050565b6100eb816100d8565b81146100f657600080fd5b50565b600081519050610108816100e2565b92915050565b60006020828403121561012457610123610047565b5b61012e60206100bd565b9050600061013e848285016100f9565b60008301525092915050565b6000602082840312156101605761015f610042565b5b600061016e8482850161010e565b91505092915050565b603f806101856000396000f3fe6080604052600080fdfea2646970667358221220cdffa667affecefac5561f65f4a4ba914204a8d4eb859d8cd426fb306e5c12a364736f6c634300080a0033`},
                                            abi:      []string{`[{&quot;inputs&quot;:[{&quot;components&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;field&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;internalType&quot;:&quot;struct ConstructorWithStructParam.StructType&quot;,&quot;name&quot;:&quot;st&quot;,&quot;type&quot;:&quot;tuple&quot;}],&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;constructor&quot;}]`},
                                            imports: `
                                            <span class="term-fg31">-			&quot;context&quot;</span>
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;context&quot;</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            tester: `
                                            <span class="term-fg31">-			var (</span>
                                            <span class="term-fg31">-				key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg31">-				user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-				sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg31">-			)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			_, tx, _, err := DeployConstructorWithStructParam(user, sim, ConstructorWithStructParamStructType{Field: big.NewInt(42)})</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;DeployConstructorWithStructParam() got err %v; want nil err&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-			</span>
                                            <span class="term-fg31">-			if _, err = bind.WaitDeployed(context.Background(), sim, tx); err != nil {</span>
                                            <span class="term-fg31">-				t.Logf(&quot;Deployment tx: %+v&quot;, tx)</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;bind.WaitDeployed(nil, %T, &lt;deployment tx&gt;) got err %v; want nil err&quot;, sim, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				var (</span>
                                            <span class="term-fg32">+					key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg32">+					user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+					sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg32">+				)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				_, tx, _, err := DeployConstructorWithStructParam(user, sim, ConstructorWithStructParamStructType{Field: big.NewInt(42)})</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;DeployConstructorWithStructParam() got err %v; want nil err&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if _, err = bind.WaitDeployed(context.Background(), sim, tx); err != nil {</span>
                                            <span class="term-fg32">+					t.Logf(&quot;Deployment tx: %+v&quot;, tx)</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;bind.WaitDeployed(nil, %T, &lt;deployment tx&gt;) got err %v; want nil err&quot;, sim, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            },
                                            {
                                            name: `NameConflict`,
                                            contract: `
                                            <span class="term-fg31">-		&#47;&#47; SPDX-License-Identifier: GPL-3.0</span>
                                            <span class="term-fg31">-		pragma solidity &gt;=0.4.22 &lt;0.9.0;</span>
                                            <span class="term-fg31">-		contract oracle {</span>
                                            <span class="term-fg31">-			struct request {</span>
                                            <span class="term-fg31">-				 bytes data;</span>
                                            <span class="term-fg31">-				 bytes _data;</span>
                                            <span class="term-fg32">+			&#47;&#47; SPDX-License-Identifier: GPL-3.0</span>
                                            <span class="term-fg32">+			pragma solidity &gt;=0.4.22 &lt;0.9.0;</span>
                                            <span class="term-fg32">+			contract oracle {</span>
                                            <span class="term-fg32">+				struct request {</span>
                                            <span class="term-fg32">+					 bytes data;</span>
                                            <span class="term-fg32">+					 bytes _data;</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				event log (int msg, int _msg);</span>
                                            <span class="term-fg32">+				function addRequest(request memory req) public pure {}</span>
                                            <span class="term-fg32">+				function getRequest() pure public returns (request memory) {</span>
                                            <span class="term-fg32">+					 return request(&quot;&quot;, &quot;&quot;);</span>
                                            <span class="term-fg32">+				}</span>
                                            }
                                            <span class="term-fg31">-			event log (int msg, int _msg);</span>
                                            <span class="term-fg31">-			function addRequest(request memory req) public pure {}</span>
                                            <span class="term-fg31">-			function getRequest() pure public returns (request memory) {</span>
                                            <span class="term-fg31">-				 return request(&quot;&quot;, &quot;&quot;);</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			`,</span>
                                            bytecode: []string{&quot;0x608060405234801561001057600080fd5b5061042b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063c2bb515f1461003b578063cce7b04814610059575b600080fd5b610043610075565b60405161005091906101af565b60405180910390f35b610073600480360381019061006e91906103ac565b6100b5565b005b61007d6100b8565b604051806040016040528060405180602001604052806000815250815260200160405180602001604052806000815250815250905090565b50565b604051806040016040528060608152602001606081525090565b600081519050919050565b600082825260208201905092915050565b60005b8381101561010c5780820151818401526020810190506100f1565b8381111561011b576000848401525b50505050565b6000601f19601f8301169050919050565b600061013d826100d2565b61014781856100dd565b93506101578185602086016100ee565b61016081610121565b840191505092915050565b600060408301600083015184820360008601526101888282610132565b915050602083015184820360208601526101a28282610132565b9150508091505092915050565b600060208201905081810360008301526101c9818461016b565b905092915050565b6000604051905090565b600080fd5b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61022282610121565b810181811067ffffffffffffffff82111715610241576102406101ea565b5b80604052505050565b60006102546101d1565b90506102608282610219565b919050565b600080fd5b600080fd5b600080fd5b600067ffffffffffffffff82111561028f5761028e6101ea565b5b61029882610121565b9050602081019050919050565b82818337600083830152505050565b60006102c76102c284610274565b61024a565b9050828152602081018484840111156102e3576102e261026f565b5b6102ee8482856102a5565b509392505050565b600082601f83011261030b5761030a61026a565b5b813561031b8482602086016102b4565b91505092915050565b60006040828403121561033a576103396101e5565b5b610344604061024a565b9050600082013567ffffffffffffffff81111561036457610363610265565b5b610370848285016102f6565b600083015250602082013567ffffffffffffffff81111561039457610393610265565b5b6103a0848285016102f6565b60208301525092915050565b6000602082840312156103c2576103c16101db565b5b600082013567ffffffffffffffff8111156103e0576103df6101e0565b5b6103ec84828501610324565b9150509291505056fea264697066735822122033bca1606af9b6aeba1673f98c52003cec19338539fb44b86690ce82c51483b564736f6c634300080e0033&quot;},
                                            abi:      []string{`[ { &quot;anonymous&quot;: false, &quot;inputs&quot;: [ { &quot;indexed&quot;: false, &quot;internalType&quot;: &quot;int256&quot;, &quot;name&quot;: &quot;msg&quot;, &quot;type&quot;: &quot;int256&quot; }, { &quot;indexed&quot;: false, &quot;internalType&quot;: &quot;int256&quot;, &quot;name&quot;: &quot;_msg&quot;, &quot;type&quot;: &quot;int256&quot; } ], &quot;name&quot;: &quot;log&quot;, &quot;type&quot;: &quot;event&quot; }, { &quot;inputs&quot;: [ { &quot;components&quot;: [ { &quot;internalType&quot;: &quot;bytes&quot;, &quot;name&quot;: &quot;data&quot;, &quot;type&quot;: &quot;bytes&quot; }, { &quot;internalType&quot;: &quot;bytes&quot;, &quot;name&quot;: &quot;_data&quot;, &quot;type&quot;: &quot;bytes&quot; } ], &quot;internalType&quot;: &quot;struct oracle.request&quot;, &quot;name&quot;: &quot;req&quot;, &quot;type&quot;: &quot;tuple&quot; } ], &quot;name&quot;: &quot;addRequest&quot;, &quot;outputs&quot;: [], &quot;stateMutability&quot;: &quot;pure&quot;, &quot;type&quot;: &quot;function&quot; }, { &quot;inputs&quot;: [], &quot;name&quot;: &quot;getRequest&quot;, &quot;outputs&quot;: [ { &quot;components&quot;: [ { &quot;internalType&quot;: &quot;bytes&quot;, &quot;name&quot;: &quot;data&quot;, &quot;type&quot;: &quot;bytes&quot; }, { &quot;internalType&quot;: &quot;bytes&quot;, &quot;name&quot;: &quot;_data&quot;, &quot;type&quot;: &quot;bytes&quot; } ], &quot;internalType&quot;: &quot;struct oracle.request&quot;, &quot;name&quot;: &quot;&quot;, &quot;type&quot;: &quot;tuple&quot; } ], &quot;stateMutability&quot;: &quot;pure&quot;, &quot;type&quot;: &quot;function&quot; } ]`},
                                            imports: `
                                            <span class="term-fg31">-			&quot;context&quot;</span>
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;context&quot;</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            tester: `
                                            <span class="term-fg31">-			var (</span>
                                            <span class="term-fg31">-				key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg31">-				user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-				sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg31">-			)</span>
                                            <span class="term-fg31">-			defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			_, tx, _, err := DeployNameConflict(user, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;DeployNameConflict() got err %v; want nil err&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-			</span>
                                            <span class="term-fg31">-			if _, err = bind.WaitDeployed(context.Background(), sim, tx); err != nil {</span>
                                            <span class="term-fg31">-				t.Logf(&quot;Deployment tx: %+v&quot;, tx)</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;bind.WaitDeployed(nil, %T, &lt;deployment tx&gt;) got err %v; want nil err&quot;, sim, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				var (</span>
                                            <span class="term-fg32">+					key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg32">+					user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+					sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg32">+				)</span>
                                            <span class="term-fg32">+				defer sim.Close()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				_, tx, _, err := DeployNameConflict(user, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;DeployNameConflict() got err %v; want nil err&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if _, err = bind.WaitDeployed(context.Background(), sim, tx); err != nil {</span>
                                            <span class="term-fg32">+					t.Logf(&quot;Deployment tx: %+v&quot;, tx)</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;bind.WaitDeployed(nil, %T, &lt;deployment tx&gt;) got err %v; want nil err&quot;, sim, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            },
                                            {
                                            name: &quot;RangeKeyword&quot;,
                                            contract: `
                                            <span class="term-fg31">-		&#47;&#47; SPDX-License-Identifier: GPL-3.0</span>
                                            <span class="term-fg31">-		pragma solidity &gt;=0.4.22 &lt;0.9.0;</span>
                                            <span class="term-fg31">-		contract keywordcontract {</span>
                                            <span class="term-fg31">-			function functionWithKeywordParameter(range uint256) public pure {}</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			&#47;&#47; SPDX-License-Identifier: GPL-3.0</span>
                                            <span class="term-fg32">+			pragma solidity &gt;=0.4.22 &lt;0.9.0;</span>
                                            <span class="term-fg32">+			contract keywordcontract {</span>
                                            <span class="term-fg32">+				function functionWithKeywordParameter(range uint256) public pure {}</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			`,</span>
                                            bytecode: []string{&quot;0x608060405234801561001057600080fd5b5060dc8061001f6000396000f3fe6080604052348015600f57600080fd5b506004361060285760003560e01c8063527a119f14602d575b600080fd5b60436004803603810190603f9190605b565b6045565b005b50565b6000813590506055816092565b92915050565b600060208284031215606e57606d608d565b5b6000607a848285016048565b91505092915050565b6000819050919050565b600080fd5b6099816083565b811460a357600080fd5b5056fea2646970667358221220d4f4525e2615516394055d369fb17df41c359e5e962734f27fd683ea81fd9db164736f6c63430008070033&quot;},
                                            abi:      []string{`[{&quot;inputs&quot;:[{&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;range&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;functionWithKeywordParameter&quot;,&quot;outputs&quot;:[],&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            imports: `
                                            <span class="term-fg31">-			&quot;context&quot;</span>
                                            <span class="term-fg31">-			&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;context&quot;</span>
                                            <span class="term-fg32">+				&quot;math&#47;big&quot;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&#47;backends&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;eth&#47;ethconfig&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            tester: `
                                            <span class="term-fg31">-			var (</span>
                                            <span class="term-fg31">-				key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg31">-				user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg31">-				sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg31">-			)</span>
                                            <span class="term-fg31">-			_, tx, _, err := DeployRangeKeyword(user, sim)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;error deploying contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			if _, err = bind.WaitDeployed(context.Background(), sim, tx); err != nil {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;error deploying the contract: %v&quot;, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg31">-	}, {</span>
                                            <span class="term-fg32">+				var (</span>
                                            <span class="term-fg32">+					key, _  = crypto.GenerateKey()</span>
                                            <span class="term-fg32">+					user, _ = bind.NewKeyedTransactorWithChainID(key, big.NewInt(1337))</span>
                                            <span class="term-fg32">+					sim     = backends.NewSimulatedBackend(types.GenesisAlloc{user.From: {Balance: big.NewInt(1000000000000000000)}}, ethconfig.Defaults.Miner.GasCeil)</span>
                                            <span class="term-fg32">+				)</span>
                                            <span class="term-fg32">+				_, tx, _, err := DeployRangeKeyword(user, sim)</span>
                                            <span class="term-fg32">+				if err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;error deploying contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+				sim.Commit()</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+				if _, err = bind.WaitDeployed(context.Background(), sim, tx); err != nil {</span>
                                            <span class="term-fg32">+					t.Errorf(&quot;error deploying the contract: %v&quot;, err)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+			`,</span>
                                            <span class="term-fg32">+	},</span>
                                            <span class="term-fg32">+	{</span>
                                            name: &quot;NumericMethodName&quot;,
                                            contract: `
                                            <span class="term-fg31">-		&#47;&#47; SPDX-License-Identifier: GPL-3.0</span>
                                            <span class="term-fg31">-		pragma solidity &gt;=0.4.22 &lt;0.9.0;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		contract NumericMethodName {</span>
                                            <span class="term-fg31">-			event _1TestEvent(address _param);</span>
                                            <span class="term-fg31">-			function _1test() public pure {}</span>
                                            <span class="term-fg31">-			function __1test() public pure {}</span>
                                            <span class="term-fg31">-			function __2test() public pure {}</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+			&#47;&#47; SPDX-License-Identifier: GPL-3.0</span>
                                            <span class="term-fg32">+			pragma solidity &gt;=0.4.22 &lt;0.9.0;</span>
                                            <span class="term-fg32">+	</span>
                                            <span class="term-fg32">+			contract NumericMethodName {</span>
                                            <span class="term-fg32">+				event _1TestEvent(address _param);</span>
                                            <span class="term-fg32">+				function _1test() public pure {}</span>
                                            <span class="term-fg32">+				function __1test() public pure {}</span>
                                            <span class="term-fg32">+				function __2test() public pure {}</span>
                                            <span class="term-fg32">+			}</span>
                                            <span class="term-fg32">+			`,</span>
                                            bytecode: []string{&quot;0x6080604052348015600f57600080fd5b5060958061001e6000396000f3fe6080604052348015600f57600080fd5b5060043610603c5760003560e01c80639d993132146041578063d02767c7146049578063ffa02795146051575b600080fd5b60476059565b005b604f605b565b005b6057605d565b005b565b565b56fea26469706673582212200382ca602dff96a7e2ba54657985e2b4ac423a56abe4a1f0667bc635c4d4371f64736f6c63430008110033&quot;},
                                            abi:      []string{`[{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;_param&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;_1TestEvent&quot;,&quot;type&quot;:&quot;event&quot;},{&quot;inputs&quot;:[],&quot;name&quot;:&quot;_1test&quot;,&quot;outputs&quot;:[],&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[],&quot;name&quot;:&quot;__1test&quot;,&quot;outputs&quot;:[],&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[],&quot;name&quot;:&quot;__2test&quot;,&quot;outputs&quot;:[],&quot;stateMutability&quot;:&quot;pure&quot;,&quot;type&quot;:&quot;function&quot;}]`},
                                            imports: `
                                            <span class="term-fg31">-			&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-		`,</span>
                                            <span class="term-fg32">+				&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg32">+			`,</span>
                                            tester: `
                                            <span class="term-fg31">-			if b, err := NewNumericMethodName(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;combined binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-`,</span>
                                            <span class="term-fg32">+				if b, err := NewNumericMethodName(common.Address{}, nil); b == nil || err != nil {</span>
                                            <span class="term-fg32">+					t.Fatalf(&quot;combined binding (%v) nil or error (%v) not nil&quot;, b, nil)</span>
                                            <span class="term-fg32">+				}</span>
                                            <span class="term-fg32">+	`,</span>
                                            },
                                            }
                                            &nbsp;
                                            <span class="term-fg31">-&#47;&#47; Tests that packages generated by the binder can be successfully compiled and</span>
                                            <span class="term-fg31">-&#47;&#47; the requested tester run against it.</span>
                                            <span class="term-fg31">-func TestGolangBindings(t *testing.T) {</span>
                                            <span class="term-fg31">-	t.Parallel()</span>
                                            <span class="term-fg31">-	&#47;&#47; Skip the test if no Go command can be found</span>
                                            <span class="term-fg31">-	gocmd := runtime.GOROOT() + &quot;&#47;bin&#47;go&quot;</span>
                                            <span class="term-fg31">-	if !common.FileExist(gocmd) {</span>
                                            <span class="term-fg31">-		t.Skip(&quot;go sdk not found for testing&quot;)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	&#47;&#47; Create a temporary workspace for the test suite</span>
                                            <span class="term-fg31">-	ws := t.TempDir()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	pkg := filepath.Join(ws, &quot;bindtest&quot;)</span>
                                            <span class="term-fg31">-	if err := os.MkdirAll(pkg, 0700); err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;failed to create package: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	&#47;&#47; Generate the test suite for all the contracts</span>
                                            <span class="term-fg31">-	for i, tt := range bindTests {</span>
                                            <span class="term-fg31">-		t.Run(tt.name, func(t *testing.T) {</span>
                                            <span class="term-fg31">-			var types []string</span>
                                            <span class="term-fg31">-			if tt.types != nil {</span>
                                            <span class="term-fg31">-				types = tt.types</span>
                                            <span class="term-fg31">-			} else {</span>
                                            <span class="term-fg31">-				types = []string{tt.name}</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Generate the binding and create a Go source file in the workspace</span>
                                            <span class="term-fg31">-			bind, err := Bind(types, tt.abi, tt.bytecode, tt.fsigs, &quot;bindtest&quot;, LangGo, tt.libs, tt.aliases)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;test %d: failed to generate binding: %v&quot;, i, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if err = os.WriteFile(filepath.Join(pkg, strings.ToLower(tt.name)+&quot;.go&quot;), []byte(bind), 0600); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;test %d: failed to write binding: %v&quot;, i, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			&#47;&#47; Generate the test file with the injected test code</span>
                                            <span class="term-fg31">-			code := fmt.Sprintf(`</span>
                                            <span class="term-fg31">-			package bindtest</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			import (</span>
                                            <span class="term-fg31">-				&quot;testing&quot;</span>
                                            <span class="term-fg31">-				%s</span>
                                            <span class="term-fg31">-			)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-			func Test%s(t *testing.T) {</span>
                                            <span class="term-fg31">-				%s</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		`, tt.imports, tt.name, tt.tester)</span>
                                            <span class="term-fg31">-			if err := os.WriteFile(filepath.Join(pkg, strings.ToLower(tt.name)+&quot;_test.go&quot;), []byte(code), 0600); err != nil {</span>
                                            <span class="term-fg31">-				t.Fatalf(&quot;test %d: failed to write tests: %v&quot;, i, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		})</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	&#47;&#47; Convert the package to go modules and use the current source for go-ethereum</span>
                                            <span class="term-fg31">-	moder := exec.Command(gocmd, &quot;mod&quot;, &quot;init&quot;, &quot;bindtest&quot;)</span>
                                            <span class="term-fg31">-	moder.Dir = pkg</span>
                                            <span class="term-fg31">-	if out, err := moder.CombinedOutput(); err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;failed to convert binding test to modules: %v\n%s&quot;, err, out)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	pwd, _ := os.Getwd()</span>
                                            <span class="term-fg31">-	replacer := exec.Command(gocmd, &quot;mod&quot;, &quot;edit&quot;, &quot;-x&quot;, &quot;-require&quot;, &quot;github.com&#47;ethereum&#47;go-ethereum@v0.0.0&quot;, &quot;-replace&quot;, &quot;github.com&#47;ethereum&#47;go-ethereum=&quot;+filepath.Join(pwd, &quot;..&quot;, &quot;..&quot;, &quot;..&quot;)) &#47;&#47; Repo root</span>
                                            <span class="term-fg31">-	replacer.Dir = pkg</span>
                                            <span class="term-fg31">-	if out, err := replacer.CombinedOutput(); err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;failed to replace binding test dependency to current source tree: %v\n%s&quot;, err, out)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	tidier := exec.Command(gocmd, &quot;mod&quot;, &quot;tidy&quot;)</span>
                                            <span class="term-fg31">-	tidier.Dir = pkg</span>
                                            <span class="term-fg31">-	if out, err := tidier.CombinedOutput(); err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;failed to tidy Go module file: %v\n%s&quot;, err, out)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	&#47;&#47; Test the entire package and report any failures</span>
                                            <span class="term-fg31">-	cmd := exec.Command(gocmd, &quot;test&quot;, &quot;-v&quot;, &quot;-count&quot;, &quot;1&quot;)</span>
                                            <span class="term-fg31">-	cmd.Dir = pkg</span>
                                            <span class="term-fg31">-	if out, err := cmd.CombinedOutput(); err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;failed to run binding test: %v\n%s&quot;, err, out)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-}</span>
                                            <span class="term-fg32">+&#47;&#47;&#47;&#47; Tests that packages generated by the binder can be successfully compiled and</span>
                                            <span class="term-fg32">+&#47;&#47;&#47;&#47; the requested tester run against it.</span>
                                            <span class="term-fg32">+&#47;&#47;func TestGolangBindings(t *testing.T) {</span>
                                            <span class="term-fg32">+&#47;&#47;	t.Parallel()</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Skip the test if no Go command can be found</span>
                                            <span class="term-fg32">+&#47;&#47;	gocmd := runtime.GOROOT() + &quot;&#47;bin&#47;go&quot;</span>
                                            <span class="term-fg32">+&#47;&#47;	if !common.FileExist(gocmd) {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Skip(&quot;go sdk not found for testing&quot;)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Create a temporary workspace for the test suite</span>
                                            <span class="term-fg32">+&#47;&#47;	ws := t.TempDir()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	pkg := filepath.Join(ws, &quot;bindtest&quot;)</span>
                                            <span class="term-fg32">+&#47;&#47;	if err := os.MkdirAll(pkg, 0700); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;failed to create package: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Generate the test suite for all the contracts</span>
                                            <span class="term-fg32">+&#47;&#47;	for i, tt := range bindTests {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Run(tt.name, func(t *testing.T) {</span>
                                            <span class="term-fg32">+&#47;&#47;			var types []string</span>
                                            <span class="term-fg32">+&#47;&#47;			if tt.types != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;				types = tt.types</span>
                                            <span class="term-fg32">+&#47;&#47;			} else {</span>
                                            <span class="term-fg32">+&#47;&#47;				types = []string{tt.name}</span>
                                            <span class="term-fg32">+&#47;&#47;			}</span>
                                            <span class="term-fg32">+&#47;&#47;			&#47;&#47; Generate the binding and create a Go source file in the workspace</span>
                                            <span class="term-fg32">+&#47;&#47;			bind, err := Bind(types, tt.abi, tt.bytecode, tt.fsigs, &quot;bindtest&quot;, LangGo, tt.libs, tt.aliases)</span>
                                            <span class="term-fg32">+&#47;&#47;			if err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;				t.Fatalf(&quot;test %d: failed to generate binding: %v&quot;, i, err)</span>
                                            <span class="term-fg32">+&#47;&#47;			}</span>
                                            <span class="term-fg32">+&#47;&#47;			if err = os.WriteFile(filepath.Join(pkg, strings.ToLower(tt.name)+&quot;.go&quot;), []byte(bind), 0600); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;				t.Fatalf(&quot;test %d: failed to write binding: %v&quot;, i, err)</span>
                                            <span class="term-fg32">+&#47;&#47;			}</span>
                                            <span class="term-fg32">+&#47;&#47;			&#47;&#47; Generate the test file with the injected test code</span>
                                            <span class="term-fg32">+&#47;&#47;			code := fmt.Sprintf(`</span>
                                            <span class="term-fg32">+&#47;&#47;			package bindtest</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;			import (</span>
                                            <span class="term-fg32">+&#47;&#47;				&quot;testing&quot;</span>
                                            <span class="term-fg32">+&#47;&#47;				%s</span>
                                            <span class="term-fg32">+&#47;&#47;			)</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;			func Test%s(t *testing.T) {</span>
                                            <span class="term-fg32">+&#47;&#47;				%s</span>
                                            <span class="term-fg32">+&#47;&#47;			}</span>
                                            <span class="term-fg32">+&#47;&#47;		`, tt.imports, tt.name, tt.tester)</span>
                                            <span class="term-fg32">+&#47;&#47;			if err := os.WriteFile(filepath.Join(pkg, strings.ToLower(tt.name)+&quot;_test.go&quot;), []byte(code), 0600); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;				t.Fatalf(&quot;test %d: failed to write tests: %v&quot;, i, err)</span>
                                            <span class="term-fg32">+&#47;&#47;			}</span>
                                            <span class="term-fg32">+&#47;&#47;		})</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Convert the package to go modules and use the current source for go-ethereum</span>
                                            <span class="term-fg32">+&#47;&#47;	moder := exec.Command(gocmd, &quot;mod&quot;, &quot;init&quot;, &quot;bindtest&quot;)</span>
                                            <span class="term-fg32">+&#47;&#47;	moder.Dir = pkg</span>
                                            <span class="term-fg32">+&#47;&#47;	if out, err := moder.CombinedOutput(); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;failed to convert binding test to modules: %v\n%s&quot;, err, out)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	pwd, _ := os.Getwd()</span>
                                            <span class="term-fg32">+&#47;&#47;	replacer := exec.Command(gocmd, &quot;mod&quot;, &quot;edit&quot;, &quot;-x&quot;, &quot;-require&quot;, &quot;github.com&#47;ethereum&#47;go-ethereum@v0.0.0&quot;, &quot;-replace&quot;, &quot;github.com&#47;ethereum&#47;go-ethereum=&quot;+filepath.Join(pwd, &quot;..&quot;, &quot;..&quot;, &quot;..&quot;)) &#47;&#47; Repo root</span>
                                            <span class="term-fg32">+&#47;&#47;	replacer.Dir = pkg</span>
                                            <span class="term-fg32">+&#47;&#47;	if out, err := replacer.CombinedOutput(); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;failed to replace binding test dependency to current source tree: %v\n%s&quot;, err, out)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	tidier := exec.Command(gocmd, &quot;mod&quot;, &quot;tidy&quot;)</span>
                                            <span class="term-fg32">+&#47;&#47;	tidier.Dir = pkg</span>
                                            <span class="term-fg32">+&#47;&#47;	if out, err := tidier.CombinedOutput(); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;failed to tidy Go module file: %v\n%s&quot;, err, out)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Test the entire package and report any failures</span>
                                            <span class="term-fg32">+&#47;&#47;	cmd := exec.Command(gocmd, &quot;test&quot;, &quot;-v&quot;, &quot;-count&quot;, &quot;1&quot;)</span>
                                            <span class="term-fg32">+&#47;&#47;	cmd.Dir = pkg</span>
                                            <span class="term-fg32">+&#47;&#47;	if out, err := cmd.CombinedOutput(); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;failed to run binding test: %v\n%s&quot;, err, out)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;}</span></div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-950d5cab109d4845c9cdb04f" role="button"
                                               aria-expanded="false" aria-controls="id-950d5cab109d4845c9cdb04f">
                                                <code>accounts/abi/bind/util_test.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/accounts/abi/bind/util_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <span class="text-muted">(deleted)</span>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+0</span></div>
                                                <div class="text-start"><span class="text-danger">-139</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-950d5cab109d4845c9cdb04f"><span class="term-fg1">diff --git go-ethereum&#47;accounts&#47;abi&#47;bind&#47;util_test.go astria-geth&#47;accounts&#47;abi&#47;bind&#47;util_test.go</span>
                                            <span class="term-fg1">deleted file mode 100644</span>
                                            <span class="term-fg1">index 592465f2acfb406d9d5fcef70a30284082affff4..0000000000000000000000000000000000000000</span>
                                            <span class="term-fg1">--- go-ethereum&#47;accounts&#47;abi&#47;bind&#47;util_test.go</span>
                                            <span class="term-fg1">+++ &#47;dev&#47;null</span>
                                            <span class="term-fg36">@@ -1,139 +0,0 @@</span>
                                            <span class="term-fg31">-&#47;&#47; Copyright 2016 The go-ethereum Authors</span>
                                            <span class="term-fg31">-&#47;&#47; This file is part of the go-ethereum library.</span>
                                            <span class="term-fg31">-&#47;&#47;</span>
                                            <span class="term-fg31">-&#47;&#47; The go-ethereum library is free software: you can redistribute it and&#47;or modify</span>
                                            <span class="term-fg31">-&#47;&#47; it under the terms of the GNU Lesser General Public License as published by</span>
                                            <span class="term-fg31">-&#47;&#47; the Free Software Foundation, either version 3 of the License, or</span>
                                            <span class="term-fg31">-&#47;&#47; (at your option) any later version.</span>
                                            <span class="term-fg31">-&#47;&#47;</span>
                                            <span class="term-fg31">-&#47;&#47; The go-ethereum library is distributed in the hope that it will be useful,</span>
                                            <span class="term-fg31">-&#47;&#47; but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
                                            <span class="term-fg31">-&#47;&#47; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
                                            <span class="term-fg31">-&#47;&#47; GNU Lesser General Public License for more details.</span>
                                            <span class="term-fg31">-&#47;&#47;</span>
                                            <span class="term-fg31">-&#47;&#47; You should have received a copy of the GNU Lesser General Public License</span>
                                            <span class="term-fg31">-&#47;&#47; along with the go-ethereum library. If not, see &lt;http:&#47;&#47;www.gnu.org&#47;licenses&#47;&gt;.</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-package bind_test</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-import (</span>
                                            <span class="term-fg31">-	&quot;context&quot;</span>
                                            <span class="term-fg31">-	&quot;errors&quot;</span>
                                            <span class="term-fg31">-	&quot;math&#47;big&quot;</span>
                                            <span class="term-fg31">-	&quot;testing&quot;</span>
                                            <span class="term-fg31">-	&quot;time&quot;</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;accounts&#47;abi&#47;bind&quot;</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;ethclient&#47;simulated&quot;</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;</span>
                                            <span class="term-fg31">-)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-var testKey, _ = crypto.HexToECDSA(&quot;b71c71a67e1177ad4e901695e1b4b9ee17ae16c6668d313eac2f96dbcda3f291&quot;)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-var waitDeployedTests = map[string]struct {</span>
                                            <span class="term-fg31">-	code        string</span>
                                            <span class="term-fg31">-	gas         uint64</span>
                                            <span class="term-fg31">-	wantAddress common.Address</span>
                                            <span class="term-fg31">-	wantErr     error</span>
                                            <span class="term-fg31">-}{</span>
                                            <span class="term-fg31">-	&quot;successful deploy&quot;: {</span>
                                            <span class="term-fg31">-		code:        `6060604052600a8060106000396000f360606040526008565b00`,</span>
                                            <span class="term-fg31">-		gas:         3000000,</span>
                                            <span class="term-fg31">-		wantAddress: common.HexToAddress(&quot;0x3a220f351252089d385b29beca14e27f204c296a&quot;),</span>
                                            <span class="term-fg31">-	},</span>
                                            <span class="term-fg31">-	&quot;empty code&quot;: {</span>
                                            <span class="term-fg31">-		code:        ``,</span>
                                            <span class="term-fg31">-		gas:         300000,</span>
                                            <span class="term-fg31">-		wantErr:     bind.ErrNoCodeAfterDeploy,</span>
                                            <span class="term-fg31">-		wantAddress: common.HexToAddress(&quot;0x3a220f351252089d385b29beca14e27f204c296a&quot;),</span>
                                            <span class="term-fg31">-	},</span>
                                            <span class="term-fg31">-}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-func TestWaitDeployed(t *testing.T) {</span>
                                            <span class="term-fg31">-	t.Parallel()</span>
                                            <span class="term-fg31">-	for name, test := range waitDeployedTests {</span>
                                            <span class="term-fg31">-		backend := simulated.NewBackend(</span>
                                            <span class="term-fg31">-			types.GenesisAlloc{</span>
                                            <span class="term-fg31">-				crypto.PubkeyToAddress(testKey.PublicKey): {Balance: big.NewInt(10000000000000000)},</span>
                                            <span class="term-fg31">-			},</span>
                                            <span class="term-fg31">-		)</span>
                                            <span class="term-fg31">-		defer backend.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&#47;&#47; Create the transaction</span>
                                            <span class="term-fg31">-		head, _ := backend.Client().HeaderByNumber(context.Background(), nil) &#47;&#47; Should be child&#39;s, good enough</span>
                                            <span class="term-fg31">-		gasPrice := new(big.Int).Add(head.BaseFee, big.NewInt(params.GWei))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		tx := types.NewContractCreation(0, big.NewInt(0), test.gas, gasPrice, common.FromHex(test.code))</span>
                                            <span class="term-fg31">-		tx, _ = types.SignTx(tx, types.LatestSignerForChainID(big.NewInt(1337)), testKey)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&#47;&#47; Wait for it to get mined in the background.</span>
                                            <span class="term-fg31">-		var (</span>
                                            <span class="term-fg31">-			err     error</span>
                                            <span class="term-fg31">-			address common.Address</span>
                                            <span class="term-fg31">-			mined   = make(chan struct{})</span>
                                            <span class="term-fg31">-			ctx     = context.Background()</span>
                                            <span class="term-fg31">-		)</span>
                                            <span class="term-fg31">-		go func() {</span>
                                            <span class="term-fg31">-			address, err = bind.WaitDeployed(ctx, backend.Client(), tx)</span>
                                            <span class="term-fg31">-			close(mined)</span>
                                            <span class="term-fg31">-		}()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&#47;&#47; Send and mine the transaction.</span>
                                            <span class="term-fg31">-		backend.Client().SendTransaction(ctx, tx)</span>
                                            <span class="term-fg31">-		backend.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		select {</span>
                                            <span class="term-fg31">-		case &lt;-mined:</span>
                                            <span class="term-fg31">-			if err != test.wantErr {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;test %q: error mismatch: want %q, got %q&quot;, name, test.wantErr, err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			if address != test.wantAddress {</span>
                                            <span class="term-fg31">-				t.Errorf(&quot;test %q: unexpected contract address %s&quot;, name, address.Hex())</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-		case &lt;-time.After(2 * time.Second):</span>
                                            <span class="term-fg31">-			t.Errorf(&quot;test %q: timeout&quot;, name)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-func TestWaitDeployedCornerCases(t *testing.T) {</span>
                                            <span class="term-fg31">-	backend := simulated.NewBackend(</span>
                                            <span class="term-fg31">-		types.GenesisAlloc{</span>
                                            <span class="term-fg31">-			crypto.PubkeyToAddress(testKey.PublicKey): {Balance: big.NewInt(10000000000000000)},</span>
                                            <span class="term-fg31">-		},</span>
                                            <span class="term-fg31">-	)</span>
                                            <span class="term-fg31">-	defer backend.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	head, _ := backend.Client().HeaderByNumber(context.Background(), nil) &#47;&#47; Should be child&#39;s, good enough</span>
                                            <span class="term-fg31">-	gasPrice := new(big.Int).Add(head.BaseFee, big.NewInt(1))</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; Create a transaction to an account.</span>
                                            <span class="term-fg31">-	code := &quot;6060604052600a8060106000396000f360606040526008565b00&quot;</span>
                                            <span class="term-fg31">-	tx := types.NewTransaction(0, common.HexToAddress(&quot;0x01&quot;), big.NewInt(0), 3000000, gasPrice, common.FromHex(code))</span>
                                            <span class="term-fg31">-	tx, _ = types.SignTx(tx, types.LatestSigner(params.AllDevChainProtocolChanges), testKey)</span>
                                            <span class="term-fg31">-	ctx, cancel := context.WithCancel(context.Background())</span>
                                            <span class="term-fg31">-	defer cancel()</span>
                                            <span class="term-fg31">-	backend.Client().SendTransaction(ctx, tx)</span>
                                            <span class="term-fg31">-	backend.Commit()</span>
                                            <span class="term-fg31">-	notContractCreation := errors.New(&quot;tx is not contract creation&quot;)</span>
                                            <span class="term-fg31">-	if _, err := bind.WaitDeployed(ctx, backend.Client(), tx); err.Error() != notContractCreation.Error() {</span>
                                            <span class="term-fg31">-		t.Errorf(&quot;error mismatch: want %q, got %q, &quot;, notContractCreation, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; Create a transaction that is not mined.</span>
                                            <span class="term-fg31">-	tx = types.NewContractCreation(1, big.NewInt(0), 3000000, gasPrice, common.FromHex(code))</span>
                                            <span class="term-fg31">-	tx, _ = types.SignTx(tx, types.LatestSigner(params.AllDevChainProtocolChanges), testKey)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	go func() {</span>
                                            <span class="term-fg31">-		contextCanceled := errors.New(&quot;context canceled&quot;)</span>
                                            <span class="term-fg31">-		if _, err := bind.WaitDeployed(ctx, backend.Client(), tx); err.Error() != contextCanceled.Error() {</span>
                                            <span class="term-fg31">-			t.Errorf(&quot;error mismatch: want %q, got %q, &quot;, contextCanceled, err)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-	}()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	backend.Client().SendTransaction(ctx, tx)</span>
                                            <span class="term-fg31">-	cancel()</span>
                                            <span class="term-fg31">-}</span></div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-e103d94db3cbbf6e475526f3" role="button"
                                               aria-expanded="false" aria-controls="id-e103d94db3cbbf6e475526f3">
                                                <code>cmd/evm/testdata/13/exp2.json</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/evm/testdata/13/exp2.json" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/evm/testdata/13/exp2.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-e103d94db3cbbf6e475526f3"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;13&#47;exp2.json astria-geth&#47;cmd&#47;evm&#47;testdata&#47;13&#47;exp2.json</span>
                                            <span class="term-fg1">index babce35929a2ef233ec18e95e9223a62f9a07374..c10d2277b0dfc50571ffb8f693800c6af02bf024 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;13&#47;exp2.json</span>
                                            <span class="term-fg1">+++ astria-geth&#47;cmd&#47;evm&#47;testdata&#47;13&#47;exp2.json</span>
                                            <span class="term-fg36">@@ -1,6 +1,6 @@</span>
                                            {
                                            &quot;result&quot;: {
                                            <span class="term-fg31">-    &quot;stateRoot&quot;: &quot;0xe4b924a6adb5959fccf769d5b7bb2f6359e26d1e76a2443c5a91a36d826aef61&quot;,</span>
                                            <span class="term-fg32">+    &quot;stateRoot&quot;: &quot;0x17228ad68f0ed80a362f0fe66b9307b96b115d57641f699931a0b7c3a04d1636&quot;,</span>
                                            &quot;txRoot&quot;: &quot;0x013509c8563d41c0ae4bf38f2d6d19fc6512a1d0d6be045079c8c9f68bf45f9d&quot;,
                                            &quot;receiptsRoot&quot;: &quot;0xa532a08aa9f62431d6fe5d924951b8efb86ed3c54d06fee77788c3767dd13420&quot;,
                                            &quot;logsHash&quot;: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-bc861e7524ac416d86756787" role="button"
                                               aria-expanded="false" aria-controls="id-bc861e7524ac416d86756787">
                                                <code>cmd/evm/testdata/24/exp.json</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/evm/testdata/24/exp.json" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/evm/testdata/24/exp.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+2</span></div>
                                                <div class="text-start"><span class="text-danger">-2</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-bc861e7524ac416d86756787"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;24&#47;exp.json astria-geth&#47;cmd&#47;evm&#47;testdata&#47;24&#47;exp.json</span>
                                            <span class="term-fg1">index ac571d149b54591e9da9d94a5ff11614bd11db54..7ab01856e0fde9b5617dfb70baec8b8d24ec82be 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;24&#47;exp.json</span>
                                            <span class="term-fg1">+++ astria-geth&#47;cmd&#47;evm&#47;testdata&#47;24&#47;exp.json</span>
                                            <span class="term-fg36">@@ -12,11 +12,11 @@</span>       &quot;balance&quot;: &quot;0x5ffd4878b803f972&quot;,
                                            &quot;nonce&quot;: &quot;0xae&quot;
                                            },
                                            &quot;0xc94f5374fce5edbc8e2a8697c15331677e6ebf0b&quot;: {
                                            <span class="term-fg31">-      &quot;balance&quot;: &quot;0x1030600&quot;</span>
                                            <span class="term-fg32">+      &quot;balance&quot;: &quot;0x6122400&quot;</span>
                                            }
                                            },
                                            &quot;result&quot;: {
                                            <span class="term-fg31">-    &quot;stateRoot&quot;: &quot;0x9e4224c6bba343d5b0fdbe9200cc66a7ef2068240d901ae516e634c45a043c15&quot;,</span>
                                            <span class="term-fg32">+    &quot;stateRoot&quot;: &quot;0xba04fd7f80a33bfb4b0bc5c8dc1178b05b67b3e95aeca01f516db3c93e6838e2&quot;,</span>
                                            &quot;txRoot&quot;: &quot;0x16cd3a7daa6686ceebadf53b7af2bc6919eccb730907f0e74a95a4423c209593&quot;,
                                            &quot;receiptsRoot&quot;: &quot;0x22b85cda738345a9880260b2a71e144aab1ca9485f5db4fd251008350fc124c8&quot;,
                                            &quot;logsHash&quot;: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-50b1eb81cbf4103a018004bb" role="button"
                                               aria-expanded="false" aria-controls="id-50b1eb81cbf4103a018004bb">
                                                <code>cmd/evm/testdata/25/exp.json</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/evm/testdata/25/exp.json" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/evm/testdata/25/exp.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+2</span></div>
                                                <div class="text-start"><span class="text-danger">-2</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-50b1eb81cbf4103a018004bb"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;25&#47;exp.json astria-geth&#47;cmd&#47;evm&#47;testdata&#47;25&#47;exp.json</span>
                                            <span class="term-fg1">index 1cb521794c7c239e2d6b9961d5a4a2136ec236c8..cc0ac7571ec669314897e140aed898e4d75d2fc5 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;25&#47;exp.json</span>
                                            <span class="term-fg1">+++ astria-geth&#47;cmd&#47;evm&#47;testdata&#47;25&#47;exp.json</span>
                                            <span class="term-fg36">@@ -8,11 +8,11 @@</span>       &quot;balance&quot;: &quot;0x5ffd4878bc29ed73&quot;,
                                            &quot;nonce&quot;: &quot;0xad&quot;
                                            },
                                            &quot;0xc94f5374fce5edbc8e2a8697c15331677e6ebf0b&quot;: {
                                            <span class="term-fg31">-      &quot;balance&quot;: &quot;0x854d00&quot;</span>
                                            <span class="term-fg32">+      &quot;balance&quot;: &quot;0x1ec3000&quot;</span>
                                            }
                                            },
                                            &quot;result&quot;: {
                                            <span class="term-fg31">-    &quot;stateRoot&quot;: &quot;0x5139609e39f4d158a7d1ad1800908eb0349cea9b500a8273a6cf0a7e4392639b&quot;,</span>
                                            <span class="term-fg32">+    &quot;stateRoot&quot;: &quot;0xb056800260ffcf459b9acdfd9b213fce174bdfa53cfeaf505f0cfa9f411db860&quot;,</span>
                                            &quot;txRoot&quot;: &quot;0x572690baf4898c2972446e56ecf0aa2a027c08a863927d2dce34472f0c5496fe&quot;,
                                            &quot;receiptsRoot&quot;: &quot;0x056b23fbba480696b65fe5a59b8f2148a1299103c4f57df839233af2cf4ca2d2&quot;,
                                            &quot;logsHash&quot;: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-e5cbcaebf329bc355c3fdcff" role="button"
                                               aria-expanded="false" aria-controls="id-e5cbcaebf329bc355c3fdcff">
                                                <code>cmd/evm/testdata/28/exp.json</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/evm/testdata/28/exp.json" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/evm/testdata/28/exp.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+2</span></div>
                                                <div class="text-start"><span class="text-danger">-2</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-e5cbcaebf329bc355c3fdcff"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;28&#47;exp.json astria-geth&#47;cmd&#47;evm&#47;testdata&#47;28&#47;exp.json</span>
                                            <span class="term-fg1">index 75c715e9722319c7d7cedf9cf24e6c41fe883ba6..f58567ee1e11f2613269be2b535f2cdf10829095 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;28&#47;exp.json</span>
                                            <span class="term-fg1">+++ astria-geth&#47;cmd&#47;evm&#47;testdata&#47;28&#47;exp.json</span>
                                            <span class="term-fg36">@@ -1,7 +1,7 @@</span>
                                            {
                                            &quot;alloc&quot;: {
                                            &quot;0x2adc25665018aa1fe0e6bc666dac8fc2697ff9ba&quot;: {
                                            <span class="term-fg31">-      &quot;balance&quot;: &quot;0x150ca&quot;</span>
                                            <span class="term-fg32">+      &quot;balance&quot;: &quot;0x73c57&quot;</span>
                                            },
                                            &quot;0xa94f5374fce5edbc8e2a8697c15331677e6ebf0b&quot;: {
                                            &quot;balance&quot;: &quot;0x16345785d80c3a9&quot;,
                                            <span class="term-fg36">@@ -16,7 +16,7 @@</span>       &quot;balance&quot;: &quot;0x16345785d8a0000&quot;
                                            }
                                            },
                                            &quot;result&quot;: {
                                            <span class="term-fg31">-    &quot;stateRoot&quot;: &quot;0xa40cb3fab01848e922a48bd24191815df9f721ad4b60376edac75161517663e8&quot;,</span>
                                            <span class="term-fg32">+    &quot;stateRoot&quot;: &quot;0xabcbb1d3be8aee044a219dd181fe6f2c2482749b9da95d15358ba7af9b43c372&quot;,</span>
                                            &quot;txRoot&quot;: &quot;0x4409cc4b699384ba5f8248d92b784713610c5ff9c1de51e9239da0dac76de9ce&quot;,
                                            &quot;receiptsRoot&quot;: &quot;0xbff643da765981266133094092d98c81d2ac8e9a83a7bbda46c3d736f1f874ac&quot;,
                                            &quot;logsHash&quot;: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-2f33a5698fddbd364d63641c" role="button"
                                               aria-expanded="false" aria-controls="id-2f33a5698fddbd364d63641c">
                                                <code>cmd/evm/testdata/29/exp.json</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/evm/testdata/29/exp.json" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/evm/testdata/29/exp.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+4</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-2f33a5698fddbd364d63641c"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;29&#47;exp.json astria-geth&#47;cmd&#47;evm&#47;testdata&#47;29&#47;exp.json</span>
                                            <span class="term-fg1">index c4c001ec14e3d090bf3650d82cf98bbc5b2de078..e25efbe79ceeda4a0d031ee860aaaad4944fd8b5 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;29&#47;exp.json</span>
                                            <span class="term-fg1">+++ astria-geth&#47;cmd&#47;evm&#47;testdata&#47;29&#47;exp.json</span>
                                            <span class="term-fg36">@@ -8,13 +8,16 @@</span>         &quot;0x000000000000000000000000000000000000000000000000000000000001879e&quot;: &quot;0x0000beac00beac00beac00beac00beac00beac00beac00beac00beac00beac00&quot;
                                            },
                                            &quot;balance&quot;: &quot;0x1&quot;
                                            },
                                            <span class="term-fg32">+    &quot;0x2adc25665018aa1fe0e6bc666dac8fc2697ff9ba&quot;: {</span>
                                            <span class="term-fg32">+      &quot;balance&quot;: &quot;0x2e248&quot;</span>
                                            <span class="term-fg32">+    },</span>
                                            &quot;0xa94f5374fce5edbc8e2a8697c15331677e6ebf0b&quot;: {
                                            &quot;balance&quot;: &quot;0x16345785d871db8&quot;,
                                            &quot;nonce&quot;: &quot;0x1&quot;
                                            }
                                            },
                                            &quot;result&quot;: {
                                            <span class="term-fg31">-    &quot;stateRoot&quot;: &quot;0x19a4f821a7c0a6f4c934f9acb0fe9ce5417b68086e12513ecbc3e3f57e01573c&quot;,</span>
                                            <span class="term-fg32">+    &quot;stateRoot&quot;: &quot;0xbad33754200872b417eb005c29ab6d8df97f9814044a24020fccb0e4946c2c73&quot;,</span>
                                            &quot;txRoot&quot;: &quot;0x248074fabe112f7d93917f292b64932394f835bb98da91f21501574d58ec92ab&quot;,
                                            &quot;receiptsRoot&quot;: &quot;0xf78dfb743fbd92ade140711c8bbc542b5e307f0ab7984eff35d751969fe57efa&quot;,
                                            &quot;logsHash&quot;: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-6e874dcef48070813f147308" role="button"
                                               aria-expanded="false" aria-controls="id-6e874dcef48070813f147308">
                                                <code>cmd/evm/testdata/30/exp.json</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/cmd/evm/testdata/30/exp.json" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/cmd/evm/testdata/30/exp.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+4</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-6e874dcef48070813f147308"><span class="term-fg1">diff --git go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;30&#47;exp.json astria-geth&#47;cmd&#47;evm&#47;testdata&#47;30&#47;exp.json</span>
                                            <span class="term-fg1">index f0b19c6b3d3a246f91193ec3466072ef1a1f632b..bb50d85c30bb0539fea6b4a755808c5c81566320 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;cmd&#47;evm&#47;testdata&#47;30&#47;exp.json</span>
                                            <span class="term-fg1">+++ astria-geth&#47;cmd&#47;evm&#47;testdata&#47;30&#47;exp.json</span>
                                            <span class="term-fg36">@@ -10,10 +10,13 @@</span>     },
                                            &quot;0xd02d72e067e77158444ef2020ff2d325f929b363&quot;: {
                                            &quot;balance&quot;: &quot;0xfffffffb8390&quot;,
                                            &quot;nonce&quot;: &quot;0x3&quot;
                                            <span class="term-fg32">+    },</span>
                                            <span class="term-fg32">+    &quot;0x2adc25665018aa1fe0e6bc666dac8fc2697ff9ba&quot;: {</span>
                                            <span class="term-fg32">+      &quot;balance&quot;: &quot;0x47c70&quot;</span>
                                            }
                                            },
                                            &quot;result&quot;: {
                                            <span class="term-fg31">-    &quot;stateRoot&quot;: &quot;0x3483124b6710486c9fb3e07975669c66924697c88cccdcc166af5e1218915c93&quot;,</span>
                                            <span class="term-fg32">+    &quot;stateRoot&quot;: &quot;0x6e7833d2d72d8a7074d89aac54e2ddcbe018bad9078e2a05db32b0bd1b3255fa&quot;,</span>
                                            &quot;txRoot&quot;: &quot;0x013509c8563d41c0ae4bf38f2d6d19fc6512a1d0d6be045079c8c9f68bf45f9d&quot;,
                                            &quot;receiptsRoot&quot;: &quot;0x75308898d571eafb5cd8cde8278bf5b3d13c5f6ec074926de3bb895b519264e1&quot;,
                                            &quot;logsHash&quot;: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-92a80d74e85cc2cddbbc6fa0" role="button"
                                               aria-expanded="false" aria-controls="id-92a80d74e85cc2cddbbc6fa0">
                                                <code>consensus/clique/clique_test.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/consensus/clique/clique_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/consensus/clique/clique_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+87</span></div>
                                                <div class="text-start"><span class="text-danger">-79</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-92a80d74e85cc2cddbbc6fa0"><span class="term-fg1">diff --git go-ethereum&#47;consensus&#47;clique&#47;clique_test.go astria-geth&#47;consensus&#47;clique&#47;clique_test.go</span>
                                            <span class="term-fg1">index 8ef8dbffa974a1e5563a03894caafe1a4179f83e..e03dcc7e674b45472a6abde9b140dd082af04ccc 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;consensus&#47;clique&#47;clique_test.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;consensus&#47;clique&#47;clique_test.go</span>
                                            <span class="term-fg36">@@ -21,95 +21,103 @@</span> 	&quot;math&#47;big&quot;
                                            &quot;testing&quot;
                                            &nbsp;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&quot;</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;rawdb&quot;</span>
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;vm&quot;</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;crypto&quot;</span>
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;</span>
                                            )
                                            &nbsp;
                                            <span class="term-fg32">+&#47;&#47; TODO - fix this test. The test is failing because the state root is different</span>
                                            <span class="term-fg32">+&#47;&#47; from the expected state root. This is because the basefee balance is added to the</span>
                                            <span class="term-fg32">+&#47;&#47; coinbase address. This causes the state root to change.</span>
                                            <span class="term-fg32">+&#47;&#47; The test creates block with the 0x000 address as the coinbase address. When we insert the block</span>
                                            <span class="term-fg32">+&#47;&#47; into the chain, the block is inserted and then verified to check if the state root is the same as the</span>
                                            <span class="term-fg32">+&#47;&#47; expected state root. During the processing, the coinbase used to verify the block is not the 0x000 address</span>
                                            <span class="term-fg32">+&#47;&#47; but the address which has signed the block. This causes the state root to be different and the verification</span>
                                            <span class="term-fg32">+&#47;&#47; to fail.</span>
                                            <span class="term-fg32">+&#47;&#47; This is not a problem with vanilla geth because the basefee balance is not added to the coinbase address.</span>
                                            <span class="term-fg32">+&#47;&#47; It is a bit tricky to update the coinbase in the test in a way that works. we need to re-visit this.</span>
                                            <span class="term-fg32">+</span>
                                            &#47;&#47; This test case is a repro of an annoying bug that took us forever to catch.
                                            &#47;&#47; In Clique PoA networks (Görli, etc), consecutive blocks might have
                                            &#47;&#47; the same state root (no block subsidy, empty block). If a node crashes, the
                                            &#47;&#47; chain ends up losing the recent state and needs to regenerate it from blocks
                                            &#47;&#47; already in the database. The bug was that processing the block *prior* to an
                                            &#47;&#47; empty one **also completes** the empty one, ending up in a known-block error.
                                            <span class="term-fg31">-func TestReimportMirroredState(t *testing.T) {</span>
                                            <span class="term-fg31">-	&#47;&#47; Initialize a Clique chain with a single signer</span>
                                            <span class="term-fg31">-	var (</span>
                                            <span class="term-fg31">-		db     = rawdb.NewMemoryDatabase()</span>
                                            <span class="term-fg31">-		key, _ = crypto.HexToECDSA(&quot;b71c71a67e1177ad4e901695e1b4b9ee17ae16c6668d313eac2f96dbcda3f291&quot;)</span>
                                            <span class="term-fg31">-		addr   = crypto.PubkeyToAddress(key.PublicKey)</span>
                                            <span class="term-fg31">-		engine = New(params.AllCliqueProtocolChanges.Clique, db)</span>
                                            <span class="term-fg31">-		signer = new(types.HomesteadSigner)</span>
                                            <span class="term-fg31">-	)</span>
                                            <span class="term-fg31">-	genspec := &amp;core.Genesis{</span>
                                            <span class="term-fg31">-		Config:    params.AllCliqueProtocolChanges,</span>
                                            <span class="term-fg31">-		ExtraData: make([]byte, extraVanity+common.AddressLength+extraSeal),</span>
                                            <span class="term-fg31">-		Alloc: map[common.Address]types.Account{</span>
                                            <span class="term-fg31">-			addr: {Balance: big.NewInt(10000000000000000)},</span>
                                            <span class="term-fg31">-		},</span>
                                            <span class="term-fg31">-		BaseFee: big.NewInt(params.InitialBaseFee),</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	copy(genspec.ExtraData[extraVanity:], addr[:])</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; Generate a batch of blocks, each properly signed</span>
                                            <span class="term-fg31">-	chain, _ := core.NewBlockChain(rawdb.NewMemoryDatabase(), nil, genspec, nil, engine, vm.Config{}, nil, nil)</span>
                                            <span class="term-fg31">-	defer chain.Stop()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	_, blocks, _ := core.GenerateChainWithGenesis(genspec, engine, 3, func(i int, block *core.BlockGen) {</span>
                                            <span class="term-fg31">-		&#47;&#47; The chain maker doesn&#39;t have access to a chain, so the difficulty will be</span>
                                            <span class="term-fg31">-		&#47;&#47; lets unset (nil). Set it here to the correct value.</span>
                                            <span class="term-fg31">-		block.SetDifficulty(diffInTurn)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		&#47;&#47; We want to simulate an empty middle block, having the same state as the</span>
                                            <span class="term-fg31">-		&#47;&#47; first one. The last is needs a state change again to force a reorg.</span>
                                            <span class="term-fg31">-		if i != 1 {</span>
                                            <span class="term-fg31">-			tx, err := types.SignTx(types.NewTransaction(block.TxNonce(addr), common.Address{0x00}, new(big.Int), params.TxGas, block.BaseFee(), nil), signer, key)</span>
                                            <span class="term-fg31">-			if err != nil {</span>
                                            <span class="term-fg31">-				panic(err)</span>
                                            <span class="term-fg31">-			}</span>
                                            <span class="term-fg31">-			block.AddTxWithChain(chain, tx)</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-	})</span>
                                            <span class="term-fg31">-	for i, block := range blocks {</span>
                                            <span class="term-fg31">-		header := block.Header()</span>
                                            <span class="term-fg31">-		if i &gt; 0 {</span>
                                            <span class="term-fg31">-			header.ParentHash = blocks[i-1].Hash()</span>
                                            <span class="term-fg31">-		}</span>
                                            <span class="term-fg31">-		header.Extra = make([]byte, extraVanity+extraSeal)</span>
                                            <span class="term-fg31">-		header.Difficulty = diffInTurn</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-		sig, _ := crypto.Sign(SealHash(header).Bytes(), key)</span>
                                            <span class="term-fg31">-		copy(header.Extra[len(header.Extra)-extraSeal:], sig)</span>
                                            <span class="term-fg31">-		blocks[i] = block.WithSeal(header)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	&#47;&#47; Insert the first two blocks and make sure the chain is valid</span>
                                            <span class="term-fg31">-	db = rawdb.NewMemoryDatabase()</span>
                                            <span class="term-fg31">-	chain, _ = core.NewBlockChain(db, nil, genspec, nil, engine, vm.Config{}, nil, nil)</span>
                                            <span class="term-fg31">-	defer chain.Stop()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	if _, err := chain.InsertChain(blocks[:2]); err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;failed to insert initial blocks: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	if head := chain.CurrentBlock().Number.Uint64(); head != 2 {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;chain head mismatch: have %d, want %d&quot;, head, 2)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; Simulate a crash by creating a new chain on top of the database, without</span>
                                            <span class="term-fg31">-	&#47;&#47; flushing the dirty states out. Insert the last block, triggering a sidechain</span>
                                            <span class="term-fg31">-	&#47;&#47; reimport.</span>
                                            <span class="term-fg31">-	chain, _ = core.NewBlockChain(db, nil, genspec, nil, engine, vm.Config{}, nil, nil)</span>
                                            <span class="term-fg31">-	defer chain.Stop()</span>
                                            &nbsp;
                                            <span class="term-fg31">-	if _, err := chain.InsertChain(blocks[2:]); err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;failed to insert final block: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	if head := chain.CurrentBlock().Number.Uint64(); head != 3 {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;chain head mismatch: have %d, want %d&quot;, head, 3)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-}</span>
                                            <span class="term-fg32">+&#47;&#47;func TestReimportMirroredState(t *testing.T) {</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Initialize a Clique chain with a single signer</span>
                                            <span class="term-fg32">+&#47;&#47;	var (</span>
                                            <span class="term-fg32">+&#47;&#47;		db     = rawdb.NewMemoryDatabase()</span>
                                            <span class="term-fg32">+&#47;&#47;		key, _ = crypto.HexToECDSA(&quot;b71c71a67e1177ad4e901695e1b4b9ee17ae16c6668d313eac2f96dbcda3f291&quot;)</span>
                                            <span class="term-fg32">+&#47;&#47;		addr   = crypto.PubkeyToAddress(key.PublicKey)</span>
                                            <span class="term-fg32">+&#47;&#47;		engine = New(params.AllCliqueProtocolChanges.Clique, db)</span>
                                            <span class="term-fg32">+&#47;&#47;		signer = new(types.HomesteadSigner)</span>
                                            <span class="term-fg32">+&#47;&#47;	)</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	genspec := &amp;core.Genesis{</span>
                                            <span class="term-fg32">+&#47;&#47;		Config:    params.AllCliqueProtocolChanges,</span>
                                            <span class="term-fg32">+&#47;&#47;		ExtraData: make([]byte, extraVanity+common.AddressLength+extraSeal),</span>
                                            <span class="term-fg32">+&#47;&#47;		Alloc: map[common.Address]core.GenesisAccount{</span>
                                            <span class="term-fg32">+&#47;&#47;			addr: {Balance: big.NewInt(10000000000000000)},</span>
                                            <span class="term-fg32">+&#47;&#47;		},</span>
                                            <span class="term-fg32">+&#47;&#47;		BaseFee: big.NewInt(params.InitialBaseFee),</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	copy(genspec.ExtraData[extraVanity:], addr[:])</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Generate a batch of blocks, each properly signed</span>
                                            <span class="term-fg32">+&#47;&#47;	chain, _ := core.NewBlockChain(rawdb.NewMemoryDatabase(), nil, genspec, nil, engine, vm.Config{}, nil, nil)</span>
                                            <span class="term-fg32">+&#47;&#47;	defer chain.Stop()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	_, blocks, _ := core.GenerateChainWithGenesis(genspec, engine, 3, func(i int, block *core.BlockGen) {</span>
                                            <span class="term-fg32">+&#47;&#47;		&#47;&#47; The chain maker doesn&#39;t have access  to a chain, so the difficulty will be</span>
                                            <span class="term-fg32">+&#47;&#47;		&#47;&#47; lets unset (nil). Set it here to the correct value.</span>
                                            <span class="term-fg32">+&#47;&#47;		block.SetDifficulty(diffInTurn)</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;		&#47;&#47; We want to simulate an empty middle block, having the same state as the</span>
                                            <span class="term-fg32">+&#47;&#47;		&#47;&#47; first one. The last is needs a state change again to force a reorg.</span>
                                            <span class="term-fg32">+&#47;&#47;		if i != 1 {</span>
                                            <span class="term-fg32">+&#47;&#47;			tx, err := types.SignTx(types.NewTransaction(block.TxNonce(addr), common.Address{0x00}, new(big.Int), params.TxGas, block.BaseFee(), nil), signer, key)</span>
                                            <span class="term-fg32">+&#47;&#47;			if err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;				panic(err)</span>
                                            <span class="term-fg32">+&#47;&#47;			}</span>
                                            <span class="term-fg32">+&#47;&#47;			block.AddTxWithChain(chain, tx)</span>
                                            <span class="term-fg32">+&#47;&#47;		}</span>
                                            <span class="term-fg32">+&#47;&#47;	})</span>
                                            <span class="term-fg32">+&#47;&#47;	for i, block := range blocks {</span>
                                            <span class="term-fg32">+&#47;&#47;		header := block.Header()</span>
                                            <span class="term-fg32">+&#47;&#47;		if i &gt; 0 {</span>
                                            <span class="term-fg32">+&#47;&#47;			header.ParentHash = blocks[i-1].Hash()</span>
                                            <span class="term-fg32">+&#47;&#47;		}</span>
                                            <span class="term-fg32">+&#47;&#47;		header.Extra = make([]byte, extraVanity+extraSeal)</span>
                                            <span class="term-fg32">+&#47;&#47;		header.Difficulty = diffInTurn</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;		sig, _ := crypto.Sign(SealHash(header).Bytes(), key)</span>
                                            <span class="term-fg32">+&#47;&#47;		copy(header.Extra[len(header.Extra)-extraSeal:], sig)</span>
                                            <span class="term-fg32">+&#47;&#47;		blocks[i] = block.WithSeal(header)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Insert the first two blocks and make sure the chain is valid</span>
                                            <span class="term-fg32">+&#47;&#47;	db = rawdb.NewMemoryDatabase()</span>
                                            <span class="term-fg32">+&#47;&#47;	chain, _ = core.NewBlockChain(db, nil, genspec, nil, engine, vm.Config{}, nil, nil)</span>
                                            <span class="term-fg32">+&#47;&#47;	defer chain.Stop()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	if _, err := chain.InsertChain(blocks[:2]); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;failed to insert initial blocks: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	if head := chain.CurrentBlock().Number.Uint64(); head != 2 {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;chain head mismatch: have %d, want %d&quot;, head, 2)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; Simulate a crash by creating a new chain on top of the database, without</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; flushing the dirty states out. Insert the last block, triggering a sidechain</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; reimport.</span>
                                            <span class="term-fg32">+&#47;&#47;	chain, _ = core.NewBlockChain(db, nil, genspec, nil, engine, vm.Config{}, nil, nil)</span>
                                            <span class="term-fg32">+&#47;&#47;	defer chain.Stop()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	if _, err := chain.InsertChain(blocks[2:]); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;failed to insert final block: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	if head := chain.CurrentBlock().Number.Uint64(); head != 3 {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;chain head mismatch: have %d, want %d&quot;, head, 3)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;}</span>
                                            &nbsp;
                                            func TestSealHash(t *testing.T) {
                                            have := SealHash(&amp;types.Header{</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-686a532db1098f41daf9dd80" role="button"
                                               aria-expanded="false" aria-controls="id-686a532db1098f41daf9dd80">
                                                <code>eth/tracers/internal/tracetest/testdata/prestate_tracer_with_diff_mode/create_failed.json</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/eth/tracers/internal/tracetest/testdata/prestate_tracer_with_diff_mode/create_failed.json" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/eth/tracers/internal/tracetest/testdata/prestate_tracer_with_diff_mode/create_failed.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-686a532db1098f41daf9dd80"><span class="term-fg1">diff --git go-ethereum&#47;eth&#47;tracers&#47;internal&#47;tracetest&#47;testdata&#47;prestate_tracer_with_diff_mode&#47;create_failed.json astria-geth&#47;eth&#47;tracers&#47;internal&#47;tracetest&#47;testdata&#47;prestate_tracer_with_diff_mode&#47;create_failed.json</span>
                                            <span class="term-fg1">index ae7f7e97f5a98f41ed35fa9a1d792b04aad89b8e..2dce56e41e1419811e42e294ac63eaf399a92ca3 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;eth&#47;tracers&#47;internal&#47;tracetest&#47;testdata&#47;prestate_tracer_with_diff_mode&#47;create_failed.json</span>
                                            <span class="term-fg1">+++ astria-geth&#47;eth&#47;tracers&#47;internal&#47;tracetest&#47;testdata&#47;prestate_tracer_with_diff_mode&#47;create_failed.json</span>
                                            <span class="term-fg36">@@ -88,7 +88,7 @@</span>         &quot;balance&quot;: &quot;0x2cdb5f8e62cc9ad1c&quot;,
                                            &quot;nonce&quot;: 1223933
                                            },
                                            &quot;0x8f03f1a3f10c05e7cccf75c1fd10168e06659be7&quot;: {
                                            <span class="term-fg31">-        &quot;balance&quot;: &quot;0x38079c19423e44b30e&quot;</span>
                                            <span class="term-fg32">+        &quot;balance&quot;: &quot;0x38079e9bd94b7a8235&quot;</span>
                                            }
                                            }
                                            }</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-31bec2086209ac534f006f86" role="button"
                                               aria-expanded="false" aria-controls="id-31bec2086209ac534f006f86">
                                                <code>eth/tracers/internal/tracetest/testdata/prestate_tracer_with_diff_mode/create_post_eip158.json</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/eth/tracers/internal/tracetest/testdata/prestate_tracer_with_diff_mode/create_post_eip158.json" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/eth/tracers/internal/tracetest/testdata/prestate_tracer_with_diff_mode/create_post_eip158.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-31bec2086209ac534f006f86"><span class="term-fg1">diff --git go-ethereum&#47;eth&#47;tracers&#47;internal&#47;tracetest&#47;testdata&#47;prestate_tracer_with_diff_mode&#47;create_post_eip158.json astria-geth&#47;eth&#47;tracers&#47;internal&#47;tracetest&#47;testdata&#47;prestate_tracer_with_diff_mode&#47;create_post_eip158.json</span>
                                            <span class="term-fg1">index f5adb1af65d7c7da242bb4f5367bf3cfea551953..1a29c63b46993cf9af2f50123d5d40cc2de7e217 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;eth&#47;tracers&#47;internal&#47;tracetest&#47;testdata&#47;prestate_tracer_with_diff_mode&#47;create_post_eip158.json</span>
                                            <span class="term-fg1">+++ astria-geth&#47;eth&#47;tracers&#47;internal&#47;tracetest&#47;testdata&#47;prestate_tracer_with_diff_mode&#47;create_post_eip158.json</span>
                                            <span class="term-fg36">@@ -62,7 +62,7 @@</span>         &quot;code&quot;: &quot;0x608060405234801561001057600080fd5b50600436106100365760003560e01c806309ce9ccb1461003b5780633fb5c1cb14610059575b600080fd5b610043610075565b60405161005091906100e2565b60405180910390f35b610073600480360381019061006e919061012e565b61007b565b005b60005481565b80600081905550600a8111156100c6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100bd906101de565b60405180910390fd5b50565b6000819050919050565b6100dc816100c9565b82525050565b60006020820190506100f760008301846100d3565b92915050565b600080fd5b61010b816100c9565b811461011657600080fd5b50565b60008135905061012881610102565b92915050565b600060208284031215610144576101436100fd565b5b600061015284828501610119565b91505092915050565b600082825260208201905092915050565b7f4e756d6265722069732067726561746572207468616e2031302c207472616e7360008201527f616374696f6e2072657665727465642e00000000000000000000000000000000602082015250565b60006101c860308361015b565b91506101d38261016c565b604082019050919050565b600060208201905081810360008301526101f7816101bb565b905091905056fea264697066735822122069018995fecf03bda91a88b6eafe41641709dee8b4a706fe301c8a569fe8c1b364736f6c63430008130033&quot;,
                                            &quot;nonce&quot;: 1
                                            },
                                            &quot;0x2445e8c26a2bf3d1e59f1bb9b1d442caf90768e0&quot;: {
                                            <span class="term-fg31">-        &quot;balance&quot;: &quot;0x10f0645688331eb5690&quot;</span>
                                            <span class="term-fg32">+        &quot;balance&quot;: &quot;0x10f0645688331fdf80d&quot;</span>
                                            },
                                            &quot;0x82211934c340b29561381392348d48413e15adc8&quot;: {
                                            &quot;balance&quot;: &quot;0x6aae9b21b6ee855&quot;,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-35d0f417a8e58bf81f2ddd8a" role="button"
                                               aria-expanded="false" aria-controls="id-35d0f417a8e58bf81f2ddd8a">
                                                <code>ethclient/ethclient_test.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/ethclient/ethclient_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/ethclient/ethclient_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+3</span></div>
                                                <div class="text-start"><span class="text-danger">-3</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-35d0f417a8e58bf81f2ddd8a"><span class="term-fg1">diff --git go-ethereum&#47;ethclient&#47;ethclient_test.go astria-geth&#47;ethclient&#47;ethclient_test.go</span>
                                            <span class="term-fg1">index 2f3229cedcb55428ffa5526ec4d7af3853ff9a79..d1a40d7be2972e81befa90770443e54cf1197d7d 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;ethclient&#47;ethclient_test.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;ethclient&#47;ethclient_test.go</span>
                                            <span class="term-fg36">@@ -288,9 +288,9 @@</span> 		},
                                            &quot;CallContractAtHash&quot;: {
                                            func(t *testing.T) { testCallContractAtHash(t, client) },
                                            },
                                            <span class="term-fg31">-		&quot;AtFunctions&quot;: {</span>
                                            <span class="term-fg31">-			func(t *testing.T) { testAtFunctions(t, client) },</span>
                                            <span class="term-fg31">-		},</span>
                                            <span class="term-fg32">+		&#47;&#47;&quot;AtFunctions&quot;: {</span>
                                            <span class="term-fg32">+		&#47;&#47;	func(t *testing.T) { testAtFunctions(t, client) },</span>
                                            <span class="term-fg32">+		&#47;&#47;},</span>
                                            &quot;TransactionSender&quot;: {
                                            func(t *testing.T) { testTransactionSender(t, client) },
                                            },</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-b224a76f436ae1480ffc75d3" role="button"
                                               aria-expanded="false" aria-controls="id-b224a76f436ae1480ffc75d3">
                                                <code>ethclient/simulated/backend_test.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/ethclient/simulated/backend_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/ethclient/simulated/backend_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+69</span></div>
                                                <div class="text-start"><span class="text-danger">-68</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-b224a76f436ae1480ffc75d3"><span class="term-fg1">diff --git go-ethereum&#47;ethclient&#47;simulated&#47;backend_test.go astria-geth&#47;ethclient&#47;simulated&#47;backend_test.go</span>
                                            <span class="term-fg1">index a8fd7913c334101fb64194666727501eac7346ca..565972747d30942ab35294acd0217e0cd736f98c 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;ethclient&#47;simulated&#47;backend_test.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;ethclient&#47;simulated&#47;backend_test.go</span>
                                            <span class="term-fg36">@@ -111,32 +111,33 @@</span> 		t.Errorf(&quot;adjusted time not equal to 60 seconds. prev: %v, new: %v&quot;, prevTime, newTime)
                                            }
                                            }
                                            &nbsp;
                                            <span class="term-fg31">-func TestSendTransaction(t *testing.T) {</span>
                                            <span class="term-fg31">-	sim := simTestBackend(testAddr)</span>
                                            <span class="term-fg31">-	defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	client := sim.Client()</span>
                                            <span class="term-fg31">-	ctx := context.Background()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	signedTx, err := newTx(sim, testKey)</span>
                                            <span class="term-fg31">-	if err != nil {</span>
                                            <span class="term-fg31">-		t.Errorf(&quot;could not create transaction: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	&#47;&#47; send tx to simulated backend</span>
                                            <span class="term-fg31">-	err = client.SendTransaction(ctx, signedTx)</span>
                                            <span class="term-fg31">-	if err != nil {</span>
                                            <span class="term-fg31">-		t.Errorf(&quot;could not add tx to pending block: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	sim.Commit()</span>
                                            <span class="term-fg31">-	block, err := client.BlockByNumber(ctx, big.NewInt(1))</span>
                                            <span class="term-fg31">-	if err != nil {</span>
                                            <span class="term-fg31">-		t.Errorf(&quot;could not get block at height 1: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	if signedTx.Hash() != block.Transactions()[0].Hash() {</span>
                                            <span class="term-fg31">-		t.Errorf(&quot;did not commit sent transaction. expected hash %v got hash %v&quot;, block.Transactions()[0].Hash(), signedTx.Hash())</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-}</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;func TestSendTransaction(t *testing.T) {</span>
                                            <span class="term-fg32">+&#47;&#47;	sim := simTestBackend(testAddr)</span>
                                            <span class="term-fg32">+&#47;&#47;	defer sim.Close()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	client := sim.Client()</span>
                                            <span class="term-fg32">+&#47;&#47;	ctx := context.Background()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	signedTx, err := newTx(sim, testKey)</span>
                                            <span class="term-fg32">+&#47;&#47;	if err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Errorf(&quot;could not create transaction: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; send tx to simulated backend</span>
                                            <span class="term-fg32">+&#47;&#47;	err = client.SendTransaction(ctx, signedTx)</span>
                                            <span class="term-fg32">+&#47;&#47;	if err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Errorf(&quot;could not add tx to pending block: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	sim.Commit()</span>
                                            <span class="term-fg32">+&#47;&#47;	block, err := client.BlockByNumber(ctx, big.NewInt(1))</span>
                                            <span class="term-fg32">+&#47;&#47;	if err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Errorf(&quot;could not get block at height 1: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	if signedTx.Hash() != block.Transactions()[0].Hash() {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Errorf(&quot;did not commit sent transaction. expected hash %v got hash %v&quot;, block.Transactions()[0].Hash(), signedTx.Hash())</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;}</span>
                                            &nbsp;
                                            &#47;&#47; TestFork check that the chain length after a reorg is correct.
                                            &#47;&#47; Steps:
                                            <span class="term-fg36">@@ -196,48 +197,48 @@</span> &#47;&#47;  3. Check that the TX is included in block 1.
                                            &#47;&#47;  4. Fork by using the parent block as ancestor.
                                            &#47;&#47;  5. Mine a block, Re-send the transaction and mine another one.
                                            &#47;&#47;  6. Check that the TX is now included in block 2.
                                            <span class="term-fg31">-func TestForkResendTx(t *testing.T) {</span>
                                            <span class="term-fg31">-	t.Parallel()</span>
                                            <span class="term-fg31">-	testAddr := crypto.PubkeyToAddress(testKey.PublicKey)</span>
                                            <span class="term-fg31">-	sim := simTestBackend(testAddr)</span>
                                            <span class="term-fg31">-	defer sim.Close()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	client := sim.Client()</span>
                                            <span class="term-fg31">-	ctx := context.Background()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; 1.</span>
                                            <span class="term-fg31">-	parent, _ := client.HeaderByNumber(ctx, nil)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; 2.</span>
                                            <span class="term-fg31">-	tx, err := newTx(sim, testKey)</span>
                                            <span class="term-fg31">-	if err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;could not create transaction: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	client.SendTransaction(ctx, tx)</span>
                                            <span class="term-fg31">-	sim.Commit()</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; 3.</span>
                                            <span class="term-fg31">-	receipt, _ := client.TransactionReceipt(ctx, tx.Hash())</span>
                                            <span class="term-fg31">-	if h := receipt.BlockNumber.Uint64(); h != 1 {</span>
                                            <span class="term-fg31">-		t.Errorf(&quot;TX included in wrong block: %d&quot;, h)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; 4.</span>
                                            <span class="term-fg31">-	if err := sim.Fork(parent.Hash()); err != nil {</span>
                                            <span class="term-fg31">-		t.Errorf(&quot;forking: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	&#47;&#47; 5.</span>
                                            <span class="term-fg31">-	sim.Commit()</span>
                                            <span class="term-fg31">-	if err := client.SendTransaction(ctx, tx); err != nil {</span>
                                            <span class="term-fg31">-		t.Fatalf(&quot;sending transaction: %v&quot;, err)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	sim.Commit()</span>
                                            <span class="term-fg31">-	receipt, _ = client.TransactionReceipt(ctx, tx.Hash())</span>
                                            <span class="term-fg31">-	if h := receipt.BlockNumber.Uint64(); h != 2 {</span>
                                            <span class="term-fg31">-		t.Errorf(&quot;TX included in wrong block: %d&quot;, h)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-}</span>
                                            <span class="term-fg32">+&#47;&#47;func TestForkResendTx(t *testing.T) {</span>
                                            <span class="term-fg32">+&#47;&#47;	t.Parallel()</span>
                                            <span class="term-fg32">+&#47;&#47;	testAddr := crypto.PubkeyToAddress(testKey.PublicKey)</span>
                                            <span class="term-fg32">+&#47;&#47;	sim := simTestBackend(testAddr)</span>
                                            <span class="term-fg32">+&#47;&#47;	defer sim.Close()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	client := sim.Client()</span>
                                            <span class="term-fg32">+&#47;&#47;	ctx := context.Background()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; 1.</span>
                                            <span class="term-fg32">+&#47;&#47;	parent, _ := client.HeaderByNumber(ctx, nil)</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; 2.</span>
                                            <span class="term-fg32">+&#47;&#47;	tx, err := newTx(sim, testKey)</span>
                                            <span class="term-fg32">+&#47;&#47;	if err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;could not create transaction: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	client.SendTransaction(ctx, tx)</span>
                                            <span class="term-fg32">+&#47;&#47;	sim.Commit()</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; 3.</span>
                                            <span class="term-fg32">+&#47;&#47;	receipt, _ := client.TransactionReceipt(ctx, tx.Hash())</span>
                                            <span class="term-fg32">+&#47;&#47;	if h := receipt.BlockNumber.Uint64(); h != 1 {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Errorf(&quot;TX included in wrong block: %d&quot;, h)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; 4.</span>
                                            <span class="term-fg32">+&#47;&#47;	if err := sim.Fork(parent.Hash()); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Errorf(&quot;forking: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	&#47;&#47; 5.</span>
                                            <span class="term-fg32">+&#47;&#47;	sim.Commit()</span>
                                            <span class="term-fg32">+&#47;&#47;	if err := client.SendTransaction(ctx, tx); err != nil {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Fatalf(&quot;sending transaction: %v&quot;, err)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	sim.Commit()</span>
                                            <span class="term-fg32">+&#47;&#47;	receipt, _ = client.TransactionReceipt(ctx, tx.Hash())</span>
                                            <span class="term-fg32">+&#47;&#47;	if h := receipt.BlockNumber.Uint64(); h != 2 {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Errorf(&quot;TX included in wrong block: %d&quot;, h)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;}</span>
                                            &nbsp;
                                            func TestCommitReturnValue(t *testing.T) {
                                            t.Parallel()</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-e8b977d1109d01635ced03e3" role="button"
                                               aria-expanded="false" aria-controls="id-e8b977d1109d01635ced03e3">
                                                <code>tests/block_test.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/tests/block_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/tests/block_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+25</span></div>
                                                <div class="text-start"><span class="text-danger">-11</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-e8b977d1109d01635ced03e3"><span class="term-fg1">diff --git go-ethereum&#47;tests&#47;block_test.go astria-geth&#47;tests&#47;block_test.go</span>
                                            <span class="term-fg1">index 1ba84f5f24b65fd11862cc3ae556922e9cffb152..01807de39927d4717c784800c96b504be61e9448 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;tests&#47;block_test.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;tests&#47;block_test.go</span>
                                            <span class="term-fg36">@@ -20,7 +20,6 @@</span> import (
                                            &quot;math&#47;rand&quot;
                                            &quot;testing&quot;
                                            &nbsp;
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;rawdb&quot;
                                            )
                                            &nbsp;
                                            <span class="term-fg36">@@ -57,17 +56,32 @@</span> 	&#47;&#47; prior to Istanbul. However, they are all derived from GeneralStateTests,
                                            &#47;&#47; which run natively, so there&#39;s no reason to run them here.
                                            }
                                            &nbsp;
                                            <span class="term-fg32">+&#47;&#47; TODO - get these tests to work. Tests mainly fail due to https:&#47;&#47;github.com&#47;astriaorg&#47;astria-geth&#47;pull&#47;5</span>
                                            <span class="term-fg32">+&#47;&#47; where we add the basefee balance to the coinbase address. This causes the state root to change, we will have to</span>
                                            <span class="term-fg32">+&#47;&#47; update the expected state roots in the tests</span>
                                            <span class="term-fg32">+&#47;&#47; TestExecutionSpec runs the test fixtures from execution-spec-tests.</span>
                                            <span class="term-fg32">+&#47;&#47;func TestExecutionSpec(t *testing.T) {</span>
                                            <span class="term-fg32">+&#47;&#47;	if !common.FileExist(executionSpecDir) {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Skipf(&quot;directory %s does not exist&quot;, executionSpecDir)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	bt := new(testMatcher)</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	bt.walk(t, executionSpecDir, func(t *testing.T, name string, test *BlockTest) {</span>
                                            <span class="term-fg32">+&#47;&#47;		execBlockTest(t, bt, test)</span>
                                            <span class="term-fg32">+&#47;&#47;	})</span>
                                            <span class="term-fg32">+&#47;&#47;}</span>
                                            <span class="term-fg32">+</span>
                                            &#47;&#47; TestExecutionSpecBlocktests runs the test fixtures from execution-spec-tests.
                                            <span class="term-fg31">-func TestExecutionSpecBlocktests(t *testing.T) {</span>
                                            <span class="term-fg31">-	if !common.FileExist(executionSpecBlockchainTestDir) {</span>
                                            <span class="term-fg31">-		t.Skipf(&quot;directory %s does not exist&quot;, executionSpecBlockchainTestDir)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg31">-	bt := new(testMatcher)</span>
                                            <span class="term-fg31">-</span>
                                            <span class="term-fg31">-	bt.walk(t, executionSpecBlockchainTestDir, func(t *testing.T, name string, test *BlockTest) {</span>
                                            <span class="term-fg31">-		execBlockTest(t, bt, test)</span>
                                            <span class="term-fg31">-	})</span>
                                            <span class="term-fg31">-}</span>
                                            <span class="term-fg32">+&#47;&#47;func TestExecutionSpecBlocktests(t *testing.T) {</span>
                                            <span class="term-fg32">+&#47;&#47;	if !common.FileExist(executionSpecBlockchainTestDir) {</span>
                                            <span class="term-fg32">+&#47;&#47;		t.Skipf(&quot;directory %s does not exist&quot;, executionSpecBlockchainTestDir)</span>
                                            <span class="term-fg32">+&#47;&#47;	}</span>
                                            <span class="term-fg32">+&#47;&#47;	bt := new(testMatcher)</span>
                                            <span class="term-fg32">+&#47;&#47;</span>
                                            <span class="term-fg32">+&#47;&#47;	bt.walk(t, executionSpecBlockchainTestDir, func(t *testing.T, name string, test *BlockTest) {</span>
                                            <span class="term-fg32">+&#47;&#47;		execBlockTest(t, bt, test)</span>
                                            <span class="term-fg32">+&#47;&#47;	})</span>
                                            <span class="term-fg32">+&#47;&#47;}</span>
                                            &nbsp;
                                            func execBlockTest(t *testing.T, bt *testMatcher, test *BlockTest) {
                                            &#47;&#47; If -short flag is used, we don&#39;t execute all four permutations, only one.</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-1f85d6f6e8987c7b4002fbcb" role="button"
                                               aria-expanded="false" aria-controls="id-1f85d6f6e8987c7b4002fbcb">
                                                <code>tests/state_test.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/tests/state_test.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/tests/state_test.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1</span></div>
                                                <div class="text-start"><span class="text-danger">-4</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-1f85d6f6e8987c7b4002fbcb"><span class="term-fg1">diff --git go-ethereum&#47;tests&#47;state_test.go astria-geth&#47;tests&#47;state_test.go</span>
                                            <span class="term-fg1">index 6f53b88722d6b6bac01e5fa2d68b8286c060617a..8b63306a772540bc36362cbcf8efbb83f8e8f251 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;tests&#47;state_test.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;tests&#47;state_test.go</span>
                                            <span class="term-fg36">@@ -29,7 +29,6 @@</span> 	&quot;strings&quot;
                                            &quot;testing&quot;
                                            &quot;time&quot;
                                            &nbsp;
                                            <span class="term-fg31">-	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&quot;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;rawdb&quot;
                                            &quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;
                                            <span class="term-fg36">@@ -100,9 +99,7 @@</span> }
                                            &nbsp;
                                            &#47;&#47; TestExecutionSpecState runs the test fixtures from execution-spec-tests.
                                            func TestExecutionSpecState(t *testing.T) {
                                            <span class="term-fg31">-	if !common.FileExist(executionSpecStateTestDir) {</span>
                                            <span class="term-fg31">-		t.Skipf(&quot;directory %s does not exist&quot;, executionSpecStateTestDir)</span>
                                            <span class="term-fg31">-	}</span>
                                            <span class="term-fg32">+	t.Skipf(&quot;execution-spec-tests are not yet supported&quot;)</span>
                                            st := new(testMatcher)
                                            &nbsp;
                                            st.walk(t, executionSpecStateTestDir, func(t *testing.T, name string, test *StateTest) {</div>
                                    </div>



                                </div>
                                <div>

                                </div>
                            </div>
                        </div>


                        <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-3774a10f62c0390fcc62bb06"role="button" aria-expanded="false" aria-controls="id-3774a10f62c0390fcc62bb06">

                            <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h2>Other changes</h2></div>


                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                                <div class="row line-stat">


                                </div>
                            </div>
                            <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-success">+35</span></div>
                                    <div class="text-start"><span class="text-danger">-2</span></div>


                                </div>
                            </div>
                        </div>

                            <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-3774a10f62c0390fcc62bb06">
                                <div></div>
                                <div>

                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-10e13d690f9da00027af4dc0" role="button"
                                               aria-expanded="false" aria-controls="id-10e13d690f9da00027af4dc0">
                                                <code>consensus/ethash/consensus.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/consensus/ethash/consensus.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/consensus/ethash/consensus.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+0</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-10e13d690f9da00027af4dc0"><span class="term-fg1">diff --git go-ethereum&#47;consensus&#47;ethash&#47;consensus.go astria-geth&#47;consensus&#47;ethash&#47;consensus.go</span>
                                            <span class="term-fg1">index b5e2754c2d94459c6e9cc74e26d3a3a6755b1a5b..abf83e5a52a695cfd87bd9be1731949c4a364ac9 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;consensus&#47;ethash&#47;consensus.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;consensus&#47;ethash&#47;consensus.go</span>
                                            <span class="term-fg36">@@ -236,7 +236,6 @@</span> 		return errOlderBlockTime
                                            }
                                            &#47;&#47; Verify the block&#39;s difficulty based on its timestamp and parent&#39;s difficulty
                                            expected := ethash.CalcDifficulty(chain, header.Time, parent)
                                            <span class="term-fg31">-</span>
                                            if expected.Cmp(header.Difficulty) != 0 {
                                            return fmt.Errorf(&quot;invalid difficulty: have %v, want %v&quot;, header.Difficulty, expected)
                                            }</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-71d398cf64f70db6f29977de" role="button"
                                               aria-expanded="false" aria-controls="id-71d398cf64f70db6f29977de">
                                                <code>core/state_processor.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/state_processor.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/state_processor.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1</span></div>
                                                <div class="text-start"><span class="text-danger">-1</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-71d398cf64f70db6f29977de"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;state_processor.go astria-geth&#47;core&#47;state_processor.go</span>
                                            <span class="term-fg1">index 7166ed8bd872691d55f5e4c50058445278e37676..a7c0a901340751ad2bdaead4af33a75d7911d503 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;core&#47;state_processor.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;core&#47;state_processor.go</span>
                                            <span class="term-fg36">@@ -72,6 +72,7 @@</span> 	&#47;&#47; Mutate the block and state according to any hard-fork specs
                                            if p.config.DAOForkSupport &amp;&amp; p.config.DAOForkBlock != nil &amp;&amp; p.config.DAOForkBlock.Cmp(block.Number()) == 0 {
                                            misc.ApplyDAOHardFork(statedb)
                                            }
                                            <span class="term-fg32">+</span>
                                            var (
                                            context = NewEVMBlockContext(header, p.bc, nil)
                                            vmenv   = vm.NewEVM(context, vm.TxContext{}, statedb, p.config, cfg)
                                            <span class="term-fg36">@@ -121,7 +122,6 @@</span> 	}
                                            &#47;&#47; Create a new context to be used in the EVM environment.
                                            txContext := NewEVMTxContext(msg)
                                            evm.Reset(txContext, statedb)
                                            <span class="term-fg31">-</span>
                                            &#47;&#47; Apply the transaction to the current state (included in the env).
                                            result, err := ApplyMessage(evm, msg, gp)
                                            if err != nil {</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-8400670fc54e5a35fa4c1e32" role="button"
                                               aria-expanded="false" aria-controls="id-8400670fc54e5a35fa4c1e32">
                                                <code>core/tracing/hooks.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/core/tracing/hooks.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/core/tracing/hooks.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+3</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-8400670fc54e5a35fa4c1e32"><span class="term-fg1">diff --git go-ethereum&#47;core&#47;tracing&#47;hooks.go astria-geth&#47;core&#47;tracing&#47;hooks.go</span>
                                            <span class="term-fg1">index 41bae63d9fa222adab99ca5d8ef0fbffa50dfc80..9f9ac313a86258adfb5973601b9428343bff2f3a 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;core&#47;tracing&#47;hooks.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;core&#47;tracing&#47;hooks.go</span>
                                            <span class="term-fg36">@@ -242,6 +242,9 @@</span> 	&#47;&#47; BalanceDecreaseSelfdestructBurn is ether that is sent to an already self-destructed
                                            &#47;&#47; account within the same tx (captured at end of tx).
                                            &#47;&#47; Note it doesn&#39;t account for a self-destruct which appoints itself as recipient.
                                            BalanceDecreaseSelfdestructBurn BalanceChangeReason = 14
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+	&#47;&#47; BalanceIncreaseAstriaDepositTx is ether deposited to the user via an</span>
                                            <span class="term-fg32">+	BalanceIncreaseAstriaDepositTx BalanceChangeReason = 15</span>
                                            )
                                            &nbsp;
                                            &#47;&#47; GasChangeReason is used to indicate the reason for a gas change, useful</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-ef2955c4f0fd6c008e924903" role="button"
                                               aria-expanded="false" aria-controls="id-ef2955c4f0fd6c008e924903">
                                                <code>eth/catalyst/api.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/eth/catalyst/api.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/eth/catalyst/api.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+1</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-ef2955c4f0fd6c008e924903"><span class="term-fg1">diff --git go-ethereum&#47;eth&#47;catalyst&#47;api.go astria-geth&#47;eth&#47;catalyst&#47;api.go</span>
                                            <span class="term-fg1">index 0efa61587dc91e1f5ba3f8d9d88639306687af05..3ab4ba50588a96449f98e46c3b6de15dbb04e77a 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;eth&#47;catalyst&#47;api.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;eth&#47;catalyst&#47;api.go</span>
                                            <span class="term-fg36">@@ -176,6 +176,7 @@</span> &#47;&#47;
                                            &#47;&#47; If there are payloadAttributes: we try to assemble a block with the payloadAttributes
                                            &#47;&#47; and return its payloadID.
                                            func (api *ConsensusAPI) ForkchoiceUpdatedV1(update engine.ForkchoiceStateV1, payloadAttributes *engine.PayloadAttributes) (engine.ForkChoiceResponse, error) {
                                            <span class="term-fg32">+	log.Info(&quot;ForkchoiceUpdatedV1 called&quot;)</span>
                                            if payloadAttributes != nil {
                                            if payloadAttributes.Withdrawals != nil || payloadAttributes.BeaconRoot != nil {
                                            return engine.STATUS_INVALID, engine.InvalidParams.With(errors.New(&quot;withdrawals and beacon root not supported in V1&quot;))</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-16a9258a18a63baf02c3a7aa" role="button"
                                               aria-expanded="false" aria-controls="id-16a9258a18a63baf02c3a7aa">
                                                <code>internal/debug/flags.go</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/internal/debug/flags.go" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/internal/debug/flags.go" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+5</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-16a9258a18a63baf02c3a7aa"><span class="term-fg1">diff --git go-ethereum&#47;internal&#47;debug&#47;flags.go astria-geth&#47;internal&#47;debug&#47;flags.go</span>
                                            <span class="term-fg1">index 361dc6fcca6aba391199ba1a26f42ab63cee21d5..0ed74f53b52d23f0309f7bd1d502d319458521f5 100644</span>
                                            <span class="term-fg1">--- go-ethereum&#47;internal&#47;debug&#47;flags.go</span>
                                            <span class="term-fg1">+++ astria-geth&#47;internal&#47;debug&#47;flags.go</span>
                                            <span class="term-fg36">@@ -71,6 +71,11 @@</span> 		Name:     &quot;log.format&quot;,
                                            Usage:    &quot;Log format to use (json|logfmt|terminal)&quot;,
                                            Category: flags.LoggingCategory,
                                            }
                                            <span class="term-fg32">+	logfmtFlag = &amp;cli.BoolFlag{</span>
                                            <span class="term-fg32">+		Name:     &quot;log.logfmt&quot;,</span>
                                            <span class="term-fg32">+		Usage:    &quot;Format logs with logfmt&quot;,</span>
                                            <span class="term-fg32">+		Category: flags.LoggingCategory,</span>
                                            <span class="term-fg32">+	}</span>
                                            logFileFlag = &amp;cli.StringFlag{
                                            Name:     &quot;log.file&quot;,
                                            Usage:    &quot;Write logs to a file&quot;,</div>
                                    </div>


                                    <div class="border-bottom"><div class="row">
                                        <div class="col-12 col-md-4 text-start pe-2">

                                            <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-43950913b043f69578eba5e1" role="button"
                                               aria-expanded="false" aria-controls="id-43950913b043f69578eba5e1">
                                                <code>private_network.md</code>
                                            </a>

                                        </div>

                                        <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                            <div class="row">
                                                <div class="col-6">

                                                    <span class="text-muted">(new)</span>

                                                </div>

                                                <div class="col-6">

                                                    <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/private_network.md" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-4 ms-auto ps-2">

                                            <div class="row line-stat">

                                                <div class="text-end"><span class="text-success">+25</span></div>
                                                <div class="text-start"><span class="text-danger">-0</span></div>

                                            </div>

                                        </div>
                                    </div>
                                        <div class="collapse patch-content term-container" id="id-43950913b043f69578eba5e1"><span class="term-fg1">diff --git go-ethereum&#47;private_network.md astria-geth&#47;private_network.md</span>
                                            <span class="term-fg1">new file mode 100644</span>
                                            <span class="term-fg1">index 0000000000000000000000000000000000000000..7da7a2768f61496a8bd3c652d1ab9f9fe6a7a6d3</span>
                                            <span class="term-fg1">--- &#47;dev&#47;null</span>
                                            <span class="term-fg1">+++ astria-geth&#47;private_network.md</span>
                                            <span class="term-fg36">@@ -0,0 +1,25 @@</span>
                                            <span class="term-fg32">+# private network</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+### astria</span>
                                            <span class="term-fg32">+1. Make a new account in Metamask (or whichever method you prefer). Copy paste the address into `genesis.json`&#39;s `alloc` field. This account will be allocated 300 ETH at startup.</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+2. To build and initialize Geth:</span>
                                            <span class="term-fg32">+```bash</span>
                                            <span class="term-fg32">+make geth</span>
                                            <span class="term-fg32">+.&#47;build&#47;bin&#47;geth --datadir ~&#47;.astriageth&#47; init genesis.json</span>
                                            <span class="term-fg32">+```</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+To run without mining (ie. using the conductor):</span>
                                            <span class="term-fg32">+```bash</span>
                                            <span class="term-fg32">+.&#47;build&#47;bin&#47;geth --datadir ~&#47;.astriageth&#47; --http --http.port=8545 --ws --ws.port=8545 --networkid=1337 --http.corsdomain=&#39;*&#39; --ws.origins=&#39;*&#39; --grpc --grpc.addr=localhost --grpc.port 50051</span>
                                            <span class="term-fg32">+```</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+4. Open up Metamask and go to the Localhost 8545 network. You should see your account has 300 ETH. You can now transfer this to other accounts.</span>
                                            <span class="term-fg32">+</span>
                                            <span class="term-fg32">+### ethash</span>
                                            <span class="term-fg32">+To run with mining (which you don&#39;t want if running Astria):</span>
                                            <span class="term-fg32">+1. Remove the `&quot;terminalTotalDifficulty&quot;: 0,` line in `genesis.json`. Then run steps 1-2 as above.</span>
                                            <span class="term-fg32">+2. Replace the etherbase in the following with your account (it doesn&#39;t really matter though, since mining doesn&#39;t require signing). Then,</span>
                                            <span class="term-fg32">+```bash</span>
                                            <span class="term-fg32">+.&#47;build&#47;bin&#47;geth --datadir ~&#47;.astriageth&#47; --http --http.port=8545 --ws --ws.port=8545 --networkid=1337 --http.corsdomain=&#39;*&#39; --ws.origins=&#39;*&#39; --mine --miner.threads 1 --miner.etherbase=0x46B77EFDFB20979E1C29ec98DcE73e3eCbF64102 --grpc --grpc.addr=localhost --grpc.port 50051</span>
                                            <span class="term-fg32">+```</span></div>
                                    </div>



                                </div>
                                <div>

                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>


            <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-85c45be5c75d04f7534846e4"role="button" aria-expanded="false" aria-controls="id-85c45be5c75d04f7534846e4">

                <div class="col-12 col-md-12 col-lg-6 col-xl-6 text-start"><h4>Ignored changes</h4></div>


                <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2">
                    <div class="row line-stat">


                    </div>
                </div>
                <div class="col-6 col-md-3 col-xl-2 ms-auto mt-2 ">
                    <div class="row line-stat">


                        <div class="text-end"><span class="text-add-ignored">+415</span></div>
                        <div class="text-start"><span class="text-delete-ignored">-83</span></div>

                    </div>
                </div>
            </div>

                <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-85c45be5c75d04f7534846e4">
                    <div></div>
                    <div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-ee46cc1c702b5d065ad38bff" role="button"
                                   aria-expanded="false" aria-controls="id-ee46cc1c702b5d065ad38bff">
                                    <code>.gitattributes</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/.gitattributes" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/.gitattributes" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+2</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-0</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-ee46cc1c702b5d065ad38bff"><span class="term-fg1">diff --git go-ethereum&#47;.gitattributes astria-geth&#47;.gitattributes</span>
                                <span class="term-fg1">index 0269fab9cba2722fb0a7598ff18bc2ba46c45bed..573ea56ed594f8e6853bc0acf57def5d7bea546b 100644</span>
                                <span class="term-fg1">--- go-ethereum&#47;.gitattributes</span>
                                <span class="term-fg1">+++ astria-geth&#47;.gitattributes</span>
                                <span class="term-fg36">@@ -1,3 +1,5 @@</span>
                                # Auto detect text files and perform LF normalization
                                * text=auto
                                *.sol linguist-language=Solidity
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+contracts&#47;astria_bridgeable_erc20.go linguist-generated=true</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-3b4470d8029e9929e8b0c870" role="button"
                                   aria-expanded="false" aria-controls="id-3b4470d8029e9929e8b0c870">
                                    <code>.github/CODEOWNERS</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/.github/CODEOWNERS" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/.github/CODEOWNERS" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+1</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-19</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-3b4470d8029e9929e8b0c870"><span class="term-fg1">diff --git go-ethereum&#47;.github&#47;CODEOWNERS astria-geth&#47;.github&#47;CODEOWNERS</span>
                                <span class="term-fg1">index faf922df01613ecabaee93c1153b91476573e914..b249f68dfc2a826d205ad6a33ba6fb486794fef5 100644</span>
                                <span class="term-fg1">--- go-ethereum&#47;.github&#47;CODEOWNERS</span>
                                <span class="term-fg1">+++ astria-geth&#47;.github&#47;CODEOWNERS</span>
                                <span class="term-fg36">@@ -1,22 +1,4 @@</span>
                                # Lines starting with &#39;#&#39; are comments.
                                # Each line is a file pattern followed by one or more owners.
                                &nbsp;
                                <span class="term-fg31">-accounts&#47;usbwallet              @karalabe</span>
                                <span class="term-fg31">-accounts&#47;scwallet               @gballet</span>
                                <span class="term-fg31">-accounts&#47;abi                    @gballet @MariusVanDerWijden</span>
                                <span class="term-fg31">-cmd&#47;clef                        @holiman</span>
                                <span class="term-fg31">-consensus                       @karalabe</span>
                                <span class="term-fg31">-core&#47;                           @karalabe @holiman @rjl493456442</span>
                                <span class="term-fg31">-eth&#47;                            @karalabe @holiman @rjl493456442</span>
                                <span class="term-fg31">-eth&#47;catalyst&#47;                   @gballet</span>
                                <span class="term-fg31">-eth&#47;tracers&#47;                    @s1na</span>
                                <span class="term-fg31">-graphql&#47;                        @s1na</span>
                                <span class="term-fg31">-les&#47;                            @zsfelfoldi @rjl493456442</span>
                                <span class="term-fg31">-light&#47;                          @zsfelfoldi @rjl493456442</span>
                                <span class="term-fg31">-node&#47;                           @fjl</span>
                                <span class="term-fg31">-p2p&#47;                            @fjl @zsfelfoldi</span>
                                <span class="term-fg31">-rpc&#47;                            @fjl @holiman</span>
                                <span class="term-fg31">-p2p&#47;simulations                 @fjl</span>
                                <span class="term-fg31">-p2p&#47;protocols                   @fjl</span>
                                <span class="term-fg31">-p2p&#47;testing                     @fjl</span>
                                <span class="term-fg31">-signer&#47;                         @holiman</span>
                                <span class="term-fg32">+*      @joroshiba @mycodecrafting @noot</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-d06bf15de15b480f550a1dde" role="button"
                                   aria-expanded="false" aria-controls="id-d06bf15de15b480f550a1dde">
                                    <code>.github/workflows/astria-build-and-publish-image.yml</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <span class="text-muted">(new)</span>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/.github/workflows/astria-build-and-publish-image.yml" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+75</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-0</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-d06bf15de15b480f550a1dde"><span class="term-fg1">diff --git go-ethereum&#47;.github&#47;workflows&#47;astria-build-and-publish-image.yml astria-geth&#47;.github&#47;workflows&#47;astria-build-and-publish-image.yml</span>
                                <span class="term-fg1">new file mode 100644</span>
                                <span class="term-fg1">index 0000000000000000000000000000000000000000..648e38ec384199d51d3f1b3c0462fc0becb42c84</span>
                                <span class="term-fg1">--- &#47;dev&#47;null</span>
                                <span class="term-fg1">+++ astria-geth&#47;.github&#47;workflows&#47;astria-build-and-publish-image.yml</span>
                                <span class="term-fg36">@@ -0,0 +1,75 @@</span>
                                <span class="term-fg32">+name: Build and Publish Docker image</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+# Trigger on pushes to astria branch, new semantic version tags, and pull request updates</span>
                                <span class="term-fg32">+on:</span>
                                <span class="term-fg32">+  workflow_dispatch:</span>
                                <span class="term-fg32">+  push:</span>
                                <span class="term-fg32">+    branches:</span>
                                <span class="term-fg32">+      - &quot;main&quot;</span>
                                <span class="term-fg32">+    tags:</span>
                                <span class="term-fg32">+      - &quot;v[0-9]+.[0-9]+.[0-9]+&quot;</span>
                                <span class="term-fg32">+  # trigger on pull request updates when target is `astria` branch</span>
                                <span class="term-fg32">+  pull_request:</span>
                                <span class="term-fg32">+    branches:</span>
                                <span class="term-fg32">+      - &quot;main&quot;</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+jobs:</span>
                                <span class="term-fg32">+  build-and-publish-latest:</span>
                                <span class="term-fg32">+    runs-on: ubuntu-latest</span>
                                <span class="term-fg32">+    permissions:</span>
                                <span class="term-fg32">+      contents: read</span>
                                <span class="term-fg32">+      id-token: write</span>
                                <span class="term-fg32">+      packages: write</span>
                                <span class="term-fg32">+    steps:</span>
                                <span class="term-fg32">+      # Checking out the repo</span>
                                <span class="term-fg32">+      - uses: actions&#47;checkout@v4</span>
                                <span class="term-fg32">+      - uses: depot&#47;setup-action@v1</span>
                                <span class="term-fg32">+      - name: Login to Docker Hub</span>
                                <span class="term-fg32">+        uses: docker&#47;login-action@v2</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          username: ${{ secrets.DOCKER_USER }}</span>
                                <span class="term-fg32">+          password: ${{ secrets.DOCKER_TOKEN }}</span>
                                <span class="term-fg32">+      # Setting up Go</span>
                                <span class="term-fg32">+      - uses: actions&#47;setup-go@v4</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          go-version: &quot;^1.21.x&quot; # The Go version to download (if necessary) and use.</span>
                                <span class="term-fg32">+      - run: go version</span>
                                <span class="term-fg32">+      # https:&#47;&#47;github.com&#47;docker&#47;setup-qemu-action</span>
                                <span class="term-fg32">+      - name: Set up QEMU</span>
                                <span class="term-fg32">+        uses: docker&#47;setup-qemu-action@v2</span>
                                <span class="term-fg32">+      # https:&#47;&#47;github.com&#47;docker&#47;setup-buildx-action</span>
                                <span class="term-fg32">+      - name: Set up Docker Buildx</span>
                                <span class="term-fg32">+        id: buildx</span>
                                <span class="term-fg32">+        uses: docker&#47;setup-buildx-action@v2</span>
                                <span class="term-fg32">+      - name: Log in to GitHub Container Registry</span>
                                <span class="term-fg32">+        uses: docker&#47;login-action@v2</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          registry: ghcr.io</span>
                                <span class="term-fg32">+          username: ${{ github.actor }}</span>
                                <span class="term-fg32">+          password: ${{ secrets.GITHUB_TOKEN }}</span>
                                <span class="term-fg32">+      # Generate correct tabs and labels</span>
                                <span class="term-fg32">+      - name: Docker metadata</span>
                                <span class="term-fg32">+        id: metadata</span>
                                <span class="term-fg32">+        uses: docker&#47;metadata-action@v4</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          images: |</span>
                                <span class="term-fg32">+            ghcr.io&#47;astriaorg&#47;astria-geth</span>
                                <span class="term-fg32">+          tags: |</span>
                                <span class="term-fg32">+            type=ref,event=pr</span>
                                <span class="term-fg32">+            type=match,pattern=v(.*),group=1</span>
                                <span class="term-fg32">+            type=sha</span>
                                <span class="term-fg32">+            # set latest tag for `astria` branch</span>
                                <span class="term-fg32">+            type=raw,value=latest,enable=${{ github.ref == format(&#39;refs&#47;heads&#47;{0}&#39;, &#39;main&#39;) }}</span>
                                <span class="term-fg32">+      - name: Build and push</span>
                                <span class="term-fg32">+        uses: depot&#47;build-push-action@v1</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          # this gets rid of the unknown&#47;unknown image that is created without this setting</span>
                                <span class="term-fg32">+          # https:&#47;&#47;github.com&#47;docker&#47;build-push-action&#47;issues&#47;820#issuecomment-1455687416</span>
                                <span class="term-fg32">+          provenance: false</span>
                                <span class="term-fg32">+          context: .</span>
                                <span class="term-fg32">+          # It takes a long time to build the arm image right now, so we only build it on tags which is what we use for releases, or on merges to the default branch.</span>
                                <span class="term-fg32">+          platforms: ${{ (contains(github.ref, &#39;refs&#47;tags&#47;v&#39;) || github.ref == &#39;refs&#47;heads&#47;main&#39;) &amp;&amp; &#39;linux&#47;amd64,linux&#47;arm64&#39; || &#39;linux&#47;amd64&#39; }}</span>
                                <span class="term-fg32">+          push: true</span>
                                <span class="term-fg32">+          tags: ${{ steps.metadata.outputs.tags }}</span>
                                <span class="term-fg32">+          labels: ${{ steps.metadata.outputs.labels }}</span>
                                <span class="term-fg32">+          project: 1k5kkqpmfp</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-2c3bd701caa9ec1020ff5260" role="button"
                                   aria-expanded="false" aria-controls="id-2c3bd701caa9ec1020ff5260">
                                    <code>.github/workflows/go.yml</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/.github/workflows/go.yml" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <span class="text-muted">(deleted)</span>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+0</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-23</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-2c3bd701caa9ec1020ff5260"><span class="term-fg1">diff --git go-ethereum&#47;.github&#47;workflows&#47;go.yml astria-geth&#47;.github&#47;workflows&#47;go.yml</span>
                                <span class="term-fg1">deleted file mode 100644</span>
                                <span class="term-fg1">index 0c673d15f16851ad2a633860fc4cec8a0346aee5..0000000000000000000000000000000000000000</span>
                                <span class="term-fg1">--- go-ethereum&#47;.github&#47;workflows&#47;go.yml</span>
                                <span class="term-fg1">+++ &#47;dev&#47;null</span>
                                <span class="term-fg36">@@ -1,23 +0,0 @@</span>
                                <span class="term-fg31">-name: i386 linux tests</span>
                                <span class="term-fg31">-</span>
                                <span class="term-fg31">-on:</span>
                                <span class="term-fg31">-  push:</span>
                                <span class="term-fg31">-    branches: [ master ]</span>
                                <span class="term-fg31">-  pull_request:</span>
                                <span class="term-fg31">-    branches: [ master ]</span>
                                <span class="term-fg31">-  workflow_dispatch:</span>
                                <span class="term-fg31">-</span>
                                <span class="term-fg31">-jobs:</span>
                                <span class="term-fg31">-  build:</span>
                                <span class="term-fg31">-    runs-on: self-hosted</span>
                                <span class="term-fg31">-    steps:</span>
                                <span class="term-fg31">-      - uses: actions&#47;checkout@v2</span>
                                <span class="term-fg31">-      - name: Set up Go</span>
                                <span class="term-fg31">-        uses: actions&#47;setup-go@v2</span>
                                <span class="term-fg31">-        with:</span>
                                <span class="term-fg31">-          go-version: 1.21.4</span>
                                <span class="term-fg31">-      - name: Run tests</span>
                                <span class="term-fg31">-        run: go test -short .&#47;...</span>
                                <span class="term-fg31">-        env:</span>
                                <span class="term-fg31">-          GOOS: linux</span>
                                <span class="term-fg31">-          GOARCH: 386</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-d7811a7b0480991322550466" role="button"
                                   aria-expanded="false" aria-controls="id-d7811a7b0480991322550466">
                                    <code>.github/workflows/pages.yaml</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <span class="text-muted">(new)</span>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/.github/workflows/pages.yaml" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+41</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-0</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-d7811a7b0480991322550466"><span class="term-fg1">diff --git go-ethereum&#47;.github&#47;workflows&#47;pages.yaml astria-geth&#47;.github&#47;workflows&#47;pages.yaml</span>
                                <span class="term-fg1">new file mode 100644</span>
                                <span class="term-fg1">index 0000000000000000000000000000000000000000..ac41bb6a8e52c9ee9eadf6e659169cc97bfb46aa</span>
                                <span class="term-fg1">--- &#47;dev&#47;null</span>
                                <span class="term-fg1">+++ astria-geth&#47;.github&#47;workflows&#47;pages.yaml</span>
                                <span class="term-fg36">@@ -0,0 +1,41 @@</span>
                                <span class="term-fg32">+name: Build and publish forkdiff github-pages</span>
                                <span class="term-fg32">+permissions:</span>
                                <span class="term-fg32">+  contents: write</span>
                                <span class="term-fg32">+on:</span>
                                <span class="term-fg32">+  push:</span>
                                <span class="term-fg32">+    branches:</span>
                                <span class="term-fg32">+      - main</span>
                                <span class="term-fg32">+jobs:</span>
                                <span class="term-fg32">+  deploy:</span>
                                <span class="term-fg32">+    runs-on: ubuntu-latest</span>
                                <span class="term-fg32">+    steps:</span>
                                <span class="term-fg32">+      - name: Checkout</span>
                                <span class="term-fg32">+        uses: actions&#47;checkout@v4</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          fetch-depth: 0  # Fetch all history for all tags and branches</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+      - name: Build forkdiff</span>
                                <span class="term-fg32">+        uses: &quot;docker:&#47;&#47;protolambda&#47;forkdiff:latest&quot;</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          args: -repo=.&#47; -fork=.&#47;fork.yaml -out=.&#47;index.html</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+      - name: Build pages</span>
                                <span class="term-fg32">+        run: |</span>
                                <span class="term-fg32">+          mkdir -p .&#47;tmp&#47;pages</span>
                                <span class="term-fg32">+          mv .&#47;index.html .&#47;tmp&#47;pages&#47;index.html</span>
                                <span class="term-fg32">+          touch .&#47;tmp&#47;pages&#47;.nojekyll</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+      - name: Deploy</span>
                                <span class="term-fg32">+        uses: peaceiris&#47;actions-gh-pages@v3</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          github_token: ${{ secrets.GITHUB_TOKEN }}</span>
                                <span class="term-fg32">+          # Build output to publish to the `gh-pages` branch:</span>
                                <span class="term-fg32">+          publish_dir: .&#47;tmp&#47;pages</span>
                                <span class="term-fg32">+          # The following lines assign commit authorship to the official</span>
                                <span class="term-fg32">+          # GH-Actions bot for deploys to `gh-pages` branch:</span>
                                <span class="term-fg32">+          # https:&#47;&#47;github.com&#47;actions&#47;checkout&#47;issues&#47;13#issuecomment-724415212</span>
                                <span class="term-fg32">+          # The GH actions bot is used by default if you didn&#39;t specify the two fields.</span>
                                <span class="term-fg32">+          # You can swap them out with your own user credentials.</span>
                                <span class="term-fg32">+          user_name: github-actions[bot]</span>
                                <span class="term-fg32">+          user_email: 41898282+github-actions[bot]@users.noreply.github.com</span>
                                <span class="term-fg32">+</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-62f2fc54c98e7978898dc341" role="button"
                                   aria-expanded="false" aria-controls="id-62f2fc54c98e7978898dc341">
                                    <code>.github/workflows/run-tests.yml</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <span class="text-muted">(new)</span>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/.github/workflows/run-tests.yml" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+25</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-0</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-62f2fc54c98e7978898dc341"><span class="term-fg1">diff --git go-ethereum&#47;.github&#47;workflows&#47;run-tests.yml astria-geth&#47;.github&#47;workflows&#47;run-tests.yml</span>
                                <span class="term-fg1">new file mode 100644</span>
                                <span class="term-fg1">index 0000000000000000000000000000000000000000..a5433809e7b1c5007512537aac968236e47c71bb</span>
                                <span class="term-fg1">--- &#47;dev&#47;null</span>
                                <span class="term-fg1">+++ astria-geth&#47;.github&#47;workflows&#47;run-tests.yml</span>
                                <span class="term-fg36">@@ -0,0 +1,25 @@</span>
                                <span class="term-fg32">+name: Run tests</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+on:</span>
                                <span class="term-fg32">+  push:</span>
                                <span class="term-fg32">+    branches:</span>
                                <span class="term-fg32">+      - &quot;main&quot;</span>
                                <span class="term-fg32">+    tags:</span>
                                <span class="term-fg32">+      - &quot;v[0-9]+.[0-9]+.[0-9]+&quot;</span>
                                <span class="term-fg32">+  pull_request:</span>
                                <span class="term-fg32">+    branches:</span>
                                <span class="term-fg32">+      - &quot;main&quot;</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+jobs:</span>
                                <span class="term-fg32">+  build:</span>
                                <span class="term-fg32">+    runs-on: ubuntu-latest</span>
                                <span class="term-fg32">+    steps:</span>
                                <span class="term-fg32">+      - uses: actions&#47;checkout@v4</span>
                                <span class="term-fg32">+      - name: Set up Go</span>
                                <span class="term-fg32">+        uses: actions&#47;setup-go@v5</span>
                                <span class="term-fg32">+        with:</span>
                                <span class="term-fg32">+          go-version: 1.21.4</span>
                                <span class="term-fg32">+      - name: Run tests</span>
                                <span class="term-fg32">+        run: go run build&#47;ci.go test</span>
                                <span class="term-fg32">+        env:</span>
                                <span class="term-fg32">+          GOOS: linux</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-7ce735794caa29617a64541e" role="button"
                                   aria-expanded="false" aria-controls="id-7ce735794caa29617a64541e">
                                    <code>.gitignore</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/.gitignore" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/.gitignore" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+3</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-0</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-7ce735794caa29617a64541e"><span class="term-fg1">diff --git go-ethereum&#47;.gitignore astria-geth&#47;.gitignore</span>
                                <span class="term-fg1">index 3f27cdc00f0746c28f7e79285a50425f435bd0ef..7c8a972858270a26d25ffa431ac03093bf24b45b 100644</span>
                                <span class="term-fg1">--- go-ethereum&#47;.gitignore</span>
                                <span class="term-fg1">+++ astria-geth&#47;.gitignore</span>
                                <span class="term-fg36">@@ -50,3 +50,6 @@</span> **&#47;yarn-error.log
                                logs&#47;
                                &nbsp;
                                tests&#47;spec-tests&#47;
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+contracts&#47;abi</span>
                                <span class="term-fg32">+contracts&#47;bin</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-138984d1bba15727a8259207" role="button"
                                   aria-expanded="false" aria-controls="id-138984d1bba15727a8259207">
                                    <code>.gitmodules</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/.gitmodules" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/.gitmodules" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+3</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-0</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-138984d1bba15727a8259207"><span class="term-fg1">diff --git go-ethereum&#47;.gitmodules astria-geth&#47;.gitmodules</span>
                                <span class="term-fg1">index 241c169c4772ce246ffa45f7fa8a63019ffea0e1..1bb5a11958c4d46c5541ec991b9244351d215de0 100644</span>
                                <span class="term-fg1">--- go-ethereum&#47;.gitmodules</span>
                                <span class="term-fg1">+++ astria-geth&#47;.gitmodules</span>
                                <span class="term-fg36">@@ -6,3 +6,6 @@</span> [submodule &quot;evm-benchmarks&quot;]
                                path = tests&#47;evm-benchmarks
                                url = https:&#47;&#47;github.com&#47;ipsilon&#47;evm-benchmarks
                                shallow = true
                                <span class="term-fg32">+[submodule &quot;contracts&#47;astria-bridge-contracts&quot;]</span>
                                <span class="term-fg32">+	path = contracts&#47;astria-bridge-contracts</span>
                                <span class="term-fg32">+	url = https:&#47;&#47;github.com&#47;astriaorg&#47;astria-bridge-contracts.git</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-64bc9138d447cfb5a38a76c6" role="button"
                                   aria-expanded="false" aria-controls="id-64bc9138d447cfb5a38a76c6">
                                    <code>Dockerfile</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/Dockerfile" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/Dockerfile" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+10</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-2</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-64bc9138d447cfb5a38a76c6"><span class="term-fg1">diff --git go-ethereum&#47;Dockerfile astria-geth&#47;Dockerfile</span>
                                <span class="term-fg1">index 63b92e08252951b009e1138e7a6dafc711ab2ded..aaff41d99b472002f1953742621c198e69519a60 100644</span>
                                <span class="term-fg1">--- go-ethereum&#47;Dockerfile</span>
                                <span class="term-fg1">+++ astria-geth&#47;Dockerfile</span>
                                <span class="term-fg36">@@ -13,16 +13,24 @@</span> COPY go.mod &#47;go-ethereum&#47;
                                COPY go.sum &#47;go-ethereum&#47;
                                RUN cd &#47;go-ethereum &amp;&amp; go mod download
                                &nbsp;
                                <span class="term-fg32">+ARG TARGETOS</span>
                                <span class="term-fg32">+ARG TARGETARCH</span>
                                ADD . &#47;go-ethereum
                                <span class="term-fg31">-RUN cd &#47;go-ethereum &amp;&amp; go run build&#47;ci.go install -static .&#47;cmd&#47;geth</span>
                                <span class="term-fg32">+RUN --mount=type=cache,target=&#47;root&#47;.cache&#47;go-build \</span>
                                <span class="term-fg32">+GOOS=${TARGETOS} GOARCH=${TARGETARCH} cd &#47;go-ethereum &amp;&amp; go run build&#47;ci.go install -static .&#47;cmd&#47;geth</span>
                                &nbsp;
                                # Pull Geth into a second stage deploy alpine container
                                FROM alpine:latest
                                &nbsp;
                                RUN apk add --no-cache ca-certificates
                                <span class="term-fg32">+# Astria - add bash and jq to support start-geth.sh in conductor</span>
                                <span class="term-fg32">+RUN apk add bash jq</span>
                                <span class="term-fg32">+# Astria - copy genesis.json so it can be used in start-geth.sh</span>
                                <span class="term-fg32">+COPY genesis.json &#47;genesis.json</span>
                                COPY --from=builder &#47;go-ethereum&#47;build&#47;bin&#47;geth &#47;usr&#47;local&#47;bin&#47;
                                &nbsp;
                                <span class="term-fg31">-EXPOSE 8545 8546 30303 30303&#47;udp</span>
                                <span class="term-fg32">+# Astria - add 50051 for GRPC</span>
                                <span class="term-fg32">+EXPOSE 8545 8546 30303 30303&#47;udp 50051</span>
                                ENTRYPOINT [&quot;geth&quot;]
                                &nbsp;
                                # Add some metadata labels to help programmatic image consumption</div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-183b88c3518bb8d62e49d1d5" role="button"
                                   aria-expanded="false" aria-controls="id-183b88c3518bb8d62e49d1d5">
                                    <code>Dockerfile.alltools</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/Dockerfile.alltools" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/Dockerfile.alltools" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+2</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-1</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-183b88c3518bb8d62e49d1d5"><span class="term-fg1">diff --git go-ethereum&#47;Dockerfile.alltools astria-geth&#47;Dockerfile.alltools</span>
                                <span class="term-fg1">index bdefd9540c7d53c1c1d70e35f388683fb6d3133e..a99295b881130f0d65b51614715a440ddb95bf17 100644</span>
                                <span class="term-fg1">--- go-ethereum&#47;Dockerfile.alltools</span>
                                <span class="term-fg1">+++ astria-geth&#47;Dockerfile.alltools</span>
                                <span class="term-fg36">@@ -22,7 +22,8 @@</span>
                                RUN apk add --no-cache ca-certificates
                                COPY --from=builder &#47;go-ethereum&#47;build&#47;bin&#47;* &#47;usr&#47;local&#47;bin&#47;
                                &nbsp;
                                <span class="term-fg31">-EXPOSE 8545 8546 30303 30303&#47;udp</span>
                                <span class="term-fg32">+# Astria - add 50051 for GRPC</span>
                                <span class="term-fg32">+EXPOSE 8545 8546 30303 30303&#47;udp 50051</span>
                                &nbsp;
                                # Add some metadata labels to help programmatic image consumption
                                ARG COMMIT=&quot;&quot;</div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-475c7f259ee28f3a9c3f0071" role="button"
                                   aria-expanded="false" aria-controls="id-475c7f259ee28f3a9c3f0071">
                                    <code>fork.yaml</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <span class="text-muted">(new)</span>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/fork.yaml" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+96</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-0</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-475c7f259ee28f3a9c3f0071"><span class="term-fg1">diff --git go-ethereum&#47;fork.yaml astria-geth&#47;fork.yaml</span>
                                <span class="term-fg1">new file mode 100644</span>
                                <span class="term-fg1">index 0000000000000000000000000000000000000000..526cf4c583b16915af64ca2ebaa9e96eab6f299f</span>
                                <span class="term-fg1">--- &#47;dev&#47;null</span>
                                <span class="term-fg1">+++ astria-geth&#47;fork.yaml</span>
                                <span class="term-fg36">@@ -0,0 +1,96 @@</span>
                                <span class="term-fg32">+title: &quot;astria-geth - go-ethereum fork diff overview&quot;</span>
                                <span class="term-fg32">+footer: |</span>
                                <span class="term-fg32">+  Fork-diff overview of [`astria-geth`](https:&#47;&#47;github.com&#47;astriaorg&#47;astria-geth), a fork of [`go-ethereum`](https:&#47;&#47;github.com&#47;ethereum&#47;go-ethereum).</span>
                                <span class="term-fg32">+base:</span>
                                <span class="term-fg32">+  name: go-ethereum</span>
                                <span class="term-fg32">+  url: https:&#47;&#47;github.com&#47;ethereum&#47;go-ethereum</span>
                                <span class="term-fg32">+  ref: refs&#47;heads&#47;go-ethereum&#47;release&#47;1.14.3</span>
                                <span class="term-fg32">+fork:</span>
                                <span class="term-fg32">+  name: astria-geth</span>
                                <span class="term-fg32">+  url: https:&#47;&#47;github.com&#47;astriaorg&#47;astria-geth</span>
                                <span class="term-fg32">+  ref: refs&#47;heads&#47;main</span>
                                <span class="term-fg32">+def:</span>
                                <span class="term-fg32">+  title: &quot;astria-geth&quot;</span>
                                <span class="term-fg32">+  description: |</span>
                                <span class="term-fg32">+    This is an overview of the changes in [`astria-geth`](https:&#47;&#47;github.com&#47;astriaorg&#47;astria-geth),</span>
                                <span class="term-fg32">+    a fork of [`go-ethereum`](https:&#47;&#47;github.com&#47;ethereum&#47;go-ethereum), part of the Astria-stack.</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+    The Astria-stack architecture is modular, following the Consensus&#47;Execution split of post-Merge Ethereum L1:</span>
                                <span class="term-fg32">+      - [`astria-geth`](https:&#47;&#47;github.com&#47;astriaorg&#47;astria-geth) implements the Execution-Layer, with **minimal changes** for a secure Ethereum-equivalent application environment.</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+    Related [astria-stack specifications](https:&#47;&#47;github.com&#47;astriaorg&#47;astria&#47;tree&#47;main&#47;specs):</span>
                                <span class="term-fg32">+  sub:</span>
                                <span class="term-fg32">+    - title: &quot;Core modifications&quot;</span>
                                <span class="term-fg32">+      sub:</span>
                                <span class="term-fg32">+        - title: &quot;Execution API&quot;</span>
                                <span class="term-fg32">+          description: |</span>
                                <span class="term-fg32">+            The execution implements the [execution apiֿ](https:&#47;&#47;github.com&#47;astriaorg&#47;astria&#47;blob&#47;main&#47;specs&#47;execution-api.md) of the shared sequencer.</span>
                                <span class="term-fg32">+            Its procedures will be called from the [conductor](https:&#47;&#47;github.com&#47;astriaorg&#47;astria&#47;blob&#47;main&#47;specs&#47;conductor.md). It is responsible</span>
                                <span class="term-fg32">+            for immediately executing lists of ordered transactions that come from the shared sequencer.</span>
                                <span class="term-fg32">+          globs:</span>
                                <span class="term-fg32">+            - &quot;grpc&#47;execution&#47;*&quot;</span>
                                <span class="term-fg32">+            - &quot;grpc&#47;*&quot;</span>
                                <span class="term-fg32">+        - title: &quot;Tx-pool&quot;</span>
                                <span class="term-fg32">+          description: |</span>
                                <span class="term-fg32">+            Transactions ordering as set by the shared sequencer</span>
                                <span class="term-fg32">+          globs:</span>
                                <span class="term-fg32">+            - &quot;core&#47;txpool&#47;blobpool&#47;*&quot;</span>
                                <span class="term-fg32">+            - &quot;core&#47;txpool&#47;*&quot;</span>
                                <span class="term-fg32">+            - &quot;core&#47;txpool&#47;legacypool&#47;*&quot;</span>
                                <span class="term-fg32">+        - title: &quot;State-transition modifications&quot;</span>
                                <span class="term-fg32">+          description: &quot;&quot;</span>
                                <span class="term-fg32">+          sub:</span>
                                <span class="term-fg32">+            - title: &quot;Deposit Transaction type&quot;</span>
                                <span class="term-fg32">+              description: |</span>
                                <span class="term-fg32">+                `Deposit` transaction type enable changes to the rollup based on sequencer layer events</span>
                                <span class="term-fg32">+              globs:</span>
                                <span class="term-fg32">+                - &quot;core&#47;types&#47;deposit_tx.go&quot;</span>
                                <span class="term-fg32">+                - &quot;core&#47;types&#47;transaction.go&quot;</span>
                                <span class="term-fg32">+                - &quot;core&#47;state_transition.go&quot;</span>
                                <span class="term-fg32">+                - &quot;core&#47;types&#47;receipt.go&quot;</span>
                                <span class="term-fg32">+            </span>
                                <span class="term-fg32">+        - title: &quot;Block-building modifications&quot;</span>
                                <span class="term-fg32">+          description: |</span>
                                <span class="term-fg32">+            The block-building code implements changes to support shared sequencer transactions ordering.</span>
                                <span class="term-fg32">+            Transactions are now being fethced from the `TxPool` based on the shared sequencer.</span>
                                <span class="term-fg32">+          globs:</span>
                                <span class="term-fg32">+            - &quot;miner&#47;*&quot;</span>
                                <span class="term-fg32">+    - title: &quot;Node modifications&quot;</span>
                                <span class="term-fg32">+      description: Changes to the node configuration and services.</span>
                                <span class="term-fg32">+      sub:</span>
                                <span class="term-fg32">+        - title: Node config</span>
                                <span class="term-fg32">+          globs:</span>
                                <span class="term-fg32">+            - &quot;node&#47;config.go&quot;</span>
                                <span class="term-fg32">+            - &quot;node&#47;defaults.go&quot;</span>
                                <span class="term-fg32">+            - &quot;node&#47;grpcstack.go&quot;</span>
                                <span class="term-fg32">+            - &quot;node&#47;node.go&quot;</span>
                                <span class="term-fg32">+        - title: &quot;CLI&quot;</span>
                                <span class="term-fg32">+          description: |</span>
                                <span class="term-fg32">+            CLI changes to support grpc server.</span>
                                <span class="term-fg32">+          globs:</span>
                                <span class="term-fg32">+            - &quot;cmd&#47;utils&#47;flags.go&quot;</span>
                                <span class="term-fg32">+            - &quot;cmd&#47;geth&#47;main.go&quot;</span>
                                <span class="term-fg32">+            - &quot;internal&#47;flags&#47;categories.go&quot;</span>
                                <span class="term-fg32">+            - &quot;cmd&#47;geth&#47;config.go&quot;</span>
                                <span class="term-fg32">+    - title: &quot;Chain Configuration&quot;</span>
                                <span class="term-fg32">+      sub:</span>
                                <span class="term-fg32">+        - title: &quot;Chain config&quot;</span>
                                <span class="term-fg32">+          description: |</span>
                                <span class="term-fg32">+            Configuration changes for integrating the shared seuqnecer</span>
                                <span class="term-fg32">+          globs:</span>
                                <span class="term-fg32">+            - &quot;params&#47;config.go&quot;</span>
                                <span class="term-fg32">+            - &quot;params&#47;protocol_params.go&quot;</span>
                                <span class="term-fg32">+            - &quot;core&#47;genesis.go&quot;</span>
                                <span class="term-fg32">+            - &quot;genesis.json&quot;</span>
                                <span class="term-fg32">+            - &quot;core&#47;blockchain.go&quot;</span>
                                <span class="term-fg32">+            - &quot;eth&#47;backend.go&quot;</span>
                                <span class="term-fg32">+</span>
                                <span class="term-fg32">+# ignored globally, does not count towards line count</span>
                                <span class="term-fg32">+ignore:</span>
                                <span class="term-fg32">+  - &quot;.circleci&#47;*&quot;</span>
                                <span class="term-fg32">+  - &quot;*.sum&quot;</span>
                                <span class="term-fg32">+  - &quot;go.mod&quot;</span>
                                <span class="term-fg32">+  - &quot;fork.yaml&quot;</span>
                                <span class="term-fg32">+  - &quot;.github&#47;*&quot;</span>
                                <span class="term-fg32">+  - &quot;.github&#47;workflows&#47;*&quot;</span>
                                <span class="term-fg32">+</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-dd91f93cb55483d97d4fd797" role="button"
                                   aria-expanded="false" aria-controls="id-dd91f93cb55483d97d4fd797">
                                    <code>genesis.json</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <span class="text-muted">(new)</span>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/genesis.json" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+55</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-0</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-dd91f93cb55483d97d4fd797"><span class="term-fg1">diff --git go-ethereum&#47;genesis.json astria-geth&#47;genesis.json</span>
                                <span class="term-fg1">new file mode 100644</span>
                                <span class="term-fg1">index 0000000000000000000000000000000000000000..d4ed69eacec6bda73edd393c53549e1973bca7b9</span>
                                <span class="term-fg1">--- &#47;dev&#47;null</span>
                                <span class="term-fg1">+++ astria-geth&#47;genesis.json</span>
                                <span class="term-fg36">@@ -0,0 +1,55 @@</span>
                                <span class="term-fg32">+{</span>
                                <span class="term-fg32">+    &quot;config&quot;: {</span>
                                <span class="term-fg32">+        &quot;chainId&quot;: 1337,</span>
                                <span class="term-fg32">+        &quot;homesteadBlock&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;eip150Block&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;eip155Block&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;eip158Block&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;byzantiumBlock&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;constantinopleBlock&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;petersburgBlock&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;istanbulBlock&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;berlinBlock&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;londonBlock&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;shanghaiTime&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;terminalTotalDifficulty&quot;: 0,</span>
                                <span class="term-fg32">+        &quot;terminalTotalDifficultyPassed&quot;: true,</span>
                                <span class="term-fg32">+        &quot;ethash&quot;: {},</span>
                                <span class="term-fg32">+        &quot;astriaRollupName&quot;: &quot;astria&quot;,</span>
                                <span class="term-fg32">+        &quot;astriaOverrideGenesisExtraData&quot;: true,</span>
                                <span class="term-fg32">+        &quot;astriaSequencerInitialHeight&quot;: 2,</span>
                                <span class="term-fg32">+        &quot;astriaSequencerAddressPrefix&quot;: &quot;astria&quot;,</span>
                                <span class="term-fg32">+        &quot;astriaCelestiaInitialHeight&quot;: 2,</span>
                                <span class="term-fg32">+        &quot;astriaCelestiaHeightVariance&quot;: 10,</span>
                                <span class="term-fg32">+        &quot;astriaBridgeAddresses&quot;: [</span>
                                <span class="term-fg32">+            {</span>
                                <span class="term-fg32">+                &quot;bridgeAddress&quot;: &quot;astria1dp9w2rzf5s6pnyvee8rfsy2njy2j67eln842y0&quot;,</span>
                                <span class="term-fg32">+                &quot;startHeight&quot;: 1,</span>
                                <span class="term-fg32">+                &quot;assetDenom&quot;: &quot;nria&quot;,</span>
                                <span class="term-fg32">+                &quot;assetPrecision&quot;: 9</span>
                                <span class="term-fg32">+            },</span>
                                <span class="term-fg32">+            {</span>
                                <span class="term-fg32">+                &quot;bridgeAddress&quot;: &quot;astria1xnlvg0rle2u6auane79t4p27g8hxnj36ja960z&quot;,</span>
                                <span class="term-fg32">+                &quot;senderAddress&quot;: &quot;0x0000000000000000000000000000000000000000&quot;,</span>
                                <span class="term-fg32">+                &quot;startHeight&quot;: 1,</span>
                                <span class="term-fg32">+                &quot;assetDenom&quot;: &quot;transfer&#47;channel-1&#47;usdc&quot;,</span>
                                <span class="term-fg32">+                &quot;assetPrecision&quot;: 6,</span>
                                <span class="term-fg32">+                &quot;erc20asset&quot;: {</span>
                                <span class="term-fg32">+                    &quot;contractAddress&quot;:&quot;0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&quot;,</span>
                                <span class="term-fg32">+                    &quot;contractPrecision&quot;: 6</span>
                                <span class="term-fg32">+                }</span>
                                <span class="term-fg32">+            }</span>
                                <span class="term-fg32">+        ],</span>
                                <span class="term-fg32">+        &quot;astriaFeeCollectors&quot;: {</span>
                                <span class="term-fg32">+            &quot;1&quot;: &quot;0xaC21B97d35Bf75A7dAb16f35b111a50e78A72F30&quot;</span>
                                <span class="term-fg32">+        },</span>
                                <span class="term-fg32">+        &quot;astriaEIP1559Params&quot;: {</span>
                                <span class="term-fg32">+            &quot;1&quot;: { &quot;minBaseFee&quot;: 0, &quot;elasticityMultiplier&quot;: 2, &quot;BaseFeeChangeDenominator&quot;: 8 }</span>
                                <span class="term-fg32">+        }</span>
                                <span class="term-fg32">+    },</span>
                                <span class="term-fg32">+    &quot;difficulty&quot;: &quot;10000000&quot;,</span>
                                <span class="term-fg32">+    &quot;gasLimit&quot;: &quot;8000000&quot;,</span>
                                <span class="term-fg32">+    &quot;alloc&quot;: {</span>
                                <span class="term-fg32">+        &quot;0x46B77EFDFB20979E1C29ec98DcE73e3eCbF64102&quot;: { &quot;balance&quot;: &quot;300000000000000000000&quot; }</span>
                                <span class="term-fg32">+    }</span>
                                <span class="term-fg32">+}</span></div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-f40992e84ebec8c3d50fea37" role="button"
                                   aria-expanded="false" aria-controls="id-f40992e84ebec8c3d50fea37">
                                    <code>go.mod</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/go.mod" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/go.mod" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+21</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-11</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-f40992e84ebec8c3d50fea37"><span class="term-fg1">diff --git go-ethereum&#47;go.mod astria-geth&#47;go.mod</span>
                                <span class="term-fg1">index 3cd0d82bdf7ccf6c2d5c208ba940de363a865f77..1055cd47c5e7942b1e16b2c8fa3a984770939c9c 100644</span>
                                <span class="term-fg1">--- go-ethereum&#47;go.mod</span>
                                <span class="term-fg1">+++ astria-geth&#47;go.mod</span>
                                <span class="term-fg36">@@ -3,6 +3,10 @@</span>
                                go 1.21
                                &nbsp;
                                require (
                                <span class="term-fg32">+	buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;grpc&#47;go v1.5.1-20241017141511-7e4bcc0ebba5.1</span>
                                <span class="term-fg32">+	buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;protocolbuffers&#47;go v1.35.1-20241017141511-7e4bcc0ebba5.1</span>
                                <span class="term-fg32">+	buf.build&#47;gen&#47;go&#47;astria&#47;primitives&#47;protocolbuffers&#47;go v1.35.1-20240911152449-eeebd3decdce.1</span>
                                <span class="term-fg32">+	buf.build&#47;gen&#47;go&#47;astria&#47;sequencerblock-apis&#47;protocolbuffers&#47;go v1.35.1-20241017141511-71aab1871615.1</span>
                                github.com&#47;Azure&#47;azure-sdk-for-go&#47;sdk&#47;storage&#47;azblob v1.2.0
                                github.com&#47;Microsoft&#47;go-winio v0.6.1
                                github.com&#47;VictoriaMetrics&#47;fastcache v1.12.1
                                <span class="term-fg36">@@ -11,6 +15,7 @@</span> 	github.com&#47;aws&#47;aws-sdk-go-v2&#47;config v1.18.45
                                github.com&#47;aws&#47;aws-sdk-go-v2&#47;credentials v1.13.43
                                github.com&#47;aws&#47;aws-sdk-go-v2&#47;service&#47;route53 v1.30.2
                                github.com&#47;btcsuite&#47;btcd&#47;btcec&#47;v2 v2.2.0
                                <span class="term-fg32">+	github.com&#47;btcsuite&#47;btcd&#47;btcutil v1.1.5</span>
                                github.com&#47;cespare&#47;cp v0.1.0
                                github.com&#47;cloudflare&#47;cloudflare-go v0.79.0
                                github.com&#47;cockroachdb&#47;pebble v1.1.0
                                <span class="term-fg36">@@ -33,9 +38,9 @@</span> 	github.com&#47;gofrs&#47;flock v0.8.1
                                github.com&#47;golang-jwt&#47;jwt&#47;v4 v4.5.0
                                github.com&#47;golang&#47;protobuf v1.5.4
                                github.com&#47;golang&#47;snappy v0.0.5-0.20220116011046-fa5810519dcb
                                <span class="term-fg31">-	github.com&#47;google&#47;gofuzz v1.2.0</span>
                                <span class="term-fg31">-	github.com&#47;google&#47;uuid v1.3.0</span>
                                <span class="term-fg31">-	github.com&#47;gorilla&#47;websocket v1.4.2</span>
                                <span class="term-fg32">+	github.com&#47;google&#47;gofuzz v1.1.1-0.20200604201612-c04b05f3adfa</span>
                                <span class="term-fg32">+	github.com&#47;google&#47;uuid v1.6.0</span>
                                <span class="term-fg32">+	github.com&#47;gorilla&#47;websocket v1.5.0</span>
                                github.com&#47;graph-gophers&#47;graphql-go v1.3.0
                                github.com&#47;hashicorp&#47;go-bexpr v0.1.10
                                github.com&#47;holiman&#47;billy v0.0.0-20240216141850-2abb0c79d3c4
                                <span class="term-fg36">@@ -67,12 +72,14 @@</span> 	github.com&#47;syndtr&#47;goleveldb v1.0.1-0.20210819022825-2ae1ddf74ef7
                                github.com&#47;tyler-smith&#47;go-bip39 v1.1.0
                                github.com&#47;urfave&#47;cli&#47;v2 v2.25.7
                                go.uber.org&#47;automaxprocs v1.5.2
                                <span class="term-fg31">-	golang.org&#47;x&#47;crypto v0.22.0</span>
                                <span class="term-fg32">+	golang.org&#47;x&#47;crypto v0.24.0</span>
                                golang.org&#47;x&#47;sync v0.7.0
                                <span class="term-fg31">-	golang.org&#47;x&#47;sys v0.19.0</span>
                                <span class="term-fg31">-	golang.org&#47;x&#47;text v0.14.0</span>
                                <span class="term-fg32">+	golang.org&#47;x&#47;sys v0.21.0</span>
                                <span class="term-fg32">+	golang.org&#47;x&#47;text v0.16.0</span>
                                golang.org&#47;x&#47;time v0.5.0
                                <span class="term-fg31">-	golang.org&#47;x&#47;tools v0.20.0</span>
                                <span class="term-fg32">+	golang.org&#47;x&#47;tools v0.21.1-0.20240508182429-e35e4ccd0d2d</span>
                                <span class="term-fg32">+	google.golang.org&#47;grpc v1.64.1</span>
                                <span class="term-fg32">+	google.golang.org&#47;protobuf v1.35.1</span>
                                gopkg.in&#47;natefinch&#47;lumberjack.v2 v2.0.0
                                gopkg.in&#47;yaml.v3 v3.0.1
                                )
                                <span class="term-fg36">@@ -126,11 +133,12 @@</span> 	github.com&#47;mitchellh&#47;mapstructure v1.4.1 &#47;&#47; indirect
                                github.com&#47;mitchellh&#47;pointerstructure v1.2.0 &#47;&#47; indirect
                                github.com&#47;mmcloughlin&#47;addchain v0.4.0 &#47;&#47; indirect
                                github.com&#47;naoina&#47;go-stringutil v0.1.0 &#47;&#47; indirect
                                <span class="term-fg31">-	github.com&#47;opentracing&#47;opentracing-go v1.1.0 &#47;&#47; indirect</span>
                                <span class="term-fg32">+	github.com&#47;onsi&#47;ginkgo v1.16.4 &#47;&#47; indirect</span>
                                <span class="term-fg32">+	github.com&#47;opentracing&#47;opentracing-go v1.2.0 &#47;&#47; indirect</span>
                                github.com&#47;pkg&#47;errors v0.9.1 &#47;&#47; indirect
                                github.com&#47;pmezard&#47;go-difflib v1.0.0 &#47;&#47; indirect
                                github.com&#47;prometheus&#47;client_golang v1.12.0 &#47;&#47; indirect
                                <span class="term-fg31">-	github.com&#47;prometheus&#47;client_model v0.2.1-0.20210607210712-147c58e9608a &#47;&#47; indirect</span>
                                <span class="term-fg32">+	github.com&#47;prometheus&#47;client_model v0.4.0 &#47;&#47; indirect</span>
                                github.com&#47;prometheus&#47;common v0.32.1 &#47;&#47; indirect
                                github.com&#47;prometheus&#47;procfs v0.7.3 &#47;&#47; indirect
                                github.com&#47;rivo&#47;uniseg v0.2.0 &#47;&#47; indirect
                                <span class="term-fg36">@@ -141,8 +149,10 @@</span> 	github.com&#47;tklauser&#47;numcpus v0.6.1 &#47;&#47; indirect
                                github.com&#47;xrash&#47;smetrics v0.0.0-20201216005158-039620a65673 &#47;&#47; indirect
                                golang.org&#47;x&#47;exp v0.0.0-20231110203233-9a3e6036ecaa &#47;&#47; indirect
                                golang.org&#47;x&#47;mod v0.17.0 &#47;&#47; indirect
                                <span class="term-fg31">-	golang.org&#47;x&#47;net v0.24.0 &#47;&#47; indirect</span>
                                <span class="term-fg31">-	google.golang.org&#47;protobuf v1.33.0 &#47;&#47; indirect</span>
                                <span class="term-fg32">+	golang.org&#47;x&#47;net v0.26.0 &#47;&#47; indirect</span>
                                <span class="term-fg32">+	golang.org&#47;x&#47;xerrors v0.0.0-20220907171357-04be3eba64a2 &#47;&#47; indirect</span>
                                <span class="term-fg32">+	google.golang.org&#47;genproto&#47;googleapis&#47;api v0.0.0-20240318140521-94a12d6c2237 &#47;&#47; indirect</span>
                                <span class="term-fg32">+	google.golang.org&#47;genproto&#47;googleapis&#47;rpc v0.0.0-20240318140521-94a12d6c2237 &#47;&#47; indirect</span>
                                gopkg.in&#47;yaml.v2 v2.4.0 &#47;&#47; indirect
                                rsc.io&#47;tmplfunc v0.0.3 &#47;&#47; indirect
                                )</div>
                        </div>


                        <div class="border-bottom"><div class="row">
                            <div class="col-12 col-md-4 text-start pe-2">

                                <a class="text-muted" data-bs-toggle="collapse" href="#id-0eb20a81dc939d774681d6c1" role="button"
                                   aria-expanded="false" aria-controls="id-0eb20a81dc939d774681d6c1">
                                    <code>go.sum</code>
                                </a>

                            </div>

                            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                                <div class="row">
                                    <div class="col-6">

                                        <a href="https://github.com/ethereum/go-ethereum/blob/ab48ba42f4f34873d65fd1737fabac5c680baff6/go.sum" target="_blank">go-ethereum <i class="bi bi-github"></i></a>

                                    </div>

                                    <div class="col-6">

                                        <a href="https://github.com/astriaorg/astria-geth/blob/09c27dc320570d9e1f58ea60325158f36d6a0309/go.sum" target="_blank">astria-geth <i class="bi bi-github"></i></a>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-4 ms-auto ps-2">

                                <div class="row line-stat">

                                    <div class="text-end"><span class="text-add-ignored">+81</span></div>
                                    <div class="text-start"><span class="text-delete-ignored">-27</span></div>

                                </div>

                            </div>
                        </div>
                            <div class="collapse patch-content term-container" id="id-0eb20a81dc939d774681d6c1"><span class="term-fg1">diff --git go-ethereum&#47;go.sum astria-geth&#47;go.sum</span>
                                <span class="term-fg1">index a7b4eb1c138a79c0b1f2e5beeeb5be658fc205a3..83a47af38dd5b60e1ca3860ed14ddf993b54ea5a 100644</span>
                                <span class="term-fg1">--- go-ethereum&#47;go.sum</span>
                                <span class="term-fg1">+++ astria-geth&#47;go.sum</span>
                                <span class="term-fg36">@@ -1,3 +1,11 @@</span>
                                <span class="term-fg32">+buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;grpc&#47;go v1.5.1-20241017141511-7e4bcc0ebba5.1 h1:v7QnrDjNmG7I&#47;0aqZdtlP3cBPQGd62w4AYVF8TfAcHM=</span>
                                <span class="term-fg32">+buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;grpc&#47;go v1.5.1-20241017141511-7e4bcc0ebba5.1&#47;go.mod h1:T5EsLvEE5UMk62gVSwNY&#47;7XlxknAP3sL8tYRsU68b4s=</span>
                                <span class="term-fg32">+buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;protocolbuffers&#47;go v1.35.1-20241017141511-7e4bcc0ebba5.1 h1:3G2O21DuY5Y&#47;G32tP1mAI16AxwDYTscG2YaOb&#47;WQty0=</span>
                                <span class="term-fg32">+buf.build&#47;gen&#47;go&#47;astria&#47;execution-apis&#47;protocolbuffers&#47;go v1.35.1-20241017141511-7e4bcc0ebba5.1&#47;go.mod h1:U4LUlabiYNYBd1pqYS9o8SsHjBRoEBysrfRVnebzJH0=</span>
                                <span class="term-fg32">+buf.build&#47;gen&#47;go&#47;astria&#47;primitives&#47;protocolbuffers&#47;go v1.35.1-20240911152449-eeebd3decdce.1 h1:kG4riHqlF9X6iZ1Oxs5&#47;6ul6aue7MS+A6DK6HAchuTk=</span>
                                <span class="term-fg32">+buf.build&#47;gen&#47;go&#47;astria&#47;primitives&#47;protocolbuffers&#47;go v1.35.1-20240911152449-eeebd3decdce.1&#47;go.mod h1:n9L7X3VAj4od4VHf2ScJuHARUUQTSxJqtRHZk&#47;7Ptt0=</span>
                                <span class="term-fg32">+buf.build&#47;gen&#47;go&#47;astria&#47;sequencerblock-apis&#47;protocolbuffers&#47;go v1.35.1-20241017141511-71aab1871615.1 h1:hPMoxTiT7jJjnIbWqneBbL05VeVOTD9UeC&#47;qdvzHL8g=</span>
                                <span class="term-fg32">+buf.build&#47;gen&#47;go&#47;astria&#47;sequencerblock-apis&#47;protocolbuffers&#47;go v1.35.1-20241017141511-71aab1871615.1&#47;go.mod h1:2uasRFMH+a3DaF34c1o+w7&#47;YtYnoknmARyYpb9W2QIc=</span>
                                cloud.google.com&#47;go v0.26.0&#47;go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=
                                cloud.google.com&#47;go v0.34.0&#47;go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=
                                cloud.google.com&#47;go v0.38.0&#47;go.mod h1:990N+gfupTy94rShfmMCWGDn0LpTmnzTp2qbd1dvSRU=
                                <span class="term-fg36">@@ -55,6 +63,7 @@</span> github.com&#47;StackExchange&#47;wmi v1.2.1 h1:VIkavFPXSjcnS+O8yTq7NI32k0R5Aj+v39y29VYDOSA=
                                github.com&#47;StackExchange&#47;wmi v1.2.1&#47;go.mod h1:rcmrprowKIVzvc+NUiLncP2uuArMWLCbu9SBzvHz7e8=
                                github.com&#47;VictoriaMetrics&#47;fastcache v1.12.1 h1:i0mICQuojGDL3KblA7wUNlY5lOK6a4bwt3uRKnkZU40=
                                github.com&#47;VictoriaMetrics&#47;fastcache v1.12.1&#47;go.mod h1:tX04vaqcNoQeGLD+ra5pU5sWkuxnzWhEzLwhP9w653o=
                                <span class="term-fg32">+github.com&#47;aead&#47;siphash v1.0.1&#47;go.mod h1:Nywa3cDsYNNK3gaciGTWPwHt0wlpNV15vwmswBAUSII=</span>
                                github.com&#47;alecthomas&#47;template v0.0.0-20160405071501-a0175ee3bccc&#47;go.mod h1:LOuyumcjzFXgccqObfd&#47;Ljyb9UuFJ6TxHnclSeseNhc=
                                github.com&#47;alecthomas&#47;template v0.0.0-20190718012654-fb15b899a751&#47;go.mod h1:LOuyumcjzFXgccqObfd&#47;Ljyb9UuFJ6TxHnclSeseNhc=
                                github.com&#47;alecthomas&#47;units v0.0.0-20151022065526-2efee857e7cf&#47;go.mod h1:ybxpYRFXyAe+OPACYpWeL0wqObRcbAqCMya13uyzqw0=
                                <span class="term-fg36">@@ -94,10 +103,31 @@</span> github.com&#47;beorn7&#47;perks v1.0.1 h1:VlbKKnNfV8bJzeqoa4cOKqO6bYr3WgKZxO8Z16+hsOM=
                                github.com&#47;beorn7&#47;perks v1.0.1&#47;go.mod h1:G2ZrVWU2WbWT9wwq4&#47;hrbKbnv&#47;1ERSJQ0ibhJ6rlkpw=
                                github.com&#47;bits-and-blooms&#47;bitset v1.10.0 h1:ePXTeiPEazB5+opbv5fr8umg2R&#47;1NlzgDsyepwsSr88=
                                github.com&#47;bits-and-blooms&#47;bitset v1.10.0&#47;go.mod h1:7hO7Gc7Pp1vODcmWvKMRA9BNmbv6a&#47;7QIWpPxHddWR8=
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd v0.20.1-beta&#47;go.mod h1:wVuoA8VJLEcwgqHBwHmzLRazpKxTv13Px&#47;pDuV7OomQ=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd v0.22.0-beta.0.20220111032746-97732e52810c&#47;go.mod h1:tjmYdS6MLJ5&#47;s0Fj4DbLgSbDHbEqLJrtnHecBFkdz5M=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd v0.23.5-0.20231215221805-96c9fd8078fd h1:js1gPwhcFflTZ7Nzl7WHaOTlTr5hIrR4n1NM4v9n4Kw=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd v0.23.5-0.20231215221805-96c9fd8078fd&#47;go.mod h1:nm3Bko6zh6bWP60UxwoT5LzdGJsQJaPo6HjduXq9p6A=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;btcec&#47;v2 v2.1.0&#47;go.mod h1:2VzYrv4Gm4apmbVVsSq5bqf1Ec8v56E48Vt0Y&#47;umPgA=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;btcec&#47;v2 v2.1.3&#47;go.mod h1:ctjw4H1kknNJmRN4iP1R7bTQ+v3GJkZBd6mui8ZsAZE=</span>
                                github.com&#47;btcsuite&#47;btcd&#47;btcec&#47;v2 v2.2.0 h1:fzn1qaOt32TuLjFlkzYSsBC35Q3KUjT1SwPxiMSCF5k=
                                github.com&#47;btcsuite&#47;btcd&#47;btcec&#47;v2 v2.2.0&#47;go.mod h1:U7MHm051Al6XmscBQ0BoNydpOTsFAn707034b5nY8zU=
                                <span class="term-fg31">-github.com&#47;btcsuite&#47;btcd&#47;chaincfg&#47;chainhash v1.0.1 h1:q0rUy8C&#47;TYNBQS1+CGKw68tLOFYSNEs0TFnxxnS9+4U=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;btcutil v1.0.0&#47;go.mod h1:Uoxwv0pqYWhD&#47;&#47;tfTiipkxNfdhG9UrLwaeswfjfdF0A=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;btcutil v1.1.0&#47;go.mod h1:5OapHB7A2hBBWLm48mmw4MOHNJCcUBTwmWH&#47;0Jn8VHE=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;btcutil v1.1.5 h1:+wER79R5670vs&#47;ZusMTF1yTcRYE5GUsFbdjdisflzM8=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;btcutil v1.1.5&#47;go.mod h1:PSZZ4UitpLBWzxGd5VGOrLnmOjtPP&#47;a6HaFo12zMs00=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;chaincfg&#47;chainhash v1.0.0&#47;go.mod h1:7SFka0XMvUgj3hfZtydOrQY2mwhPclbT2snogU7SQQc=</span>
                                github.com&#47;btcsuite&#47;btcd&#47;chaincfg&#47;chainhash v1.0.1&#47;go.mod h1:7SFka0XMvUgj3hfZtydOrQY2mwhPclbT2snogU7SQQc=
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;chaincfg&#47;chainhash v1.1.0 h1:59Kx4K6lzOW5w6nFlA0v5+lk&#47;6sjybR934QNHSJZPTQ=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcd&#47;chaincfg&#47;chainhash v1.1.0&#47;go.mod h1:7SFka0XMvUgj3hfZtydOrQY2mwhPclbT2snogU7SQQc=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btclog v0.0.0-20170628155309-84c8d2346e9f&#47;go.mod h1:TdznJufoqS23FtqVCzL0ZqgP5MqXbb4fg&#47;WgDys70nA=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;btcutil v0.0.0-20190425235716-9e5f4b9a998d&#47;go.mod h1:+5NJ2+qvTyV9exUAL&#47;rxXi3DcLg2Ts+ymUAY5y4NvMg=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;go-socks v0.0.0-20170105172521-4720035b7bfd&#47;go.mod h1:HHNXQzUsZCxOoE+CPiyCTO6x34Zs86zZUiwtpXoGdtg=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;goleveldb v0.0.0-20160330041536-7834afc9e8cd&#47;go.mod h1:F+uVaaLLH7j4eDXPRvw78tMflu7Ie2bzYOH4Y8rRKBY=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;goleveldb v1.0.0&#47;go.mod h1:QiK9vBlgftBg6rWQIj6wFzbPfRjiykIEhBH4obrXJ&#47;I=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;snappy-go v0.0.0-20151229074030-0bdef8d06723&#47;go.mod h1:8woku9dyThutzjeg+3xrA5iCpBRH8XEEg3lh6TiUghc=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;snappy-go v1.0.0&#47;go.mod h1:8woku9dyThutzjeg+3xrA5iCpBRH8XEEg3lh6TiUghc=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;websocket v0.0.0-20150119174127-31079b680792&#47;go.mod h1:ghJtEyQwv5&#47;p4Mg4C0fgbePVuGr935&#47;5ddU9Z3TmDRY=</span>
                                <span class="term-fg32">+github.com&#47;btcsuite&#47;winsvc v1.0.0&#47;go.mod h1:jsenWakMcC0zFBFurPLEAyrnc&#47;teJEM1O46fmI40EZs=</span>
                                github.com&#47;census-instrumentation&#47;opencensus-proto v0.2.1&#47;go.mod h1:f6KPmirojxKA12rnyqOA5BBL4O983OfeGPqjHWSTneU=
                                github.com&#47;cespare&#47;cp v0.1.0 h1:SE+dxFebS7Iik5LK0tsi1k9ZCxEaFX4AjQmoyA+1dJk=
                                github.com&#47;cespare&#47;cp v0.1.0&#47;go.mod h1:SOGHArjBr4JWaSDEVpWpo&#47;hNg6RoKrls6Oh40hiwW+s=
                                <span class="term-fg36">@@ -139,6 +169,7 @@</span> github.com&#47;crate-crypto&#47;go-kzg-4844 v1.0.0 h1:TsSgHwrkTKecKJ4kadtHi4b3xHW5dCFUDFnUp1TsawI=
                                github.com&#47;crate-crypto&#47;go-kzg-4844 v1.0.0&#47;go.mod h1:1kMhvPgI0Ky3yIa+9lFySEBUBXkYxeOi8ZF1sYioxhc=
                                github.com&#47;creack&#47;pty v1.1.9&#47;go.mod h1:oKZEueFk5CKHvIhNR5MUki03XCEU+Q6VDXinZuGJ33E=
                                github.com&#47;cyberdelia&#47;templates v0.0.0-20141128023046-ca7fffd4298c&#47;go.mod h1:GyV+0YP4qX0UQ7r2MoYZ+AvYDp12OF5yg4q8rGnyNh4=
                                <span class="term-fg32">+github.com&#47;davecgh&#47;go-spew v0.0.0-20171005155431-ecdeabc65495&#47;go.mod h1:J7Y8YcW2NihsgmVo&#47;mv3lAwl&#47;skON4iLHjSsI+c5H38=</span>
                                github.com&#47;davecgh&#47;go-spew v1.1.0&#47;go.mod h1:J7Y8YcW2NihsgmVo&#47;mv3lAwl&#47;skON4iLHjSsI+c5H38=
                                github.com&#47;davecgh&#47;go-spew v1.1.1 h1:vj9j&#47;u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=
                                github.com&#47;davecgh&#47;go-spew v1.1.1&#47;go.mod h1:J7Y8YcW2NihsgmVo&#47;mv3lAwl&#47;skON4iLHjSsI+c5H38=
                                <span class="term-fg36">@@ -148,6 +179,7 @@</span> github.com&#47;decred&#47;dcrd&#47;crypto&#47;blake256 v1.0.0 h1:&#47;8DMNYp9SGi5f0w7uCm6d6M4OU2rGFK09Y2A4Xv7EE0=
                                github.com&#47;decred&#47;dcrd&#47;crypto&#47;blake256 v1.0.0&#47;go.mod h1:sQl2p6Y26YV+ZOcSTP6thNdn47hh8kt6rqSlvmrXFAc=
                                github.com&#47;decred&#47;dcrd&#47;dcrec&#47;secp256k1&#47;v4 v4.0.1 h1:YLtO71vCjJRCBcrPMtQ9nqBsqpA1m5sE92cU+pd5Mcc=
                                github.com&#47;decred&#47;dcrd&#47;dcrec&#47;secp256k1&#47;v4 v4.0.1&#47;go.mod h1:hyedUtir6IdtD&#47;7lIxGeCxkaw7y45JueMRL4DIyJDKs=
                                <span class="term-fg32">+github.com&#47;decred&#47;dcrd&#47;lru v1.0.0&#47;go.mod h1:mxKOwFd7lFjN2GZYsiz&#47;ecgqR6kkYAl+0pz0tEMk218=</span>
                                github.com&#47;deepmap&#47;oapi-codegen v1.6.0 h1:w&#47;d1ntwh91XI0b&#47;8ja7+u5SvA4IFfM0UNNLmiDR1gg0=
                                github.com&#47;deepmap&#47;oapi-codegen v1.6.0&#47;go.mod h1:ryDa9AgbELGeB+YEXE1dR53yAjHwFvE9iAUlWl9Al3M=
                                github.com&#47;dgrijalva&#47;jwt-go v3.2.0+incompatible&#47;go.mod h1:E3ru+11k8xSBh+hMPgOLZmtrrCbhqsmaPHjLKYnJCaQ=
                                <span class="term-fg36">@@ -211,6 +243,7 @@</span> github.com&#47;go-openapi&#47;swag v0.19.5&#47;go.mod h1:POnQmlKehdgb5mhVOsnJFsivZCEZ&#47;vjK9gh66Z9tfKk=
                                github.com&#47;go-sourcemap&#47;sourcemap v2.1.3+incompatible h1:W1iEw64niKVGogNgBN3ePyLFfuisuzeidWPMPWmECqU=
                                github.com&#47;go-sourcemap&#47;sourcemap v2.1.3+incompatible&#47;go.mod h1:F8jJfvm2KbVjc5NqelyYJmf&#47;v5J0dwNLS2mL4sNA1Jg=
                                github.com&#47;go-stack&#47;stack v1.8.0&#47;go.mod h1:v0f6uXyyMGvRgIKkXu+yp6POWl0qKG85gN&#47;melR3HDY=
                                <span class="term-fg32">+github.com&#47;go-task&#47;slim-sprig v0.0.0-20210107165309-348f09dbbbc0&#47;go.mod h1:fyg7847qk6SyHyPtNmDHnmrv&#47;HOrqktSC+C9fM+CJOE=</span>
                                github.com&#47;goccy&#47;go-json v0.10.2 h1:CrxCmQqYDkv1z7lO7Wbh2HN93uovUHgrECaO5ZrCXAU=
                                github.com&#47;goccy&#47;go-json v0.10.2&#47;go.mod h1:6MelG93GURQebXPDq3khkgXZkazVtN9CRI+MGFi0w8I=
                                github.com&#47;gofrs&#47;flock v0.8.1 h1:+gYjHKf32LDeiEEFhQaotPbLuUXjY5ZqxKgXy7n59aw=
                                <span class="term-fg36">@@ -266,13 +299,13 @@</span> github.com&#47;google&#47;go-cmp v0.5.2&#47;go.mod h1:v8dTdLbMG2kIc&#47;vJvl+f65V22dbkXbowE6jgT&#47;gNBxE=
                                github.com&#47;google&#47;go-cmp v0.5.4&#47;go.mod h1:v8dTdLbMG2kIc&#47;vJvl+f65V22dbkXbowE6jgT&#47;gNBxE=
                                github.com&#47;google&#47;go-cmp v0.5.5&#47;go.mod h1:v8dTdLbMG2kIc&#47;vJvl+f65V22dbkXbowE6jgT&#47;gNBxE=
                                github.com&#47;google&#47;go-cmp v0.5.8&#47;go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=
                                <span class="term-fg31">-github.com&#47;google&#47;go-cmp v0.5.9 h1:O2Tfq5qg4qc4AmwVlvv0oLiVAGB7enBSJ2x2DqQFi38=</span>
                                <span class="term-fg31">-github.com&#47;google&#47;go-cmp v0.5.9&#47;go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=</span>
                                <span class="term-fg32">+github.com&#47;google&#47;go-cmp v0.6.0 h1:ofyhxvXcZhMsU5ulbFiLKl&#47;XBFqE1GSq7atu8tAmTRI=</span>
                                <span class="term-fg32">+github.com&#47;google&#47;go-cmp v0.6.0&#47;go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=</span>
                                github.com&#47;google&#47;go-querystring v1.1.0 h1:AnCroh3fv4ZBgVIf1Iwtovgjaw&#47;GiKJo8M8yD&#47;fhyJ8=
                                github.com&#47;google&#47;go-querystring v1.1.0&#47;go.mod h1:Kcdr2DB4koayq7X8pmAG4sNG59So17icRSOU623lUBU=
                                github.com&#47;google&#47;gofuzz v1.0.0&#47;go.mod h1:dBl0BpW6vV&#47;+mYPU4Po3pmUjxk6FQPldtuIdl&#47;M65Eg=
                                <span class="term-fg31">-github.com&#47;google&#47;gofuzz v1.2.0 h1:xRy4A+RhZaiKjJ1bPfwQ8sedCA+YS2YcCHW6ec7JMi0=</span>
                                <span class="term-fg31">-github.com&#47;google&#47;gofuzz v1.2.0&#47;go.mod h1:dBl0BpW6vV&#47;+mYPU4Po3pmUjxk6FQPldtuIdl&#47;M65Eg=</span>
                                <span class="term-fg32">+github.com&#47;google&#47;gofuzz v1.1.1-0.20200604201612-c04b05f3adfa h1:Q75Upo5UN4JbPFURXZ8nLKYUvF85dyFRop&#47;vQ0Rv+64=</span>
                                <span class="term-fg32">+github.com&#47;google&#47;gofuzz v1.1.1-0.20200604201612-c04b05f3adfa&#47;go.mod h1:dBl0BpW6vV&#47;+mYPU4Po3pmUjxk6FQPldtuIdl&#47;M65Eg=</span>
                                github.com&#47;google&#47;martian v2.1.0+incompatible&#47;go.mod h1:9I4somxYTbIHy5NJKHRl3wXiIaQGbYVAs8BPL6v8lEs=
                                github.com&#47;google&#47;martian&#47;v3 v3.0.0&#47;go.mod h1:y5Zk1BBys9G+gd6Jrk0W3cC1+ELVxBWuIGO+w&#47;tUAp0=
                                github.com&#47;google&#47;pprof v0.0.0-20181206194817-3ea8567a2e57&#47;go.mod h1:zfwlbNMJ+OItoe0UupaVj+oy1omPYYDuagoSzA8v9mc=
                                <span class="term-fg36">@@ -286,13 +319,13 @@</span> github.com&#47;google&#47;pprof v0.0.0-20230207041349-798e818bf904 h1:4&#47;hN5RUoecvl+RmJRE2YxKWtnnQls6rQjjW5oV7qg2U=
                                github.com&#47;google&#47;pprof v0.0.0-20230207041349-798e818bf904&#47;go.mod h1:uglQLonpP8qtYCYyzA+8c&#47;9qtqgA3qsXGYqCPKARAFg=
                                github.com&#47;google&#47;renameio v0.1.0&#47;go.mod h1:KWCgfxg9yswjAJkECMjeO8J8rahYeXnNhOm40UhjYkI=
                                github.com&#47;google&#47;subcommands v1.2.0&#47;go.mod h1:ZjhPrFU+Olkh9WazFPsl27BQ4UPiG37m3yTrtFlrHVk=
                                <span class="term-fg31">-github.com&#47;google&#47;uuid v1.3.0 h1:t6JiXgmwXMjEs8VusXIJk2BXHsn+wx8BZdTaoZ5fu7I=</span>
                                <span class="term-fg31">-github.com&#47;google&#47;uuid v1.3.0&#47;go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw&#47;LqOeaOT+nhxU+yHo=</span>
                                <span class="term-fg32">+github.com&#47;google&#47;uuid v1.6.0 h1:NIvaJDMOsjHA8n1jAhLSgzrAzy1Hgr+hNrb57e+94F0=</span>
                                <span class="term-fg32">+github.com&#47;google&#47;uuid v1.6.0&#47;go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw&#47;LqOeaOT+nhxU+yHo=</span>
                                github.com&#47;googleapis&#47;gax-go&#47;v2 v2.0.4&#47;go.mod h1:0Wqv26UfaUD9n4G6kQubkQ+KchISgw+vpHVxEJEs9eg=
                                github.com&#47;googleapis&#47;gax-go&#47;v2 v2.0.5&#47;go.mod h1:DWXyrwAJ9X0FpwwEdw+IPEYBICEFu5mhpdKc&#47;us6bOk=
                                github.com&#47;gorilla&#47;mux v1.8.0&#47;go.mod h1:DVbg23sWSpFRCP0SfiEN6jmj59UnW&#47;n46BH5rLB71So=
                                <span class="term-fg31">-github.com&#47;gorilla&#47;websocket v1.4.2 h1:+&#47;TMaTYc4QFitKJxsQ7Yye35DkWvkdLcvGKqM+x0Ufc=</span>
                                <span class="term-fg31">-github.com&#47;gorilla&#47;websocket v1.4.2&#47;go.mod h1:YR8l580nyteQvAITg2hZ9XVh4b55+EU&#47;adAjf1fMHhE=</span>
                                <span class="term-fg32">+github.com&#47;gorilla&#47;websocket v1.5.0 h1:PPwGk2jz7EePpoHN&#47;+ClbZu8SPxiqlu12wZP&#47;3sWmnc=</span>
                                <span class="term-fg32">+github.com&#47;gorilla&#47;websocket v1.5.0&#47;go.mod h1:YR8l580nyteQvAITg2hZ9XVh4b55+EU&#47;adAjf1fMHhE=</span>
                                github.com&#47;graph-gophers&#47;graphql-go v1.3.0 h1:Eb9x&#47;q6MFpCLz7jBCiP&#47;WTxjSDrYLR1QY41SORZyNJ0=
                                github.com&#47;graph-gophers&#47;graphql-go v1.3.0&#47;go.mod h1:9CQHMSxwO4MprSdzoIEobiHpoLtHm77vfxsvsIN5Vuc=
                                github.com&#47;hashicorp&#47;go-bexpr v0.1.10 h1:9kuI5PFotCboP3dkDYFr&#47;wi0gg0QVbSNz5oFRpxn4uE=
                                <span class="term-fg36">@@ -328,11 +361,14 @@</span> github.com&#47;jackpal&#47;go-nat-pmp v1.0.2 h1:KzKSgb7qkJvOUTqYl9&#47;Hg&#47;me3pWgBmERKrTGD7BdWus=
                                github.com&#47;jackpal&#47;go-nat-pmp v1.0.2&#47;go.mod h1:QPH045xvCAeXUZOxsnwmrtiCoxIr9eob+4orBN1SBKc=
                                github.com&#47;jedisct1&#47;go-minisign v0.0.0-20230811132847-661be99b8267 h1:TMtDYDHKYY15rFihtRfck&#47;bfFqNfvcabqvXAFQfAUpY=
                                github.com&#47;jedisct1&#47;go-minisign v0.0.0-20230811132847-661be99b8267&#47;go.mod h1:h1nSAbGFqGVzn6Jyl1R&#47;iCcBUHN4g+gW1u9CoBTrb9E=
                                <span class="term-fg32">+github.com&#47;jessevdk&#47;go-flags v0.0.0-20141203071132-1679536dcc89&#47;go.mod h1:4FA24M0QyGHXBuZZK&#47;XkWh8h0e1EYbRYJSGM75WSRxI=</span>
                                <span class="term-fg32">+github.com&#47;jessevdk&#47;go-flags v1.4.0&#47;go.mod h1:4FA24M0QyGHXBuZZK&#47;XkWh8h0e1EYbRYJSGM75WSRxI=</span>
                                github.com&#47;jmespath&#47;go-jmespath v0.4.0 h1:BEgLn5cpjn8UN1mAw4NjwDrS35OdebyEtFe+9YPoQUg=
                                github.com&#47;jmespath&#47;go-jmespath v0.4.0&#47;go.mod h1:T8mJZnbsbmF+m6zOOFylbeCJqk5+pHWvzYPziyZiYoo=
                                github.com&#47;jmespath&#47;go-jmespath&#47;internal&#47;testify v1.5.1 h1:shLQSRRSCCPj3f2gpwzGwWFoC7ycTf1rcQZHOlsJ6N8=
                                github.com&#47;jmespath&#47;go-jmespath&#47;internal&#47;testify v1.5.1&#47;go.mod h1:L3OGu8Wl2&#47;fWfCI6z80xFu9LTZmf1ZRjMHUOPmWr69U=
                                github.com&#47;jpillora&#47;backoff v1.0.0&#47;go.mod h1:J&#47;6gKK9jxlEcS3zixgDgUAsiuZ7yrSoa&#47;FX5e0EB2j4=
                                <span class="term-fg32">+github.com&#47;jrick&#47;logrotate v1.0.0&#47;go.mod h1:LNinyqDIJnpAur+b8yyulnQw&#47;wDuN1+BYKlTRt3OuAQ=</span>
                                github.com&#47;json-iterator&#47;go v1.1.6&#47;go.mod h1:+SdeFBvtyEkXs7REEP0seUULqWtbJapLOCVDaaPEHmU=
                                github.com&#47;json-iterator&#47;go v1.1.10&#47;go.mod h1:KdQUCv79m&#47;52Kvf8AW2vK1V8akMuk1QjK&#47;uOdHXbAo4=
                                github.com&#47;json-iterator&#47;go v1.1.11&#47;go.mod h1:KdQUCv79m&#47;52Kvf8AW2vK1V8akMuk1QjK&#47;uOdHXbAo4=
                                <span class="term-fg36">@@ -348,6 +384,7 @@</span> github.com&#47;kilic&#47;bls12-381 v0.1.0 h1:encrdjqKMEvabVQ7qYOKu1OvhqpK4s47wDYtNiPtlp4=
                                github.com&#47;kilic&#47;bls12-381 v0.1.0&#47;go.mod h1:vDTTHJONJ6G+P2R74EhnyotQDTliQDnFEwhdmfzw1ig=
                                github.com&#47;kisielk&#47;errcheck v1.5.0&#47;go.mod h1:pFxgyoBC7bSaBwPgfKdkLd5X25qrDl4LWUI2bnpBCr8=
                                github.com&#47;kisielk&#47;gotool v1.0.0&#47;go.mod h1:XhKaO+MFFWcvkIS&#47;tQcRk01m1F5IRFswLeQ+oQHNcck=
                                <span class="term-fg32">+github.com&#47;kkdai&#47;bstream v0.0.0-20161212061736-f391b8402d23&#47;go.mod h1:J+Gs4SYgM6CZQHDETBtE9HaSEkGmuNXF86RwHhHUvq4=</span>
                                github.com&#47;klauspost&#47;compress v1.15.15 h1:EF27CXIuDsYJ6mmvtBRlEuB2UVOqHG1tAXgZ7yIO+lw=
                                github.com&#47;klauspost&#47;compress v1.15.15&#47;go.mod h1:ZcK2JAFqKOpnBlxcLsJzYfrS9X1akm9fHZNnD9+Vo&#47;4=
                                github.com&#47;klauspost&#47;cpuid&#47;v2 v2.0.4&#47;go.mod h1:FInQzS24&#47;EEf25PyTYn52gqo7WaD8xa0213Md&#47;qVLRg=
                                <span class="term-fg36">@@ -414,19 +451,25 @@</span> github.com&#47;naoina&#47;go-stringutil v0.1.0 h1:rCUeRUHjBjGTSHl0VC00jUPLz8&#47;F9dDzYI70Hzifhks=
                                github.com&#47;naoina&#47;go-stringutil v0.1.0&#47;go.mod h1:XJ2SJL9jCtBh+P9q5btrd&#47;Ylo8XwT&#47;h1USek5+NqSA0=
                                github.com&#47;naoina&#47;toml v0.1.2-0.20170918210437-9fafd6967416 h1:shk&#47;vn9oCoOTmwcouEdwIeOtOGA&#47;ELRUw&#47;GwvxwfT+0=
                                github.com&#47;naoina&#47;toml v0.1.2-0.20170918210437-9fafd6967416&#47;go.mod h1:NBIhNtsFMo3G2szEBne+bO4gS192HuIYRqfvOWb4i1E=
                                <span class="term-fg31">-github.com&#47;nxadm&#47;tail v1.4.4 h1:DQuhQpB1tVlglWS2hLQ5OV6B5r8aGxSrPc5Qo6uTN78=</span>
                                github.com&#47;nxadm&#47;tail v1.4.4&#47;go.mod h1:kenIhsEOeOJmVchQTgglprH7qJGnHDVpk1VPCcaMI8A=
                                <span class="term-fg32">+github.com&#47;nxadm&#47;tail v1.4.8 h1:nPr65rt6Y5JFSKQO7qToXr7pePgD6Gwiw05lkbyAQTE=</span>
                                <span class="term-fg32">+github.com&#47;nxadm&#47;tail v1.4.8&#47;go.mod h1:+ncqLTQzXmGhMZNUePPaPqPvBxHAIsmXswZKocGu+AU=</span>
                                github.com&#47;olekukonko&#47;tablewriter v0.0.5 h1:P2Ga83D34wi1o9J6Wh1mRuqd4mF&#47;x&#47;lgBS7N7AbDhec=
                                github.com&#47;olekukonko&#47;tablewriter v0.0.5&#47;go.mod h1:hPp6KlRPjbx+hW8ykQs1w3UBbZlj6HuIJcUGPhkA7kY=
                                github.com&#47;onsi&#47;ginkgo v1.6.0&#47;go.mod h1:lLunBs&#47;Ym6LB5Z9jYTR76FiuTmxDTDusOGeTQH+WWjE=
                                <span class="term-fg32">+github.com&#47;onsi&#47;ginkgo v1.7.0&#47;go.mod h1:lLunBs&#47;Ym6LB5Z9jYTR76FiuTmxDTDusOGeTQH+WWjE=</span>
                                github.com&#47;onsi&#47;ginkgo v1.12.1&#47;go.mod h1:zj2OWP4+oCPe1qIXoGWkgMRwljMUYCdkwsT2108oapk=
                                <span class="term-fg31">-github.com&#47;onsi&#47;ginkgo v1.14.0 h1:2mOpI4JVVPBN+WQRa0WKH2eXR+Ey+uK4n7Zj0aYpIQA=</span>
                                github.com&#47;onsi&#47;ginkgo v1.14.0&#47;go.mod h1:iSB4RoI2tjJc9BBv4NKIKWKya62Rps+oPG&#47;Lv9klQyY=
                                <span class="term-fg32">+github.com&#47;onsi&#47;ginkgo v1.16.4 h1:29JGrr5oVBm5ulCWet69zQkzWipVXIol6ygQUe&#47;EzNc=</span>
                                <span class="term-fg32">+github.com&#47;onsi&#47;ginkgo v1.16.4&#47;go.mod h1:dX+&#47;inL&#47;fNMqNlz0e9LfyB9TswhZpCVdJM&#47;Z6Vvnwo0=</span>
                                <span class="term-fg32">+github.com&#47;onsi&#47;gomega v1.4.1&#47;go.mod h1:C1qb7wdrVGGVU+Z6iS04AVkA3Q65CEZX59MT0QO5uiA=</span>
                                <span class="term-fg32">+github.com&#47;onsi&#47;gomega v1.4.3&#47;go.mod h1:ex+gbHU&#47;CVuBBDIJjb2X0qEXbFg53c61hWP&#47;1CpauHY=</span>
                                github.com&#47;onsi&#47;gomega v1.7.1&#47;go.mod h1:XdKZgCCFLUoM&#47;7CFJVPcG8C1xQ1AJ0vpAezJrB7JYyY=
                                github.com&#47;onsi&#47;gomega v1.10.1 h1:o0+MgICZLuZ7xjH7Vx6zS&#47;zcu93&#47;BEp1VwkIW1mEXCE=
                                github.com&#47;onsi&#47;gomega v1.10.1&#47;go.mod h1:iN09h71vgCQne3DLsj+A5owkum+a2tYe+TOCB1ybHNo=
                                <span class="term-fg31">-github.com&#47;opentracing&#47;opentracing-go v1.1.0 h1:pWlfV3Bxv7k65HYwkikxat0+s3pV4bsqf19k25Ur8rU=</span>
                                github.com&#47;opentracing&#47;opentracing-go v1.1.0&#47;go.mod h1:UkNAQd3GIcIGf0SeVgPpRdFStlNbqXla1AfSYxPUl2o=
                                <span class="term-fg32">+github.com&#47;opentracing&#47;opentracing-go v1.2.0 h1:uEJPy&#47;1a5RIPAJ0Ov+OIO8OxWu77jEv+1B0VhjKrZUs=</span>
                                <span class="term-fg32">+github.com&#47;opentracing&#47;opentracing-go v1.2.0&#47;go.mod h1:GxEUsuufX4nBwe+T+Wl9TAgYrxe9dPLANfrWvHYVTgc=</span>
                                github.com&#47;peterh&#47;liner v1.1.1-0.20190123174540-a2c9a5303de7 h1:oYW+YCJ1pachXTQmzR3rNLYGGz4g&#47;UgFcjb28p&#47;viDM=
                                github.com&#47;peterh&#47;liner v1.1.1-0.20190123174540-a2c9a5303de7&#47;go.mod h1:CRroGNssyjTd&#47;qIG2FyxByd2S8JEAZXBl4qUrZf8GS0=
                                github.com&#47;pingcap&#47;errors v0.11.4 h1:lFuQV&#47;oaUMGcD2tqt+01ROSmJs75VG1ToEOkZIZ4nE4=
                                <span class="term-fg36">@@ -452,8 +495,8 @@</span> github.com&#47;prometheus&#47;client_model v0.0.0-20180712105110-5c3871d89910&#47;go.mod h1:MbSGuTsp3dbXC40dX6PRTWyKYBIrTGTE9sqQNg2J8bo=
                                github.com&#47;prometheus&#47;client_model v0.0.0-20190129233127-fd36f4220a90&#47;go.mod h1:xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA=
                                github.com&#47;prometheus&#47;client_model v0.0.0-20190812154241-14fe0d1b01d4&#47;go.mod h1:xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA=
                                github.com&#47;prometheus&#47;client_model v0.2.0&#47;go.mod h1:xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA=
                                <span class="term-fg31">-github.com&#47;prometheus&#47;client_model v0.2.1-0.20210607210712-147c58e9608a h1:CmF68hwI0XsOQ5UwlBopMi2Ow4Pbg32akc4KIVCOm+Y=</span>
                                <span class="term-fg31">-github.com&#47;prometheus&#47;client_model v0.2.1-0.20210607210712-147c58e9608a&#47;go.mod h1:LDGWKZIo7rky3hgvBe+caln+Dr3dPggB5dvjtD7w9+w=</span>
                                <span class="term-fg32">+github.com&#47;prometheus&#47;client_model v0.4.0 h1:5lQXD3cAg1OXBf4Wq03gTrXHeaV0TQvGfUooCfx1yqY=</span>
                                <span class="term-fg32">+github.com&#47;prometheus&#47;client_model v0.4.0&#47;go.mod h1:oMQmHW1&#47;JoDwqLtg57MGgP&#47;Fb1CJEYF2imWWhWtMkYU=</span>
                                github.com&#47;prometheus&#47;common v0.4.1&#47;go.mod h1:TNfzLD0ON7rHzMJeJkieUDPYmFC7Snx&#47;y86RQel1bk4=
                                github.com&#47;prometheus&#47;common v0.10.0&#47;go.mod h1:Tlit&#47;dnDKsSWFlCLTWaA1cyBgKHSMdTB80sz&#47;V91rCo=
                                github.com&#47;prometheus&#47;common v0.26.0&#47;go.mod h1:M7rCNAaPfAosfx8veZJCuw84e35h3Cfd9VFqTh1DIvc=
                                <span class="term-fg36">@@ -528,6 +571,7 @@</span> go.opencensus.io v0.22.3&#47;go.mod h1:yxeiOL68Rb0Xd1ddK5vPZ&#47;oVn4vY4Ynel7k9FzqtOIw=
                                go.opencensus.io v0.22.4&#47;go.mod h1:yxeiOL68Rb0Xd1ddK5vPZ&#47;oVn4vY4Ynel7k9FzqtOIw=
                                go.uber.org&#47;automaxprocs v1.5.2 h1:2LxUOGiR3O6tw8ui5sZa2LAaHnsviZdVOUZw4fvbnME=
                                go.uber.org&#47;automaxprocs v1.5.2&#47;go.mod h1:eRbA25aqJrxAbsLO0xy5jVwPt7FQnRgjW+efnwa1WM0=
                                <span class="term-fg32">+golang.org&#47;x&#47;crypto v0.0.0-20170930174604-9419663f5a44&#47;go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=</span>
                                golang.org&#47;x&#47;crypto v0.0.0-20180904163835-0709b304e793&#47;go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=
                                golang.org&#47;x&#47;crypto v0.0.0-20190308221718-c2843e01d9a2&#47;go.mod h1:djNgcEr1&#47;C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=
                                golang.org&#47;x&#47;crypto v0.0.0-20190510104115-cbcb75029529&#47;go.mod h1:yigFU9vqHzYiE8UmvKecakEJjdnWj3jj499lnFckfCI=
                                <span class="term-fg36">@@ -537,8 +581,8 @@</span> golang.org&#47;x&#47;crypto v0.0.0-20200622213623-75b288015ac9&#47;go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=
                                golang.org&#47;x&#47;crypto v0.0.0-20200820211705-5c72a883971a&#47;go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=
                                golang.org&#47;x&#47;crypto v0.0.0-20201221181555-eec23a3978ad&#47;go.mod h1:jdWPYTVW3xRLrWPugEBEK3UY2ZEsg3UU495nc5E+M+I=
                                golang.org&#47;x&#47;crypto v0.0.0-20210921155107-089bfa567519&#47;go.mod h1:GvvjBRRGRdwPK5ydBHafDWAxML&#47;pGHZbMvKqRZ5+Abc=
                                <span class="term-fg31">-golang.org&#47;x&#47;crypto v0.22.0 h1:g1v0xeRhjcugydODzvb3mEM9SQ0HGp9s&#47;nh3COQ&#47;C30=</span>
                                <span class="term-fg31">-golang.org&#47;x&#47;crypto v0.22.0&#47;go.mod h1:vr6Su+7cTlO45qkww3VDJlzDn0ctJvRgYbC2NvXHt+M=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;crypto v0.24.0 h1:mnl8DM0o513X8fdIkmyFE&#47;5hTYxbwYOjDS&#47;+rK6qpRI=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;crypto v0.24.0&#47;go.mod h1:Z1PMYSOR5nyMcyAVAIQSKCDwalqy85Aqn1x3Ws4L5DM=</span>
                                golang.org&#47;x&#47;exp v0.0.0-20190121172915-509febef88a4&#47;go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
                                golang.org&#47;x&#47;exp v0.0.0-20190306152737-a1d7652674e8&#47;go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
                                golang.org&#47;x&#47;exp v0.0.0-20190510132918-efd6b22b2522&#47;go.mod h1:ZjyILWgesfNpC6sMxTJOJm9Kp84zZh5NQWvqDGG3Qr8=
                                <span class="term-fg36">@@ -574,6 +618,7 @@</span> golang.org&#47;x&#47;mod v0.3.0&#47;go.mod h1:s0Qsj1ACt9ePp&#47;hMypM3fl4fZqREWJwdYDEqhRiZZUA=
                                golang.org&#47;x&#47;mod v0.6.0-dev.0.20220419223038-86c51ed26bb4&#47;go.mod h1:jJ57K6gSWd91VN4djpZkiMVwK6gcyfeH4XE8wZrZaV4=
                                golang.org&#47;x&#47;mod v0.17.0 h1:zY54UmvipHiNd+pm+m0x9KhZ9hl1&#47;7QNMyxXbc6ICqA=
                                golang.org&#47;x&#47;mod v0.17.0&#47;go.mod h1:hTbmBsO62+eylJbnUtE2MGJUyE7QWk4xUqPFrRgJ+7c=
                                <span class="term-fg32">+golang.org&#47;x&#47;net v0.0.0-20180719180050-a680a1efc54d&#47;go.mod h1:mL1N&#47;T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=</span>
                                golang.org&#47;x&#47;net v0.0.0-20180724234803-3673e40ba225&#47;go.mod h1:mL1N&#47;T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=
                                golang.org&#47;x&#47;net v0.0.0-20180826012351-8a410e7b638d&#47;go.mod h1:mL1N&#47;T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=
                                golang.org&#47;x&#47;net v0.0.0-20180906233101-161cd47e91fd&#47;go.mod h1:mL1N&#47;T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=
                                <span class="term-fg36">@@ -610,8 +655,8 @@</span> golang.org&#47;x&#47;net v0.0.0-20210119194325-5f4716e94777&#47;go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
                                golang.org&#47;x&#47;net v0.0.0-20210226172049-e18ecbb05110&#47;go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
                                golang.org&#47;x&#47;net v0.0.0-20210525063256-abc453219eb5&#47;go.mod h1:9nx3DQGgdP8bBQD5qxJ1jj9UTztislL4KSBs9R2vV5Y=
                                golang.org&#47;x&#47;net v0.0.0-20220722155237-a158d28d115b&#47;go.mod h1:XRhObCWvk6IyKnWLug+ECip1KBveYUHfp+8e9klMJ9c=
                                <span class="term-fg31">-golang.org&#47;x&#47;net v0.24.0 h1:1PcaxkF854Fu3+lvBIx5SYn9wRlBzzcnHZSiaFFAb0w=</span>
                                <span class="term-fg31">-golang.org&#47;x&#47;net v0.24.0&#47;go.mod h1:2Q7sJY5mzlzWjKtYUEXSlBWCdyaioyXzRB2RtU8KVE8=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;net v0.26.0 h1:soB7SVo0PWrY4vPW&#47;+ay0jKDNScG2X9wFeYlXIvJsOQ=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;net v0.26.0&#47;go.mod h1:5YKkiSynbBIh3p6iOc&#47;vibscux0x38BZDkn8sCUPxHE=</span>
                                golang.org&#47;x&#47;oauth2 v0.0.0-20180821212333-d2e6202438be&#47;go.mod h1:N&#47;0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U=
                                golang.org&#47;x&#47;oauth2 v0.0.0-20190226205417-e64efc72b421&#47;go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=
                                golang.org&#47;x&#47;oauth2 v0.0.0-20190604053449-0f29369cfe45&#47;go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=
                                <span class="term-fg36">@@ -678,6 +723,7 @@</span> golang.org&#47;x&#47;sys v0.0.0-20200826173525-f9321e4c35a6&#47;go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
                                golang.org&#47;x&#47;sys v0.0.0-20200930185726-fdedc70b468f&#47;go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
                                golang.org&#47;x&#47;sys v0.0.0-20201101102859-da207088b7d1&#47;go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
                                golang.org&#47;x&#47;sys v0.0.0-20201119102817-f84b799fce68&#47;go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
                                <span class="term-fg32">+golang.org&#47;x&#47;sys v0.0.0-20210112080510-489259a85091&#47;go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=</span>
                                golang.org&#47;x&#47;sys v0.0.0-20210124154548-22da62e12c0c&#47;go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
                                golang.org&#47;x&#47;sys v0.0.0-20210423082822-04245dca01da&#47;go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
                                golang.org&#47;x&#47;sys v0.0.0-20210603081109-ebe580a85c40&#47;go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
                                <span class="term-fg36">@@ -693,8 +739,8 @@</span> golang.org&#47;x&#47;sys v0.1.0&#47;go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
                                golang.org&#47;x&#47;sys v0.5.0&#47;go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
                                golang.org&#47;x&#47;sys v0.8.0&#47;go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
                                golang.org&#47;x&#47;sys v0.11.0&#47;go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
                                <span class="term-fg31">-golang.org&#47;x&#47;sys v0.19.0 h1:q5f1RH2jigJ1MoAWp2KTp3gm5zAGFUTarQZ5U386+4o=</span>
                                <span class="term-fg31">-golang.org&#47;x&#47;sys v0.19.0&#47;go.mod h1:&#47;VUhepiaJMQUp4+oa&#47;7Zr1D23ma6VTLIYjOOTFZPUcA=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;sys v0.21.0 h1:rF+pYz3DAGSQAxAu1CbC7catZg4ebC4UIeIhKxBZvws=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;sys v0.21.0&#47;go.mod h1:&#47;VUhepiaJMQUp4+oa&#47;7Zr1D23ma6VTLIYjOOTFZPUcA=</span>
                                golang.org&#47;x&#47;term v0.0.0-20201117132131-f5c789dd3221&#47;go.mod h1:Nr5EML6q2oocZ2LXRh80K7BxOlk5&#47;8JxuGnuhpl+muw=
                                golang.org&#47;x&#47;term v0.0.0-20201126162022-7de9c90e9dd1&#47;go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=
                                golang.org&#47;x&#47;term v0.0.0-20210927222741-03fcf44c2211&#47;go.mod h1:jbD1KX2456YbFQfuXm&#47;mYQcufACuNUgVhRMnK&#47;tPxf8=
                                <span class="term-fg36">@@ -707,8 +753,8 @@</span> golang.org&#47;x&#47;text v0.3.5&#47;go.mod h1:5Zoc&#47;QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=
                                golang.org&#47;x&#47;text v0.3.6&#47;go.mod h1:5Zoc&#47;QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=
                                golang.org&#47;x&#47;text v0.3.7&#47;go.mod h1:u+2+&#47;6zg+i71rQMx5EYifcz6MCKuco9NR6JIITiCfzQ=
                                golang.org&#47;x&#47;text v0.3.8&#47;go.mod h1:E6s5w1FMmriuDzIBO73fBruAKo1PCIq6d2Q6DHfQ8WQ=
                                <span class="term-fg31">-golang.org&#47;x&#47;text v0.14.0 h1:ScX5w1eTa3QqT8oi6+ziP7dTV1S2+ALU0bI+0zXKWiQ=</span>
                                <span class="term-fg31">-golang.org&#47;x&#47;text v0.14.0&#47;go.mod h1:18ZOQIKpY8NJVqYksKHtTdi31H5itFRjB5&#47;qKTNYzSU=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;text v0.16.0 h1:a94ExnEXNtEwYLGJSIUxnWoxoRz&#47;ZcCsV63ROupILh4=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;text v0.16.0&#47;go.mod h1:GhwF1Be+LQoKShO3cGOHzqOgRrGaYc9AvblQOmPVHnI=</span>
                                golang.org&#47;x&#47;time v0.0.0-20181108054448-85acf8d2951c&#47;go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW&#47;OXSQhTDSoE431IQ=
                                golang.org&#47;x&#47;time v0.0.0-20190308202827-9d24e82272b4&#47;go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW&#47;OXSQhTDSoE431IQ=
                                golang.org&#47;x&#47;time v0.0.0-20191024005414-555d28b269f0&#47;go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW&#47;OXSQhTDSoE431IQ=
                                <span class="term-fg36">@@ -757,15 +803,17 @@</span> golang.org&#47;x&#47;tools v0.0.0-20200619180055-7c47624df98f&#47;go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh&#47;qjgUK9TdY2XT94GE=
                                golang.org&#47;x&#47;tools v0.0.0-20200729194436-6467de6f59a7&#47;go.mod h1:njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA=
                                golang.org&#47;x&#47;tools v0.0.0-20200804011535-6c149bb5ef0d&#47;go.mod h1:njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA=
                                golang.org&#47;x&#47;tools v0.0.0-20200825202427-b303f430e36d&#47;go.mod h1:njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA=
                                <span class="term-fg32">+golang.org&#47;x&#47;tools v0.0.0-20201224043029-2b0845dc783e&#47;go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=</span>
                                golang.org&#47;x&#47;tools v0.0.0-20210106214847-113979e3529a&#47;go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=
                                golang.org&#47;x&#47;tools v0.1.12&#47;go.mod h1:hNGJHUnrk76NpqgfD5Aqm5Crs+Hm0VOH&#47;i9J2+nxYbc=
                                <span class="term-fg31">-golang.org&#47;x&#47;tools v0.20.0 h1:hz&#47;CVckiOxybQvFw6h7b&#47;q80NTr9IUQb4s1IIzW7KNY=</span>
                                <span class="term-fg31">-golang.org&#47;x&#47;tools v0.20.0&#47;go.mod h1:WvitBU7JJf6A4jOdg4S1tviW9bhUxkgeCui&#47;0JHctQg=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;tools v0.21.1-0.20240508182429-e35e4ccd0d2d h1:vU5i&#47;LfpvrRCpgM&#47;VPfJLg5KjxD3E+hfT1SH+d9zLwg=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;tools v0.21.1-0.20240508182429-e35e4ccd0d2d&#47;go.mod h1:aiJjzUbINMkxbQROHiO6hDPo2LHcIPhhQsa9DLh0yGk=</span>
                                golang.org&#47;x&#47;xerrors v0.0.0-20190717185122-a985d3407aa7&#47;go.mod h1:I&#47;5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
                                golang.org&#47;x&#47;xerrors v0.0.0-20191011141410-1b5146add898&#47;go.mod h1:I&#47;5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
                                golang.org&#47;x&#47;xerrors v0.0.0-20191204190536-9bdfabe68543&#47;go.mod h1:I&#47;5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
                                <span class="term-fg31">-golang.org&#47;x&#47;xerrors v0.0.0-20200804184101-5ec99f83aff1 h1:go1bK&#47;D&#47;BFZV2I8cIQd1NKEZ+0owSTG1fDTci4IqFcE=</span>
                                golang.org&#47;x&#47;xerrors v0.0.0-20200804184101-5ec99f83aff1&#47;go.mod h1:I&#47;5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
                                <span class="term-fg32">+golang.org&#47;x&#47;xerrors v0.0.0-20220907171357-04be3eba64a2 h1:H2TDz8ibqkAF6YGhCdN3jS9O0&#47;s90v0rJh3X&#47;OLHEUk=</span>
                                <span class="term-fg32">+golang.org&#47;x&#47;xerrors v0.0.0-20220907171357-04be3eba64a2&#47;go.mod h1:K8+ghG5WaK9qNqU5K3HdILfMLy1f3aNYFI&#47;wnl100a8=</span>
                                google.golang.org&#47;api v0.4.0&#47;go.mod h1:8k5glujaEP+g9n7WNsDg8QP6cUVNI86fCNMcbazEtwE=
                                google.golang.org&#47;api v0.7.0&#47;go.mod h1:WtwebWUNSVBH&#47;HAw79HIFXZNqEvBhG+Ra+ax0hx3E3M=
                                google.golang.org&#47;api v0.8.0&#47;go.mod h1:o4eAsZoiT+ibD93RtjEohWalFOjRDx6CVaqeizhEnKg=
                                <span class="term-fg36">@@ -817,6 +865,10 @@</span> google.golang.org&#47;genproto v0.0.0-20200618031413-b414f8b61790&#47;go.mod h1:jDfRM7FcilCzHH&#47;e9qn6dsT145K34l5v+OpcnNgKAAA=
                                google.golang.org&#47;genproto v0.0.0-20200729003335-053ba62fc06f&#47;go.mod h1:FWY&#47;as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0&#47;+no=
                                google.golang.org&#47;genproto v0.0.0-20200804131852-c06518451d9c&#47;go.mod h1:FWY&#47;as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0&#47;+no=
                                google.golang.org&#47;genproto v0.0.0-20200825200019-8632dd797987&#47;go.mod h1:FWY&#47;as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0&#47;+no=
                                <span class="term-fg32">+google.golang.org&#47;genproto&#47;googleapis&#47;api v0.0.0-20240318140521-94a12d6c2237 h1:RFiFrvy37&#47;mpSpdySBDrUdipW&#47;dHwsRwh3J3+A9VgT4=</span>
                                <span class="term-fg32">+google.golang.org&#47;genproto&#47;googleapis&#47;api v0.0.0-20240318140521-94a12d6c2237&#47;go.mod h1:Z5Iiy3jtmioajWHDGFk7CeugTyHtPvMHA4UTmUkyalE=</span>
                                <span class="term-fg32">+google.golang.org&#47;genproto&#47;googleapis&#47;rpc v0.0.0-20240318140521-94a12d6c2237 h1:NnYq6UN9ReLM9&#47;Y01KWNOWyI5xQ9kbIms5GGJVwS&#47;Yc=</span>
                                <span class="term-fg32">+google.golang.org&#47;genproto&#47;googleapis&#47;rpc v0.0.0-20240318140521-94a12d6c2237&#47;go.mod h1:WtryC6hu0hhx87FDGxWCDptyssuo68sk10vYjF+T9fY=</span>
                                google.golang.org&#47;grpc v1.19.0&#47;go.mod h1:mqu4LbDTu4XGKhr4mRzUsmM4RtVoemTSY81AxZiDr8c=
                                google.golang.org&#47;grpc v1.20.1&#47;go.mod h1:10oTOabMzJvdu6&#47;UiuZezV6QK5dSlG84ov&#47;aaiqXj38=
                                google.golang.org&#47;grpc v1.21.1&#47;go.mod h1:oYelfM1adQP15Ek0mdvEgi9Df8B9CZIaU1084ijfRaM=
                                <span class="term-fg36">@@ -829,6 +881,8 @@</span> google.golang.org&#47;grpc v1.28.0&#47;go.mod h1:rpkK4SK4GF4Ach&#47;+MFLZUBavHOvF2JJB5uozKKal+60=
                                google.golang.org&#47;grpc v1.29.1&#47;go.mod h1:itym6AZVZYACWQqET3MqgPpjcuV5QH3BxFS3IjizoKk=
                                google.golang.org&#47;grpc v1.30.0&#47;go.mod h1:N36X2cJ7JwdamYAgDz+s+rVMFjt3numwzf&#47;HckM8pak=
                                google.golang.org&#47;grpc v1.31.0&#47;go.mod h1:N36X2cJ7JwdamYAgDz+s+rVMFjt3numwzf&#47;HckM8pak=
                                <span class="term-fg32">+google.golang.org&#47;grpc v1.64.1 h1:LKtvyfbX3UGVPFcGqJ9ItpVWW6oN&#47;2XqTxfAnwRRXiA=</span>
                                <span class="term-fg32">+google.golang.org&#47;grpc v1.64.1&#47;go.mod h1:hiQF4LFZelK2WKaP6W0L92zGHtiQdZxk8CrSdvyjeP0=</span>
                                google.golang.org&#47;protobuf v0.0.0-20200109180630-ec00e32a8dfd&#47;go.mod h1:DFci5gLYBciE7Vtevhsrf46CRTquxDuWsQurQQe4oz8=
                                google.golang.org&#47;protobuf v0.0.0-20200221191635-4d8936d0db64&#47;go.mod h1:kwYJMbMJ01Woi6D6+Kah6886xMZcty6N08ah7+eCXa0=
                                google.golang.org&#47;protobuf v0.0.0-20200228230310-ab0ca4ff8a60&#47;go.mod h1:cfTl7dwQJ+fmap5saPgwCLgHXTUD7jkjRqWcaiX5VyM=
                                <span class="term-fg36">@@ -841,8 +895,8 @@</span> google.golang.org&#47;protobuf v1.24.0&#47;go.mod h1:r&#47;3tXBNzIEhYS9I1OUVjXDlt8tc493IdKGjtUeSXeh4=
                                google.golang.org&#47;protobuf v1.25.0&#47;go.mod h1:9JNX74DMeImyA3h4bdi1ymwjUzf21&#47;xIlbajtzgsN7c=
                                google.golang.org&#47;protobuf v1.26.0-rc.1&#47;go.mod h1:jlhhOSvTdKEhbULTjvd4ARK9grFBp09yW+WbY&#47;TyQbw=
                                google.golang.org&#47;protobuf v1.26.0&#47;go.mod h1:9q0QmTI4eRPtz6boOQmLYwt+qCgq0jsYwAQnmE0givc=
                                <span class="term-fg31">-google.golang.org&#47;protobuf v1.33.0 h1:uNO2rsAINq&#47;JlFpSdYEKIZ0uKD&#47;R9cpdv0T+yoGwGmI=</span>
                                <span class="term-fg31">-google.golang.org&#47;protobuf v1.33.0&#47;go.mod h1:c6P6GXX6sHbq&#47;GpV6MGZEdwhWPcYBgnhAHhKbcUYpos=</span>
                                <span class="term-fg32">+google.golang.org&#47;protobuf v1.35.1 h1:m3LfL6&#47;Ca+fqnjnlqQXNpFPABW1UD7mjh8KO2mKFytA=</span>
                                <span class="term-fg32">+google.golang.org&#47;protobuf v1.35.1&#47;go.mod h1:9fA7Ob0pmnwhb644+1+CVWFRbNajQ6iRojtC&#47;QF5bRE=</span>
                                gopkg.in&#47;alecthomas&#47;kingpin.v2 v2.2.6&#47;go.mod h1:FMv+mEhP44yOT+4EoQTLFTRgOQ1FBLkstjWtayDeSgw=
                                gopkg.in&#47;check.v1 v0.0.0-20161208181325-20d25e280405&#47;go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof&#47;cbN4VW5Yz0=
                                gopkg.in&#47;check.v1 v1.0.0-20180628173108-788fd7840127&#47;go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof&#47;cbN4VW5Yz0=</div>
                        </div>


                    </div>
                    <div>

                    </div>
                </div>
            </div>


        </div>
    </main>
</div>

<footer class="col-xl-10 col-xxl-8 mx-auto px-3 pt-5 my-5 text-muted border-top">
    <p>Fork-diff overview of <a href="https://github.com/astriaorg/astria-geth"><code>astria-geth</code></a>, a fork of <a href="https://github.com/ethereum/go-ethereum"><code>go-ethereum</code></a>.</p>

</footer>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
<script type="text/javascript">
    const storedTheme = localStorage.getItem('theme')

    // Get the preferred theme from the user's OS
    const getPreferredTheme = () => {
        if (storedTheme) {
            return storedTheme
        }

        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
    }

    // Set the bootstrap theme
    const setTheme = function (theme) {
        document.documentElement.setAttribute('data-bs-theme', theme)
        if (theme === 'dark') {
            document.getElementById('dark-mode-toggle').setAttribute('checked', true)
            document.getElementById('dark-mode-icon').classList.replace('bi-brightness-high-fill', 'bi-brightness-low')
        } else {
            document.getElementById('dark-mode-toggle').setAttribute('checked', false)
            document.getElementById('dark-mode-icon').classList.replace('bi-brightness-low', 'bi-brightness-high-fill')
        }
    }

    // Returns true if the current theme is dark
    const isDark = () => {
        return document.documentElement.getAttribute('data-bs-theme') === 'dark'
    }

    // Toggles dark mode
    const toggleDarkMode = () => {
        const newTheme = isDark() ? 'light' : 'dark'
        setTheme(newTheme)
        localStorage.setItem('theme', newTheme)
    }

    // Set the preferred theme on page load
    window.onload = () => {
        // Set preferred theme
        setTheme(getPreferredTheme());
        // Initialize tooltips
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    }

    // Toggle dark mode when the toggle button is clicked
    addEventListener("click", (event) => {
        if (event.target.id === 'dark-mode-toggle') {
            toggleDarkMode();
            // De-focus the toggle
            document.activeElement.blur()
        }
    });
</script>
</body>
</html>
